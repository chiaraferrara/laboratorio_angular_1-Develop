"use strict";(self.webpackChunkViniliMaurizio=self.webpackChunkViniliMaurizio||[]).push([[179],{6304:(ft,Te,N)=>{N.d(Te,{Dh:()=>Ne,GT:()=>le,cc:()=>Ae,hO:()=>Be,on:()=>B,pX:()=>se,xv:()=>ge});var l=N(5879),X=N(120),L=N(2793);ft=N.hmd(ft);const te=["ngOnDestroy"],se=(Ve,vt,pt,re={})=>new Proxy(Ve,{get:(be,ne)=>pt.runOutsideAngular(()=>{var xe;if(Ve[ne])return!(null===(xe=re?.spy)||void 0===xe)&&xe.get&&re.spy.get(ne,Ve[ne]),Ve[ne];if(te.indexOf(ne)>-1)return()=>{};const Fe=vt.toPromise().then(Ze=>{const ce=Ze&&Ze[ne];return"function"==typeof ce?ce.bind(Ze):ce&&ce.then?ce.then(Et=>pt.run(()=>Et)):pt.run(()=>ce)});return new Proxy(()=>{},{get:(Ze,ce)=>Fe[ce],apply:(Ze,ce,Et)=>Fe.then(Gt=>{var Fi;const dr=Gt&&Gt(...Et);return!(null===(Fi=re?.spy)||void 0===Fi)&&Fi.apply&&re.spy.apply(ne,Et,dr),dr})})})}),le=(Ve,vt)=>{vt.forEach(pt=>{Object.getOwnPropertyNames(pt.prototype||pt).forEach(re=>{Object.defineProperty(Ve.prototype,re,Object.getOwnPropertyDescriptor(pt.prototype||pt,re))})})};class _e{constructor(vt){return vt}}const Ne=new l.OlP("angularfire2.app.options"),ge=new l.OlP("angularfire2.app.name");function B(Ve,vt,pt){const be="object"==typeof pt&&pt||{};be.name=be.name||"string"==typeof pt&&pt||"[DEFAULT]";const xe=X.Z.apps.filter(Fe=>Fe&&Fe.name===be.name)[0]||vt.runOutsideAngular(()=>X.Z.initializeApp(Ve,be));try{JSON.stringify(Ve)!==JSON.stringify(xe.options)&&G("error",`${xe.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(xe)}const G=(Ve,...vt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ve](...vt)},ee={provide:_e,useFactory:B,deps:[Ne,l.R0b,[new l.FiY,ge]]};let Be=(()=>{class Ve{constructor(pt){X.Z.registerVersion("angularfire",L.q4.full,"core"),X.Z.registerVersion("angularfire",L.q4.full,"app-compat"),X.Z.registerVersion("angular",l.q4F.full,pt.toString())}static initializeApp(pt,re){return{ngModule:Ve,providers:[{provide:Ne,useValue:pt},{provide:ge,useValue:re}]}}}return Ve.\u0275fac=function(pt){return new(pt||Ve)(l.LFG(l.Lbi))},Ve.\u0275mod=l.oAB({type:Ve}),Ve.\u0275inj=l.cJS({providers:[ee]}),Ve})();function Ae(Ve,vt,pt,re,be){const[,ne,xe]=globalThis.\u0275AngularfireInstanceCache.find(Fe=>Fe[0]===Ve)||[];if(ne)return function Ke(Ve,vt){try{return Ve.toString()===vt.toString()}catch{return Ve===vt}}(be,xe)||(qe("error",`${vt} was already initialized on the ${pt} Firebase App with different settings.${Oe?" You may need to reload as Firebase is not HMR aware.":""}`),qe("warn",{is:be,was:xe})),ne;{const Fe=re();return globalThis.\u0275AngularfireInstanceCache.push([Ve,Fe,be]),Fe}}const Oe=!!ft.hot,qe=(Ve,...vt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Ve](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(ft,Te,N)=>{N.d(Te,{q4:()=>is,iC:()=>Kd,HU:()=>Zd,vb:()=>sl,JM:()=>Ea});var l=N(5879),X=N(4097),L=N(5861),te=N(534),se=N(9058),le=N(4537),_e=N(7879);const Ne=(C,x)=>x.some(M=>C instanceof M);let ge,B;const Be=new WeakMap,Ae=new WeakMap,Ke=new WeakMap,Oe=new WeakMap,qe=new WeakMap;let pt={get(C,x,M){if(C instanceof IDBTransaction){if("done"===x)return Ae.get(C);if("objectStoreNames"===x)return C.objectStoreNames||Ke.get(C);if("store"===x)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return xe(C[x])},set:(C,x,M)=>(C[x]=M,!0),has:(C,x)=>C instanceof IDBTransaction&&("done"===x||"store"===x)||x in C};function ne(C){return"function"==typeof C?function be(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return B||(B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...x){return C.apply(Fe(this),x),xe(Be.get(this))}:function(...x){return xe(C.apply(Fe(this),x))}:function(x,...M){const P=C.call(Fe(this),x,...M);return Ke.set(P,x.sort?x.sort():[x]),xe(P)}}(C):(C instanceof IDBTransaction&&function vt(C){if(Ae.has(C))return;const x=new Promise((M,P)=>{const q=()=>{C.removeEventListener("complete",Q),C.removeEventListener("error",he),C.removeEventListener("abort",he)},Q=()=>{M(),q()},he=()=>{P(C.error||new DOMException("AbortError","AbortError")),q()};C.addEventListener("complete",Q),C.addEventListener("error",he),C.addEventListener("abort",he)});Ae.set(C,x)}(C),Ne(C,function G(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,pt):C)}function xe(C){if(C instanceof IDBRequest)return function Ve(C){const x=new Promise((M,P)=>{const q=()=>{C.removeEventListener("success",Q),C.removeEventListener("error",he)},Q=()=>{M(xe(C.result)),q()},he=()=>{P(C.error),q()};C.addEventListener("success",Q),C.addEventListener("error",he)});return x.then(M=>{M instanceof IDBCursor&&Be.set(M,C)}).catch(()=>{}),qe.set(x,C),x}(C);if(Oe.has(C))return Oe.get(C);const x=ne(C);return x!==C&&(Oe.set(C,x),qe.set(x,C)),x}const Fe=C=>qe.get(C),Et=["get","getKey","getAll","getAllKeys","count"],Gt=["put","add","delete","clear"],Fi=new Map;function dr(C,x){if(!(C instanceof IDBDatabase)||x in C||"string"!=typeof x)return;if(Fi.get(x))return Fi.get(x);const M=x.replace(/FromIndex$/,""),P=x!==M,q=Gt.includes(M);if(!(M in(P?IDBIndex:IDBObjectStore).prototype)||!q&&!Et.includes(M))return;const Q=function(){var he=(0,L.Z)(function*(Ye,...ze){const ht=this.transaction(Ye,q?"readwrite":"readonly");let Ot=ht.store;return P&&(Ot=Ot.index(ze.shift())),(yield Promise.all([Ot[M](...ze),q&&ht.done]))[0]});return function(ze){return he.apply(this,arguments)}}();return Fi.set(x,Q),Q}!function re(C){pt=C(pt)}(C=>({...C,get:(x,M,P)=>dr(x,M)||C.get(x,M,P),has:(x,M)=>!!dr(x,M)||C.has(x,M)}));const Ys="@firebase/installations",Jn="0.6.4",Jo=1e4,Qs=`w:${Jn}`,ue="FIS_v2",me="https://firebaseinstallations.googleapis.com/v1",we=36e5,st=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function $e(C){return C instanceof se.ZR&&C.code.includes("request-failed")}function Un({projectId:C}){return`${me}/projects/${C}/installations`}function gt(C){return{token:C.token,requestStatus:2,expiresIn:Xi(C.expiresIn),creationTime:Date.now()}}function en(C,x){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,L.Z)(function*(C,x){const P=(yield x.json()).error;return st.create("request-failed",{requestName:C,serverCode:P.code,serverMessage:P.message,serverStatus:P.status})})).apply(this,arguments)}function Sn({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function mi(C){return fn.apply(this,arguments)}function fn(){return(fn=(0,L.Z)(function*(C){const x=yield C();return x.status>=500&&x.status<600?C():x})).apply(this,arguments)}function Xi(C){return Number(C.replace("s","000"))}function kr(){return(kr=(0,L.Z)(function*({appConfig:C,heartbeatServiceProvider:x},{fid:M}){const P=Un(C),q=Sn(C),Q=x.getImmediate({optional:!0});if(Q){const ht=yield Q.getHeartbeatsHeader();ht&&q.append("x-firebase-client",ht)}const Ye={method:"POST",headers:q,body:JSON.stringify({fid:M,authVersion:ue,appId:C.appId,sdkVersion:Qs})},ze=yield mi(()=>fetch(P,Ye));if(ze.ok){const ht=yield ze.json();return{fid:ht.fid||M,registrationStatus:2,refreshToken:ht.refreshToken,authToken:gt(ht.authToken)}}throw yield en("Create Installation",ze)})).apply(this,arguments)}function Or(C){return new Promise(x=>{setTimeout(x,C)})}const Hl=/^[cdef][\w-]{21}$/,_t="";function qt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const M=function Mt(C){return function Do(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Hl.test(M)?M:_t}catch{return _t}}function mn(C){return`${C.appName}!${C.appId}`}const Nn=new Map;function hr(C,x){const M=mn(C);Ua(M,x),function tn(C,x){const M=function $t(){return!fr&&"BroadcastChannel"in self&&(fr=new BroadcastChannel("[Firebase] FID Change"),fr.onmessage=C=>{Ua(C.data.key,C.data.fid)}),fr}();M&&M.postMessage({key:C,fid:x}),function Rs(){0===Nn.size&&fr&&(fr.close(),fr=null)}()}(M,x)}function Ua(C,x){const M=Nn.get(C);if(M)for(const P of M)P(x)}let fr=null;const So="firebase-installations-database",Ao=1,Wr="firebase-installations-store";let Mo=null;function ds(){return Mo||(Mo=function Ze(C,x,{blocked:M,upgrade:P,blocking:q,terminated:Q}={}){const he=indexedDB.open(C,x),Ye=xe(he);return P&&he.addEventListener("upgradeneeded",ze=>{P(xe(he.result),ze.oldVersion,ze.newVersion,xe(he.transaction))}),M&&he.addEventListener("blocked",()=>M()),Ye.then(ze=>{Q&&ze.addEventListener("close",()=>Q()),q&&ze.addEventListener("versionchange",()=>q())}).catch(()=>{}),Ye}(So,Ao,{upgrade:(C,x)=>{0===x&&C.createObjectStore(Wr)}})),Mo}function gi(C,x){return _i.apply(this,arguments)}function _i(){return(_i=(0,L.Z)(function*(C,x){const M=mn(C),q=(yield ds()).transaction(Wr,"readwrite"),Q=q.objectStore(Wr),he=yield Q.get(M);return yield Q.put(x,M),yield q.done,(!he||he.fid!==x.fid)&&hr(C,x.fid),x})).apply(this,arguments)}function pr(C){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,L.Z)(function*(C){const x=mn(C),P=(yield ds()).transaction(Wr,"readwrite");yield P.objectStore(Wr).delete(x),yield P.done})).apply(this,arguments)}function Kr(C,x){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,L.Z)(function*(C,x){const M=mn(C),q=(yield ds()).transaction(Wr,"readwrite"),Q=q.objectStore(Wr),he=yield Q.get(M),Ye=x(he);return void 0===Ye?yield Q.delete(M):yield Q.put(Ye,M),yield q.done,Ye&&(!he||he.fid!==Ye.fid)&&hr(C,Ye.fid),Ye})).apply(this,arguments)}function $(C){return H.apply(this,arguments)}function H(){return H=(0,L.Z)(function*(C){let x;const M=yield Kr(C.appConfig,P=>{const q=function K(C){return kt(C||{fid:qt(),registrationStatus:0})}(P),Q=function Ce(C,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(st.create("app-offline"))};const M={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},P=function ae(C,x){return et.apply(this,arguments)}(C,M);return{installationEntry:M,registrationPromise:P}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:Dt(C)}:{installationEntry:x}}(C,q);return x=Q.registrationPromise,Q.installationEntry});return M.fid===_t?{installationEntry:yield x}:{installationEntry:M,registrationPromise:x}}),H.apply(this,arguments)}function et(){return et=(0,L.Z)(function*(C,x){try{const M=yield function xo(C,x){return kr.apply(this,arguments)}(C,x);return gi(C.appConfig,M)}catch(M){throw $e(M)&&409===M.customData.serverCode?yield pr(C.appConfig):yield gi(C.appConfig,{fid:x.fid,registrationStatus:0}),M}}),et.apply(this,arguments)}function Dt(C){return It.apply(this,arguments)}function It(){return(It=(0,L.Z)(function*(C){let x=yield yi(C.appConfig);for(;1===x.registrationStatus;)yield Or(100),x=yield yi(C.appConfig);if(0===x.registrationStatus){const{installationEntry:M,registrationPromise:P}=yield $(C);return P||M}return x})).apply(this,arguments)}function yi(C){return Kr(C,x=>{if(!x)throw st.create("installation-not-found");return kt(x)})}function kt(C){return function Bn(C){return 1===C.registrationStatus&&C.registrationTime+Jo<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function ui(){return(ui=(0,L.Z)(function*({appConfig:C,heartbeatServiceProvider:x},M){const P=function ks(C,{fid:x}){return`${Un(C)}/${x}/authTokens:generate`}(C,M),q=function An(C,{refreshToken:x}){const M=Sn(C);return M.append("Authorization",function Rr(C){return`${ue} ${C}`}(x)),M}(C,M),Q=x.getImmediate({optional:!0});if(Q){const ht=yield Q.getHeartbeatsHeader();ht&&q.append("x-firebase-client",ht)}const Ye={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Qs,appId:C.appId}})},ze=yield mi(()=>fetch(P,Ye));if(ze.ok)return gt(yield ze.json());throw yield en("Generate Auth Token",ze)})).apply(this,arguments)}function Js(C){return zl.apply(this,arguments)}function zl(){return zl=(0,L.Z)(function*(C,x=!1){let M;const P=yield Kr(C.appConfig,Q=>{if(!Nt(Q))throw st.create("not-registered");const he=Q.authToken;if(!x&&function nn(C){return 2===C.requestStatus&&!function ei(C){const x=Date.now();return x<C.creationTime||C.creationTime+C.expiresIn<x+we}(C)}(he))return Q;if(1===he.requestStatus)return M=function pe(C,x){return ie.apply(this,arguments)}(C,x),Q;{if(!navigator.onLine)throw st.create("app-offline");const Ye=function ti(C){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:x})}(Q);return M=function ot(C,x){return We.apply(this,arguments)}(C,Ye),Ye}});return M?yield M:P.authToken}),zl.apply(this,arguments)}function ie(){return(ie=(0,L.Z)(function*(C,x){let M=yield ke(C.appConfig);for(;1===M.authToken.requestStatus;)yield Or(100),M=yield ke(C.appConfig);const P=M.authToken;return 0===P.requestStatus?Js(C,x):P})).apply(this,arguments)}function ke(C){return Kr(C,x=>{if(!Nt(x))throw st.create("not-registered");return function Vi(C){return 1===C.requestStatus&&C.requestTime+Jo<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function We(){return We=(0,L.Z)(function*(C,x){try{const M=yield function Qt(C,x){return ui.apply(this,arguments)}(C,x),P=Object.assign(Object.assign({},x),{authToken:M});return yield gi(C.appConfig,P),M}catch(M){if(!$e(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const P=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield gi(C.appConfig,P)}else yield pr(C.appConfig);throw M}}),We.apply(this,arguments)}function Nt(C){return void 0!==C&&2===C.registrationStatus}function Ba(){return(Ba=(0,L.Z)(function*(C){const x=C,{installationEntry:M,registrationPromise:P}=yield $(x);return P?P.catch(console.error):Js(x).catch(console.error),M.fid})).apply(this,arguments)}function Xo(){return Xo=(0,L.Z)(function*(C,x=!1){const M=C;return yield function _d(C){return Qr.apply(this,arguments)}(M),(yield Js(M,x)).token}),Xo.apply(this,arguments)}function Qr(){return(Qr=(0,L.Z)(function*(C){const{registrationPromise:x}=yield $(C);x&&(yield x)})).apply(this,arguments)}function ta(C){return st.create("missing-app-config-values",{valueName:C})}const jc="installations",Ey=C=>{const x=C.getProvider("app").getImmediate(),M=function mr(C){if(!C||!C.options)throw ta("App Configuration");if(!C.name)throw ta("App Name");const x=["projectId","apiKey","appId"];for(const M of x)if(!C.options[M])throw ta(M);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(x);return{app:x,appConfig:M,heartbeatServiceProvider:(0,te._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},na=C=>{const x=C.getProvider("app").getImmediate(),M=(0,te._getProvider)(x,jc).getImmediate();return{getId:()=>function Os(C){return Ba.apply(this,arguments)}(M),getToken:q=>function gd(C){return Xo.apply(this,arguments)}(M,q)}};(function rf(){(0,te._registerComponent)(new le.wA(jc,Ey,"PUBLIC")),(0,te._registerComponent)(new le.wA("installations-internal",na,"PRIVATE"))})(),(0,te.registerVersion)(Ys,Jn),(0,te.registerVersion)(Ys,Jn,"esm2017");const ja="@firebase/remote-config",er=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ct{constructor(x,M,P,q){this.client=x,this.storage=M,this.storageCache=P,this.logger=q}isCachedDataFresh(x,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const P=Date.now()-M,q=P<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${P}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${q}.`),q}fetch(x){var M=this;return(0,L.Z)(function*(){const[P,q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(q&&M.isCachedDataFresh(x.cacheMaxAgeMillis,P))return q;x.eTag=q&&q.eTag;const Q=yield M.client.fetch(x),he=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Q.status&&he.push(M.storage.setLastSuccessfulFetchResponse(Q)),yield Promise.all(he),Q})()}}function Rn(C=navigator){return C.languages&&C.languages[0]||C.language}class or{constructor(x,M,P,q,Q,he){this.firebaseInstallations=x,this.sdkVersion=M,this.namespace=P,this.projectId=q,this.apiKey=Q,this.appId=he}fetch(x){var M=this;return(0,L.Z)(function*(){const[P,q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),he=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ye={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},ze={sdk_version:M.sdkVersion,app_instance_id:P,app_instance_id_token:q,app_id:M.appId,language_code:Rn()},ht={method:"POST",headers:Ye,body:JSON.stringify(ze)},Ot=fetch(he,ht),St=new Promise((Si,Us)=>{x.signal.addEventListener(()=>{const wr=new Error("The operation was aborted.");wr.name="AbortError",Us(wr)})});let Gn;try{yield Promise.race([Ot,St]),Gn=yield Ot}catch(Si){let Us="fetch-client-network";throw"AbortError"===Si?.name&&(Us="fetch-timeout"),er.create(Us,{originalErrorMessage:Si?.message})}let ii=Gn.status;const ao=Gn.headers.get("ETag")||void 0;let qn,lo;if(200===Gn.status){let Si;try{Si=yield Gn.json()}catch(Us){throw er.create("fetch-client-parse",{originalErrorMessage:Us?.message})}qn=Si.entries,lo=Si.state}if("INSTANCE_STATE_UNSPECIFIED"===lo?ii=500:"NO_CHANGE"===lo?ii=304:("NO_TEMPLATE"===lo||"EMPTY_CONFIG"===lo)&&(qn={}),304!==ii&&200!==ii)throw er.create("fetch-status",{httpStatus:ii});return{status:ii,eTag:ao,config:qn}})()}}class ql{constructor(x,M){this.client=x,this.storage=M}fetch(x){var M=this;return(0,L.Z)(function*(){const P=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(x,P)})()}attemptFetch(x,{throttleEndTimeMillis:M,backoffCount:P}){var q=this;return(0,L.Z)(function*(){yield function ia(C,x){return new Promise((M,P)=>{const q=Math.max(x-Date.now(),0),Q=setTimeout(M,q);C.addEventListener(()=>{clearTimeout(Q),P(er.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,M);try{const Q=yield q.client.fetch(x);return yield q.storage.deleteThrottleMetadata(),Q}catch(Q){if(!function Ui(C){if(!(C instanceof se.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Q))throw Q;const he={throttleEndTimeMillis:Date.now()+(0,se.$s)(P),backoffCount:P+1};return yield q.storage.setThrottleMetadata(he),q.attemptFetch(x,he)}})()}}class za{constructor(x,M,P,q,Q){this.app=x,this._client=M,this._storageCache=P,this._storage=q,this._logger=Q,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tt(C,x){const M=C.target.error||void 0;return er.create(x,{originalErrorMessage:M&&M?.message})}const Bi="app_namespace_store";class wd{constructor(x,M,P,q=function kn(){return new Promise((C,x)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=P=>{x(Tt(P,"storage-open"))},M.onsuccess=P=>{C(P.target.result)},M.onupgradeneeded=P=>{0===P.oldVersion&&P.target.result.createObjectStore(Bi,{keyPath:"compositeKey"})}}catch(M){x(er.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=x,this.appName=M,this.namespace=P,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var M=this;return(0,L.Z)(function*(){const P=yield M.openDbPromise;return new Promise((q,Q)=>{const Ye=P.transaction([Bi],"readonly").objectStore(Bi),ze=M.createCompositeKey(x);try{const ht=Ye.get(ze);ht.onerror=Ot=>{Q(Tt(Ot,"storage-get"))},ht.onsuccess=Ot=>{const St=Ot.target.result;q(St?St.value:void 0)}}catch(ht){Q(er.create("storage-get",{originalErrorMessage:ht?.message}))}})})()}set(x,M){var P=this;return(0,L.Z)(function*(){const q=yield P.openDbPromise;return new Promise((Q,he)=>{const ze=q.transaction([Bi],"readwrite").objectStore(Bi),ht=P.createCompositeKey(x);try{const Ot=ze.put({compositeKey:ht,value:M});Ot.onerror=St=>{he(Tt(St,"storage-set"))},Ot.onsuccess=()=>{Q()}}catch(Ot){he(er.create("storage-set",{originalErrorMessage:Ot?.message}))}})})()}delete(x){var M=this;return(0,L.Z)(function*(){const P=yield M.openDbPromise;return new Promise((q,Q)=>{const Ye=P.transaction([Bi],"readwrite").objectStore(Bi),ze=M.createCompositeKey(x);try{const ht=Ye.delete(ze);ht.onerror=Ot=>{Q(Tt(Ot,"storage-delete"))},ht.onsuccess=()=>{q()}}catch(ht){Q(er.create("storage-delete",{originalErrorMessage:ht?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class ra{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,L.Z)(function*(){const M=x.storage.getLastFetchStatus(),P=x.storage.getLastSuccessfulFetchTimestampMillis(),q=x.storage.getActiveConfig(),Q=yield M;Q&&(x.lastFetchStatus=Q);const he=yield P;he&&(x.lastSuccessfulFetchTimestampMillis=he);const Ye=yield q;Ye&&(x.activeConfig=Ye)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Ro(){return es.apply(this,arguments)}function es(){return(es=(0,L.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function vi(){(0,te._registerComponent)(new le.wA("remote-config",function C(x,{instanceIdentifier:M}){const P=x.getProvider("app").getImmediate(),q=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw er.create("registration-window");if(!(0,se.hl)())throw er.create("indexed-db-unavailable");const{projectId:Q,apiKey:he,appId:Ye}=P.options;if(!Q)throw er.create("registration-project-id");if(!he)throw er.create("registration-api-key");if(!Ye)throw er.create("registration-app-id");const ze=new wd(Ye,P.name,M=M||"firebase"),ht=new ra(ze),Ot=new _e.Yd(ja);Ot.logLevel=_e.in.ERROR;const St=new or(q,te.SDK_VERSION,M,Q,he,Ye),Gn=new ql(St,ze),ii=new Ct(Gn,ze,ht,Ot),ao=new za(P,ii,ht,ze,Ot);return function rr(C){const x=(0,se.m9)(C);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(ao),ao},"PUBLIC").setMultipleInstances(!0)),(0,te.registerVersion)(ja,"0.4.4"),(0,te.registerVersion)(ja,"0.4.4","esm2017")}();const Zl=(C,x)=>x.some(M=>C instanceof M);let ko,Bt;const Wc=new WeakMap,bi=new WeakMap,sa=new WeakMap,wi=new WeakMap,Oo=new WeakMap;let Ei={get(C,x,M){if(C instanceof IDBTransaction){if("done"===x)return bi.get(C);if("objectStoreNames"===x)return C.objectStoreNames||sa.get(C);if("store"===x)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Nr(C[x])},set:(C,x,M)=>(C[x]=M,!0),has:(C,x)=>C instanceof IDBTransaction&&("done"===x||"store"===x)||x in C};function oa(C){return"function"==typeof C?function Kc(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $a(){return Bt||(Bt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...x){return C.apply(gr(this),x),Nr(Wc.get(this))}:function(...x){return Nr(C.apply(gr(this),x))}:function(x,...M){const P=C.call(gr(this),x,...M);return sa.set(P,x.sort?x.sort():[x]),Nr(P)}}(C):(C instanceof IDBTransaction&&function Cm(C){if(bi.has(C))return;const x=new Promise((M,P)=>{const q=()=>{C.removeEventListener("complete",Q),C.removeEventListener("error",he),C.removeEventListener("abort",he)},Q=()=>{M(),q()},he=()=>{P(C.error||new DOMException("AbortError","AbortError")),q()};C.addEventListener("complete",Q),C.addEventListener("error",he),C.addEventListener("abort",he)});bi.set(C,x)}(C),Zl(C,function Cy(){return ko||(ko=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Ei):C)}function Nr(C){if(C instanceof IDBRequest)return function ji(C){const x=new Promise((M,P)=>{const q=()=>{C.removeEventListener("success",Q),C.removeEventListener("error",he)},Q=()=>{M(Nr(C.result)),q()},he=()=>{P(C.error),q()};C.addEventListener("success",Q),C.addEventListener("error",he)});return x.then(M=>{M instanceof IDBCursor&&Wc.set(M,C)}).catch(()=>{}),Oo.set(x,C),x}(C);if(wi.has(C))return wi.get(C);const x=oa(C);return x!==C&&(wi.set(C,x),Oo.set(x,C)),x}const gr=C=>Oo.get(C);function Ga(C,x,{blocked:M,upgrade:P,blocking:q,terminated:Q}={}){const he=indexedDB.open(C,x),Ye=Nr(he);return P&&he.addEventListener("upgradeneeded",ze=>{P(Nr(he.result),ze.oldVersion,ze.newVersion,Nr(he.transaction))}),M&&he.addEventListener("blocked",()=>M()),Ye.then(ze=>{Q&&ze.addEventListener("close",()=>Q()),q&&ze.addEventListener("versionchange",()=>q())}).catch(()=>{}),Ye}function qa(C,{blocked:x}={}){const M=indexedDB.deleteDatabase(C);return x&&M.addEventListener("blocked",()=>x()),Nr(M).then(()=>{})}const Ed=["get","getKey","getAll","getAllKeys","count"],Iy=["put","add","delete","clear"],Yc=new Map;function Cd(C,x){if(!(C instanceof IDBDatabase)||x in C||"string"!=typeof x)return;if(Yc.get(x))return Yc.get(x);const M=x.replace(/FromIndex$/,""),P=x!==M,q=Iy.includes(M);if(!(M in(P?IDBIndex:IDBObjectStore).prototype)||!q&&!Ed.includes(M))return;const Q=function(){var he=(0,L.Z)(function*(Ye,...ze){const ht=this.transaction(Ye,q?"readwrite":"readonly");let Ot=ht.store;return P&&(Ot=Ot.index(ze.shift())),(yield Promise.all([Ot[M](...ze),q&&ht.done]))[0]});return function(ze){return he.apply(this,arguments)}}();return Yc.set(x,Q),Q}!function tr(C){Ei=C(Ei)}(C=>({...C,get:(x,M,P)=>Cd(x,M)||C.get(x,M,P),has:(x,M)=>!!Cd(x,M)||C.has(x,M)}));const cf="/firebase-messaging-sw.js",Id="/firebase-cloud-messaging-push-scope",uf="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ty="https://fcmregistrations.googleapis.com/v1",On="google.c.a.c_id",xy="google.c.a.c_l",Im="google.c.a.ts";var df=function(C){return C.PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",C}(df||{});function ro(C){const x=new Uint8Array(C);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Td(C){const M=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),P=atob(M),q=new Uint8Array(P.length);for(let Q=0;Q<P.length;++Q)q[Q]=P.charCodeAt(Q);return q}const Za="fcm_token_details_db",xd=5,Wl="fcm_token_object_Store";function Kl(){return Kl=(0,L.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Q=>Q.name).includes(Za))return null;let x=null;return(yield Ga(Za,xd,{upgrade:(P=(0,L.Z)(function*(q,Q,he,Ye){var ze;if(Q<2||!q.objectStoreNames.contains(Wl))return;const ht=Ye.objectStore(Wl),Ot=yield ht.index("fcmSenderId").get(C);if(yield ht.clear(),Ot)if(2===Q){const St=Ot;if(!St.auth||!St.p256dh||!St.endpoint)return;x={token:St.fcmToken,createTime:null!==(ze=St.createTime)&&void 0!==ze?ze:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:ro(St.vapidKey)}}}else if(3===Q){const St=Ot;x={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:ro(St.auth),p256dh:ro(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:ro(St.vapidKey)}}}else if(4===Q){const St=Ot;x={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:ro(St.auth),p256dh:ro(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:ro(St.vapidKey)}}}}),function(Q,he,Ye,ze){return P.apply(this,arguments)})})).close(),yield qa(Za),yield qa("fcm_vapid_details_db"),yield qa("undefined"),function aa(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:x}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var P}),Kl.apply(this,arguments)}const Ns="firebase-messaging-database",hf=1,ts="firebase-messaging-store";let di=null;function la(){return di||(di=Ga(Ns,hf,{upgrade:(C,x)=>{0===x&&C.createObjectStore(ts)}})),di}function _r(C){return ca.apply(this,arguments)}function ca(){return ca=(0,L.Z)(function*(C){const x=Ql(C),P=yield(yield la()).transaction(ts).objectStore(ts).get(x);if(P)return P;{const q=yield function B0(C){return Kl.apply(this,arguments)}(C.appConfig.senderId);if(q)return yield Dd(C,q),q}}),ca.apply(this,arguments)}function Dd(C,x){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,L.Z)(function*(C,x){const M=Ql(C),q=(yield la()).transaction(ts,"readwrite");return yield q.objectStore(ts).put(x,M),yield q.done,x})).apply(this,arguments)}function Wa(){return(Wa=(0,L.Z)(function*(C){const x=Ql(C),P=(yield la()).transaction(ts,"readwrite");yield P.objectStore(ts).delete(x),yield P.done})).apply(this,arguments)}function Ql({appConfig:C}){return C.appId}const Ci=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Sd(C,x){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,L.Z)(function*(C,x){const M=yield mf(C),P=Dy(x),q={method:"POST",headers:M,body:JSON.stringify(P)};let Q;try{Q=yield(yield fetch(Xl(C.appConfig),q)).json()}catch(he){throw Ci.create("token-subscribe-failed",{errorInfo:he?.toString()})}if(Q.error)throw Ci.create("token-subscribe-failed",{errorInfo:Q.error.message});if(!Q.token)throw Ci.create("token-subscribe-no-token");return Q.token})).apply(this,arguments)}function Jl(){return(Jl=(0,L.Z)(function*(C,x){const M=yield mf(C),P=Dy(x.subscriptionOptions),q={method:"PATCH",headers:M,body:JSON.stringify(P)};let Q;try{Q=yield(yield fetch(`${Xl(C.appConfig)}/${x.token}`,q)).json()}catch(he){throw Ci.create("token-update-failed",{errorInfo:he?.toString()})}if(Q.error)throw Ci.create("token-update-failed",{errorInfo:Q.error.message});if(!Q.token)throw Ci.create("token-update-no-token");return Q.token})).apply(this,arguments)}function ua(C,x){return Po.apply(this,arguments)}function Po(){return(Po=(0,L.Z)(function*(C,x){const P={method:"DELETE",headers:yield mf(C)};try{const Q=yield(yield fetch(`${Xl(C.appConfig)}/${x}`,P)).json();if(Q.error)throw Ci.create("token-unsubscribe-failed",{errorInfo:Q.error.message})}catch(q){throw Ci.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function Xl({projectId:C}){return`${Ty}/projects/${C}/registrations`}function mf(C){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,L.Z)(function*({appConfig:C,installations:x}){const M=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Dy({p256dh:C,auth:x,endpoint:M,vapidKey:P}){const q={web:{endpoint:M,auth:x,p256dh:C}};return P!==uf&&(q.web.applicationPubKey=P),q}const gf=6048e5;function Rd(){return Rd=(0,L.Z)(function*(C){const x=yield function ec(C,x){return kd.apply(this,arguments)}(C.swRegistration,C.vapidKey),M={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:x.endpoint,auth:ro(x.getKey("auth")),p256dh:ro(x.getKey("p256dh"))},P=yield _r(C.firebaseDependencies);if(P){if(function yf(C,x){return x.vapidKey===C.vapidKey&&x.endpoint===C.endpoint&&x.auth===C.auth&&x.p256dh===C.p256dh}(P.subscriptionOptions,M))return Date.now()>=P.createTime+gf?function xm(C,x){return Ka.apply(this,arguments)}(C,{token:P.token,createTime:Date.now(),subscriptionOptions:M}):P.token;try{yield ua(C.firebaseDependencies,P.token)}catch(q){console.warn(q)}return Ay(C.firebaseDependencies,M)}return Ay(C.firebaseDependencies,M)}),Rd.apply(this,arguments)}function Jc(){return Jc=(0,L.Z)(function*(C){const x=yield _r(C.firebaseDependencies);x&&(yield ua(C.firebaseDependencies,x.token),yield function ff(C){return Wa.apply(this,arguments)}(C.firebaseDependencies));const M=yield C.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Jc.apply(this,arguments)}function Ka(){return Ka=(0,L.Z)(function*(C,x){try{const M=yield function Md(C,x){return Jl.apply(this,arguments)}(C.firebaseDependencies,x),P=Object.assign(Object.assign({},x),{token:M,createTime:Date.now()});return yield Dd(C.firebaseDependencies,P),M}catch(M){throw yield function _f(C){return Jc.apply(this,arguments)}(C),M}}),Ka.apply(this,arguments)}function Ay(C,x){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,L.Z)(function*(C,x){const P={token:yield Sd(C,x),createTime:Date.now(),subscriptionOptions:x};return yield Dd(C,P),P.token})).apply(this,arguments)}function kd(){return(kd=(0,L.Z)(function*(C,x){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Td(x)})})).apply(this,arguments)}function Xc(C){const x={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function tc(C,x){if(!x.notification)return;C.notification={};const M=x.notification.title;M&&(C.notification.title=M);const P=x.notification.body;P&&(C.notification.body=P);const q=x.notification.image;q&&(C.notification.image=q);const Q=x.notification.icon;Q&&(C.notification.icon=Q)}(x,C),function Dm(C,x){x.data&&(C.data=x.data)}(x,C),function Od(C,x){var M,P,q,Q,he;if(!(x.fcmOptions||null!==(M=x.notification)&&void 0!==M&&M.click_action))return;C.fcmOptions={};const Ye=null!==(q=null===(P=x.fcmOptions)||void 0===P?void 0:P.link)&&void 0!==q?q:null===(Q=x.notification)||void 0===Q?void 0:Q.click_action;Ye&&(C.fcmOptions.link=Ye);const ze=null===(he=x.fcmOptions)||void 0===he?void 0:he.analytics_label;ze&&(C.fcmOptions.analyticsLabel=ze)}(x,C),x}function Pd(C,x){const M=[];for(let P=0;P<C.length;P++)M.push(C.charAt(P)),P<x.length&&M.push(x.charAt(P));return M.join("")}function Nd(C){return Ci.create("missing-app-config-values",{valueName:C})}Pd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Am{constructor(x,M,P){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function Sm(C){if(!C||!C.options)throw Nd("App Configuration Object");if(!C.name)throw Nd("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:M}=C;for(const P of x)if(!M[P])throw Nd(P);return{appName:C.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:q,installations:M,analyticsProvider:P}}_delete(){return Promise.resolve()}}function nc(){return(nc=(0,L.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(cf,{scope:Id}),C.swRegistration.update().catch(()=>{})}catch(x){throw Ci.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function da(){return(da=(0,L.Z)(function*(C,x){if(!x&&!C.swRegistration&&(yield function eu(C){return nc.apply(this,arguments)}(C)),x||!C.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw Ci.create("invalid-sw-registration");C.swRegistration=x}})).apply(this,arguments)}function ha(){return(ha=(0,L.Z)(function*(C,x){x?C.vapidKey=x:C.vapidKey||(C.vapidKey=uf)})).apply(this,arguments)}function ic(){return ic=(0,L.Z)(function*(C,x){if(!navigator)throw Ci.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ci.create("permission-blocked");return yield function Fs(C,x){return ha.apply(this,arguments)}(C,x?.vapidKey),yield function Mm(C,x){return da.apply(this,arguments)}(C,x?.serviceWorkerRegistration),function Sy(C){return Rd.apply(this,arguments)}(C)}),ic.apply(this,arguments)}function hs(){return(hs=(0,L.Z)(function*(C,x,M){const P=function bf(C){switch(C){case df.NOTIFICATION_CLICKED:return"notification_open";case df.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(P,{message_id:M[On],message_name:M[xy],message_time:M[Im],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ln(){return ln=(0,L.Z)(function*(C,x){const M=x.data;if(!M.isFirebaseMessaging)return;C.onMessageHandler&&M.messageType===df.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Xc(M)):C.onMessageHandler.next(Xc(M)));const P=M.data;(function My(C){return"object"==typeof C&&!!C&&On in C})(P)&&"1"===P["google.c.a.e"]&&(yield function Rm(C,x,M){return hs.apply(this,arguments)}(C,M.messageType,P))}),ln.apply(this,arguments)}const No="@firebase/messaging",Hi=C=>{const x=new Am(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function wf(C,x){return ln.apply(this,arguments)}(x,M)),x},km=C=>{const x=C.getProvider("messaging").getImmediate();return{getToken:P=>function vf(C,x){return ic.apply(this,arguments)}(x,P)}};function pa(){return zi.apply(this,arguments)}function zi(){return(zi=(0,L.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fd(){(0,te._registerComponent)(new le.wA("messaging",Hi,"PUBLIC")),(0,te._registerComponent)(new le.wA("messaging-internal",km,"PRIVATE")),(0,te.registerVersion)(No,"0.12.4"),(0,te.registerVersion)(No,"0.12.4","esm2017")}();const Tn="analytics",ky="firebase_id",xt="origin",Ef=6e4,Cf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nu="https://www.googletagmanager.com/gtag/js",Ii=new _e.Yd("@firebase/analytics"),$i=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ls(C){if(!C.startsWith(nu)){const x=$i.create("invalid-gtag-resource",{gtagURL:C});return Ii.warn(x.message),""}return C}function rc(C){return Promise.all(C.map(x=>x.catch(M=>M)))}function De(){return(De=(0,L.Z)(function*(C,x,M,P,q,Q){const he=P[q];try{if(he)yield x[he];else{const ze=(yield rc(M)).find(ht=>ht.measurementId===q);ze&&(yield x[ze.appId])}}catch(Ye){Ii.error(Ye)}C("config",q,Q)})).apply(this,arguments)}function fs(){return(fs=(0,L.Z)(function*(C,x,M,P,q){try{let Q=[];if(q&&q.send_to){let he=q.send_to;Array.isArray(he)||(he=[he]);const Ye=yield rc(M);for(const ze of he){const ht=Ye.find(St=>St.measurementId===ze),Ot=ht&&x[ht.appId];if(!Ot){Q=[];break}Q.push(Ot)}}0===Q.length&&(Q=Object.values(x)),yield Promise.all(Q),C("event",P,q||{})}catch(Q){Ii.error(Q)}})).apply(this,arguments)}const Ja=30,Ud=new class ma{constructor(x={},M=1e3){this.throttleMetadata=x,this.intervalMillis=M}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,M){this.throttleMetadata[x]=M}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Fm(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Bd(){return(Bd=(0,L.Z)(function*(C){var x;const{appId:M,apiKey:P}=C,q={method:"GET",headers:Fm(P)},Q=Cf.replace("{app-id}",M),he=yield fetch(Q,q);if(200!==he.status&&304!==he.status){let Ye="";try{const ze=yield he.json();null!==(x=ze.error)&&void 0!==x&&x.message&&(Ye=ze.error.message)}catch{}throw $i.create("config-fetch-failed",{httpStatus:he.status,responseMessage:Ye})}return he.json()})).apply(this,arguments)}function Fr(){return(Fr=(0,L.Z)(function*(C,x=Ud,M){const{appId:P,apiKey:q,measurementId:Q}=C.options;if(!P)throw $i.create("no-app-id");if(!q){if(Q)return{measurementId:Q,appId:P};throw $i.create("no-api-key")}const he=x.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new Hd;return setTimeout((0,L.Z)(function*(){Ye.abort()}),void 0!==M?M:Ef),Tf({appId:P,apiKey:q,measurementId:Q},he,Ye,x)})).apply(this,arguments)}function Tf(C,x,M){return ga.apply(this,arguments)}function ga(){return ga=(0,L.Z)(function*(C,{throttleEndTimeMillis:x,backoffCount:M},P,q=Ud){var Q;const{appId:he,measurementId:Ye}=C;try{yield function ps(C,x){return new Promise((M,P)=>{const q=Math.max(x-Date.now(),0),Q=setTimeout(M,q);C.addEventListener(()=>{clearTimeout(Q),P($i.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(P,x)}catch(ze){if(Ye)return Ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${ze?.message}]`),{appId:he,measurementId:Ye};throw ze}try{const ze=yield function j0(C){return Bd.apply(this,arguments)}(C);return q.deleteThrottleMetadata(he),ze}catch(ze){const ht=ze;if(!function jd(C){if(!(C instanceof se.ZR&&C.customData))return!1;const x=Number(C.customData.httpStatus);return 429===x||500===x||503===x||504===x}(ht)){if(q.deleteThrottleMetadata(he),Ye)return Ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${ht?.message}]`),{appId:he,measurementId:Ye};throw ze}const Ot=503===Number(null===(Q=ht?.customData)||void 0===Q?void 0:Q.httpStatus)?(0,se.$s)(M,q.intervalMillis,Ja):(0,se.$s)(M,q.intervalMillis),St={throttleEndTimeMillis:Date.now()+Ot,backoffCount:M+1};return q.setThrottleMetadata(he,St),Ii.debug(`Calling attemptFetch again in ${Ot} millis`),Tf(C,St,P,q)}}),ga.apply(this,arguments)}class Hd{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let au,xi;function lu(){return(lu=(0,L.Z)(function*(C,x,M,P,q){if(q&&q.global)C("event",M,P);else{const Q=yield x;C("event",M,Object.assign(Object.assign({},P),{send_to:Q}))}})).apply(this,arguments)}function so(){return(so=(0,L.Z)(function*(){if(!(0,se.hl)())return Ii.warn($i.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(C){return Ii.warn($i.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Lo(){return Lo=(0,L.Z)(function*(C,x,M,P,q,Q,he){var Ye;const ze=function vr(C){return Fr.apply(this,arguments)}(C);ze.then(ii=>{M[ii.measurementId]=ii.appId,C.options.measurementId&&ii.measurementId!==C.options.measurementId&&Ii.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${ii.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ii=>Ii.error(ii)),x.push(ze);const ht=function Gi(){return so.apply(this,arguments)}().then(ii=>{if(ii)return P.getId()}),[Ot,St]=yield Promise.all([ze,ht]);(function ou(C){const x=window.document.getElementsByTagName("script");for(const M of Object.values(x))if(M.src&&M.src.includes(nu)&&M.src.includes(C))return M;return null})(Q)||function ru(C,x){const M=function iu(C,x){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(C,x)),M}("firebase-js-sdk-policy",{createScriptURL:Ls}),P=document.createElement("script"),q=`${nu}?l=${C}&id=${x}`;P.src=M?M?.createScriptURL(q):q,P.async=!0,document.head.appendChild(P)}(Q,Ot.measurementId),xi&&(q("consent","default",xi),function uu(C){xi=C}(void 0)),q("js",new Date);const Gn=null!==(Ye=he?.config)&&void 0!==Ye?Ye:{};return Gn[xt]="firebase",Gn.update=!0,null!=St&&(Gn[ky]=St),q("config",Ot.measurementId,Gn),au&&(q("set",au),function sc(C){au=C}(void 0)),Ot.measurementId}),Lo.apply(this,arguments)}class ms{constructor(x){this.app=x}_delete(){return delete tt[this.app.options.appId],Promise.resolve()}}let tt={},Af=[];const zd={};let gs,pn,_a="dataLayer",el=!1;function tl(C,x,M){!function du(){const C=[];if((0,se.ru)()&&C.push("This is a browser extension environment."),(0,se.zI)()||C.push("Cookies are not available."),C.length>0){const x=C.map((P,q)=>`(${q+1}) ${P}`).join(" "),M=$i.create("invalid-analytics-context",{errorInfo:x});Ii.warn(M.message)}}();const P=C.options.appId;if(!P)throw $i.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw $i.create("no-api-key");Ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=tt[P])throw $i.create("already-exists",{id:P});if(!el){!function Oy(C){let x=[];Array.isArray(window[C])?x=window[C]:window[C]=x}(_a);const{wrappedGtag:Q,gtagCore:he}=function Ti(C,x,M,P,q){let Q=function(...he){window[P].push(arguments)};return window[q]&&"function"==typeof window[q]&&(Q=window[q]),window[q]=function su(C,x,M,P){function Q(){return Q=(0,L.Z)(function*(he,...Ye){try{if("event"===he){const[ze,ht]=Ye;yield function Kt(C,x,M,P,q){return fs.apply(this,arguments)}(C,x,M,ze,ht)}else if("config"===he){const[ze,ht]=Ye;yield function Vd(C,x,M,P,q,Q){return De.apply(this,arguments)}(C,x,M,P,ze,ht)}else if("consent"===he){const[ze]=Ye;C("consent","update",ze)}else if("get"===he){const[ze,ht,Ot]=Ye;C("get",ze,ht,Ot)}else if("set"===he){const[ze]=Ye;C("set",ze)}else C(he,...Ye)}catch(ze){Ii.error(ze)}}),Q.apply(this,arguments)}return function q(he){return Q.apply(this,arguments)}}(Q,C,x,M),{gtagCore:Q,wrappedGtag:window[q]}}(tt,Af,zd,_a,"gtag");pn=Q,gs=he,el=!0}return tt[P]=function yn(C,x,M,P,q,Q,he){return Lo.apply(this,arguments)}(C,Af,zd,x,gs,_a,M),new ms(C)}function va(){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,L.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const rl="@firebase/analytics";!function $n(){(0,te._registerComponent)(new le.wA(Tn,(x,{options:M})=>tl(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,te._registerComponent)(new le.wA("analytics-internal",function C(x){try{const M=x.getProvider(Tn).getImmediate();return{logEvent:(P,q,Q)=>function Di(C,x,M,P){C=(0,se.m9)(C),function Py(C,x,M,P,q){return lu.apply(this,arguments)}(pn,tt[C.app.options.appId],x,M,P).catch(q=>Ii.error(q))}(M,P,q,Q)}}catch(M){throw $i.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,te.registerVersion)(rl,"0.10.0"),(0,te.registerVersion)(rl,"0.10.0","esm2017")}();var ar=N(1954),hi=N(2631);const oc=new class qi extends hi.v{}(class Vs extends ar.o{constructor(x,M){super(x,M),this.scheduler=x,this.work=M}schedule(x,M=0){return M>0?super.schedule(x,M):(this.delay=M,this.state=x,this.scheduler.flush(this),this)}execute(x,M){return M>0||this.closed?super.execute(x,M):this._execute(x,M)}requestAsyncId(x,M,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(x,M,P):(x.flush(this),0)}});var Gd=N(6321),Zi=N(9397),Bo=N(5137),vn=N(3093);const is=new l.GfV("7.6.1"),ac="__angularfire_symbol__analyticsIsSupportedValue",Vr="__angularfire_symbol__analyticsIsSupported",ba="__angularfire_symbol__remoteConfigIsSupportedValue",fu="__angularfire_symbol__remoteConfigIsSupported",lc="__angularfire_symbol__messagingIsSupportedValue",jo="__angularfire_symbol__messagingIsSupported";function Ea(C,x,M){if(x){if(1===x.length)return x[0];const Q=x.filter(he=>he.app===M);if(1===Q.length)return Q[0]}return M.container.getProvider(C).getImmediate({optional:!0})}globalThis[Vr]||(globalThis[Vr]=va().then(C=>globalThis[ac]=C).catch(()=>globalThis[ac]=!1)),globalThis[jo]||(globalThis[jo]=pa().then(C=>globalThis[lc]=C).catch(()=>globalThis[lc]=!1)),globalThis[fu]||(globalThis[fu]=Ro().then(C=>globalThis[ba]=C).catch(()=>globalThis[ba]=!1));const sl=(C,x)=>{const M=x?[x]:(0,X.C6)(),P=[];return M.forEach(q=>{q.container.getProvider(C).instances.forEach(he=>{P.includes(he)||P.push(he)})}),P};function oo(){}class qd{constructor(x,M=oc){this.zone=x,this.delegate=M}now(){return this.delegate.now()}schedule(x,M,P){const q=this.zone;return this.delegate.schedule(function(he){q.runGuarded(()=>{x.apply(this,[he])})},M,P)}}class br{constructor(x){this.zone=x,this.task=null}call(x,M){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oo,{},oo,oo)),M.pipe((0,Zi.b)({next:P,complete:P,error:P})).subscribe(x).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zd=(()=>{class C{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new qd(Zone.current)),this.insideAngular=M.run(()=>new qd(Zone.current,Gd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(M){return new(M||C)(l.LFG(l.R0b))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function jn(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Kd(C){return jn(),function pu(C){return function(M){return(M=M.lift(new br(C.ngZone))).pipe((0,Bo.R)(C.outsideAngular),(0,vn.Q)(C.insideAngular))}}(jn())(C)}},9058:(ft,Te,N)=>{N.d(Te,{$s:()=>pr,BH:()=>ne,DV:()=>Xi,Dv:()=>Ua,G6:()=>Qs,GJ:()=>mi,L:()=>ge,LL:()=>Se,Pz:()=>be,Sg:()=>xe,UG:()=>ce,UI:()=>xo,US:()=>le,Wj:()=>$t,Wl:()=>gt,Yr:()=>Jo,ZB:()=>ee,ZR:()=>Ie,aH:()=>re,b$:()=>Fi,cI:()=>Un,dS:()=>So,eu:()=>me,g5:()=>L,gK:()=>tn,gQ:()=>Mt,h$:()=>Ne,hl:()=>ue,hu:()=>X,jU:()=>Et,lb:()=>Rs,m9:()=>Yr,ne:()=>mn,p$:()=>G,pd:()=>qt,r3:()=>fn,ru:()=>Gt,tV:()=>B,uI:()=>Ze,ug:()=>Ao,vZ:()=>kr,w1:()=>Ys,w9:()=>An,xO:()=>Hl,xb:()=>Rr,z$:()=>Fe,zI:()=>we,zd:()=>_t});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},X=function($,H){if(!$)throw L(H)},L=function($){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+$)},te=function($){const H=[];let K=0;for(let Ce=0;Ce<$.length;Ce++){let ae=$.charCodeAt(Ce);ae<128?H[K++]=ae:ae<2048?(H[K++]=ae>>6|192,H[K++]=63&ae|128):55296==(64512&ae)&&Ce+1<$.length&&56320==(64512&$.charCodeAt(Ce+1))?(ae=65536+((1023&ae)<<10)+(1023&$.charCodeAt(++Ce)),H[K++]=ae>>18|240,H[K++]=ae>>12&63|128,H[K++]=ae>>6&63|128,H[K++]=63&ae|128):(H[K++]=ae>>12|224,H[K++]=ae>>6&63|128,H[K++]=63&ae|128)}return H},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,H){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ce=[];for(let ae=0;ae<$.length;ae+=3){const et=$[ae],Dt=ae+1<$.length,It=Dt?$[ae+1]:0,yi=ae+2<$.length,kt=yi?$[ae+2]:0;let ui=(15&It)<<2|kt>>6,ks=63&kt;yi||(ks=64,Dt||(ui=64)),Ce.push(K[et>>2],K[(3&et)<<4|It>>4],K[ui],K[ks])}return Ce.join("")},encodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa($):this.encodeByteArray(te($),H)},decodeString($,H){return this.HAS_NATIVE_SUPPORT&&!H?atob($):function($){const H=[];let K=0,Ce=0;for(;K<$.length;){const ae=$[K++];if(ae<128)H[Ce++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const et=$[K++];H[Ce++]=String.fromCharCode((31&ae)<<6|63&et)}else if(ae>239&&ae<365){const yi=((7&ae)<<18|(63&$[K++])<<12|(63&$[K++])<<6|63&$[K++])-65536;H[Ce++]=String.fromCharCode(55296+(yi>>10)),H[Ce++]=String.fromCharCode(56320+(1023&yi))}else{const et=$[K++],Dt=$[K++];H[Ce++]=String.fromCharCode((15&ae)<<12|(63&et)<<6|63&Dt)}}return H.join("")}(this.decodeStringToByteArray($,H))},decodeStringToByteArray($,H){this.init_();const K=H?this.charToByteMapWebSafe_:this.charToByteMap_,Ce=[];for(let ae=0;ae<$.length;){const et=K[$.charAt(ae++)],It=ae<$.length?K[$.charAt(ae)]:0;++ae;const kt=ae<$.length?K[$.charAt(ae)]:64;++ae;const Qt=ae<$.length?K[$.charAt(ae)]:64;if(++ae,null==et||null==It||null==kt||null==Qt)throw new _e;Ce.push(et<<2|It>>4),64!==kt&&(Ce.push(It<<4&240|kt>>2),64!==Qt&&Ce.push(kt<<6&192|Qt))}return Ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ne=function($){const H=te($);return le.encodeByteArray(H,!0)},ge=function($){return Ne($).replace(/\./g,"")},B=function($){try{return le.decodeString($,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function G($){return ee(void 0,$)}function ee($,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return H}for(const K in H)!H.hasOwnProperty(K)||!Be(K)||($[K]=ee($[K],H[K]));return $}function Be($){return"__proto__"!==$}const Ve=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=$&&B($[1]);return H&&JSON.parse(H)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},re=()=>{var $;return null===($=Ve())||void 0===$?void 0:$.config},be=$=>{var H;return null===(H=Ve())||void 0===H?void 0:H[`_${$}`]};class ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,K)=>{this.resolve=H,this.reject=K})}wrapCallback(H){return(K,Ce)=>{K?this.reject(K):this.resolve(Ce),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(K):H(K,Ce))}}}function xe($,H){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ce=H||"demo-project",ae=$.iat||0,et=$.sub||$.user_id;if(!et)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${Ce}`,aud:Ce,iat:ae,exp:ae+3600,auth_time:ae,sub:et,user_id:et,firebase:{sign_in_provider:"custom",identities:{}}},$);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Dt)),""].join(".")}function Fe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function ce(){var $;const H=null===($=Ve())||void 0===$?void 0:$.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Et(){return"object"==typeof self&&self.self===self}function Gt(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Fi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ys(){const $=Fe();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function Jo(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function Qs(){return!ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){try{return"object"==typeof indexedDB}catch{return!1}}function me(){return new Promise(($,H)=>{try{let K=!0;const Ce="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(Ce);ae.onsuccess=()=>{ae.result.close(),K||self.indexedDB.deleteDatabase(Ce),$(!0)},ae.onupgradeneeded=()=>{K=!1},ae.onerror=()=>{var et;H((null===(et=ae.error)||void 0===et?void 0:et.message)||"")}}catch(K){H(K)}})}function we(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ie extends Error{constructor(H,K,Ce){super(K),this.code=H,this.customData=Ce,this.name="FirebaseError",Object.setPrototypeOf(this,Ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Se.prototype.create)}}class Se{constructor(H,K,Ce){this.service=H,this.serviceName=K,this.errors=Ce}create(H,...K){const Ce=K[0]||{},ae=`${this.service}/${H}`,et=this.errors[H],Dt=et?function st($,H){return $.replace($e,(K,Ce)=>{const ae=H[Ce];return null!=ae?String(ae):`<${Ce}?>`})}(et,Ce):"Error";return new Ie(ae,`${this.serviceName}: ${Dt} (${ae}).`,Ce)}}const $e=/\{\$([^}]+)}/g;function Un($){return JSON.parse($)}function gt($){return JSON.stringify($)}const en=function($){let H={},K={},Ce={},ae="";try{const et=$.split(".");H=Un(B(et[0])||""),K=Un(B(et[1])||""),ae=et[2],Ce=K.d||{},delete K.d}catch{}return{header:H,claims:K,data:Ce,signature:ae}},An=function($){const K=en($).claims;return!!K&&"object"==typeof K&&K.hasOwnProperty("iat")},mi=function($){const H=en($).claims;return"object"==typeof H&&!0===H.admin};function fn($,H){return Object.prototype.hasOwnProperty.call($,H)}function Xi($,H){if(Object.prototype.hasOwnProperty.call($,H))return $[H]}function Rr($){for(const H in $)if(Object.prototype.hasOwnProperty.call($,H))return!1;return!0}function xo($,H,K){const Ce={};for(const ae in $)Object.prototype.hasOwnProperty.call($,ae)&&(Ce[ae]=H.call(K,$[ae],ae,$));return Ce}function kr($,H){if($===H)return!0;const K=Object.keys($),Ce=Object.keys(H);for(const ae of K){if(!Ce.includes(ae))return!1;const et=$[ae],Dt=H[ae];if(Or(et)&&Or(Dt)){if(!kr(et,Dt))return!1}else if(et!==Dt)return!1}for(const ae of Ce)if(!K.includes(ae))return!1;return!0}function Or($){return null!==$&&"object"==typeof $}function Hl($){const H=[];for(const[K,Ce]of Object.entries($))Array.isArray(Ce)?Ce.forEach(ae=>{H.push(encodeURIComponent(K)+"="+encodeURIComponent(ae))}):H.push(encodeURIComponent(K)+"="+encodeURIComponent(Ce));return H.length?"&"+H.join("&"):""}function _t($){const H={};return $.replace(/^\?/,"").split("&").forEach(Ce=>{if(Ce){const[ae,et]=Ce.split("=");H[decodeURIComponent(ae)]=decodeURIComponent(et)}}),H}function qt($){const H=$.indexOf("?");if(!H)return"";const K=$.indexOf("#",H);return $.substring(H,K>0?K:void 0)}class Mt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,K){K||(K=0);const Ce=this.W_;if("string"==typeof H)for(let Qt=0;Qt<16;Qt++)Ce[Qt]=H.charCodeAt(K)<<24|H.charCodeAt(K+1)<<16|H.charCodeAt(K+2)<<8|H.charCodeAt(K+3),K+=4;else for(let Qt=0;Qt<16;Qt++)Ce[Qt]=H[K]<<24|H[K+1]<<16|H[K+2]<<8|H[K+3],K+=4;for(let Qt=16;Qt<80;Qt++){const ui=Ce[Qt-3]^Ce[Qt-8]^Ce[Qt-14]^Ce[Qt-16];Ce[Qt]=4294967295&(ui<<1|ui>>>31)}let kt,Bn,ae=this.chain_[0],et=this.chain_[1],Dt=this.chain_[2],It=this.chain_[3],yi=this.chain_[4];for(let Qt=0;Qt<80;Qt++){Qt<40?Qt<20?(kt=It^et&(Dt^It),Bn=1518500249):(kt=et^Dt^It,Bn=1859775393):Qt<60?(kt=et&Dt|It&(et|Dt),Bn=2400959708):(kt=et^Dt^It,Bn=3395469782);const ui=(ae<<5|ae>>>27)+kt+yi+Bn+Ce[Qt]&4294967295;yi=It,It=Dt,Dt=4294967295&(et<<30|et>>>2),et=ae,ae=ui}this.chain_[0]=this.chain_[0]+ae&4294967295,this.chain_[1]=this.chain_[1]+et&4294967295,this.chain_[2]=this.chain_[2]+Dt&4294967295,this.chain_[3]=this.chain_[3]+It&4294967295,this.chain_[4]=this.chain_[4]+yi&4294967295}update(H,K){if(null==H)return;void 0===K&&(K=H.length);const Ce=K-this.blockSize;let ae=0;const et=this.buf_;let Dt=this.inbuf_;for(;ae<K;){if(0===Dt)for(;ae<=Ce;)this.compress_(H,ae),ae+=this.blockSize;if("string"==typeof H){for(;ae<K;)if(et[Dt]=H.charCodeAt(ae),++Dt,++ae,Dt===this.blockSize){this.compress_(et),Dt=0;break}}else for(;ae<K;)if(et[Dt]=H[ae],++Dt,++ae,Dt===this.blockSize){this.compress_(et),Dt=0;break}}this.inbuf_=Dt,this.total_+=K}digest(){const H=[];let K=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ae=this.blockSize-1;ae>=56;ae--)this.buf_[ae]=255&K,K/=256;this.compress_(this.buf_);let Ce=0;for(let ae=0;ae<5;ae++)for(let et=24;et>=0;et-=8)H[Ce]=this.chain_[ae]>>et&255,++Ce;return H}}function mn($,H){const K=new Nn($,H);return K.subscribe.bind(K)}class Nn{constructor(H,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{H(this)}).catch(Ce=>{this.error(Ce)})}next(H){this.forEachObserver(K=>{K.next(H)})}error(H){this.forEachObserver(K=>{K.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,K,Ce){let ae;if(void 0===H&&void 0===K&&void 0===Ce)throw new Error("Missing Observer.");ae=function un($,H){if("object"!=typeof $||null===$)return!1;for(const K of H)if(K in $&&"function"==typeof $[K])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:K,complete:Ce},void 0===ae.next&&(ae.next=Li),void 0===ae.error&&(ae.error=Li),void 0===ae.complete&&(ae.complete=Li);const et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch{}}),this.observers.push(ae),et}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,H)}sendOne(H,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{K(this.observers[H])}catch(Ce){typeof console<"u"&&console.error&&console.error(Ce)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Li(){}const Ua=function($,H,K,Ce){let ae;if(Ce<H?ae="at least "+H:Ce>K&&(ae=0===K?"none":"no more than "+K),ae)throw new Error($+" failed: Was called with "+Ce+(1===Ce?" argument.":" arguments.")+" Expects "+ae+".")};function tn($,H){return`${$} failed: ${H} argument `}function $t($,H,K,Ce){if((!Ce||K)&&"function"!=typeof K)throw new Error(tn($,H)+"must be a valid function.")}function Rs($,H,K,Ce){if((!Ce||K)&&("object"!=typeof K||null===K))throw new Error(tn($,H)+"must be a valid context object.")}const So=function($){const H=[];let K=0;for(let Ce=0;Ce<$.length;Ce++){let ae=$.charCodeAt(Ce);if(ae>=55296&&ae<=56319){const et=ae-55296;Ce++,X(Ce<$.length,"Surrogate pair missing trail surrogate."),ae=65536+(et<<10)+($.charCodeAt(Ce)-56320)}ae<128?H[K++]=ae:ae<2048?(H[K++]=ae>>6|192,H[K++]=63&ae|128):ae<65536?(H[K++]=ae>>12|224,H[K++]=ae>>6&63|128,H[K++]=63&ae|128):(H[K++]=ae>>18|240,H[K++]=ae>>12&63|128,H[K++]=ae>>6&63|128,H[K++]=63&ae|128)}return H},Ao=function($){let H=0;for(let K=0;K<$.length;K++){const Ce=$.charCodeAt(K);Ce<128?H++:Ce<2048?H+=2:Ce>=55296&&Ce<=56319?(H+=4,K++):H+=3}return H},Mo=1e3,ds=2,gi=144e5,_i=.5;function pr($,H=Mo,K=ds){const Ce=H*Math.pow(K,$),ae=Math.round(_i*Ce*(Math.random()-.5)*2);return Math.min(gi,Ce+ae)}function Yr($){return $&&$._delegate?$._delegate:$}},1564:(ft,Te,N)=>{var l=N(5879);let X=null;function L(){return X}class se{}const le=new l.OlP("DocumentToken");let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(ge)},providedIn:"platform"})}return n})();const Ne=new l.OlP("Location Initialized");let ge=(()=>{class n extends _e{constructor(){super(),this._doc=(0,l.f3M)(le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function B(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function G(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ee(n){return n&&"?"!==n[0]?"?"+n:n}let Be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Ke)},providedIn:"root"})}return n})();const Ae=new l.OlP("appBaseHref");let Ke=(()=>{class n extends Be{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return B(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ee(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const u=this.prepareExternalUrl(r+ee(o));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){const u=this.prepareExternalUrl(r+ee(o));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(_e),l.LFG(Ae,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Oe=(()=>{class n extends Be{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=B(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let u=this.prepareExternalUrl(r+ee(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,o){let u=this.prepareExternalUrl(r+ee(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(_e),l.LFG(Ae,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})(),qe=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function re(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(G(pt(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ee(i))}normalize(t){return n.stripTrailingSlash(function vt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,pt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ee(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ee(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=ee;static#t=this.joinWithSlash=B;static#n=this.stripTrailingSlash=G;static#i=this.\u0275fac=function(i){return new(i||n)(l.LFG(Be))};static#r=this.\u0275prov=l.Yz7({token:n,factory:function(){return function Ve(){return new qe((0,l.LFG)(Be))}()},providedIn:"root"})}return n})();function pt(n){return n.replace(/\/index.html$/,"")}var Fe=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Fe||{}),Ze=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ze||{}),ce=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(ce||{}),Et=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Et||{});function me(n,e){return fn((0,l.cg1)(n)[l.wAp.DateFormat],e)}function we(n,e){return fn((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function Ee(n,e){return fn((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function Ie(n,e){const t=(0,l.cg1)(n),i=t[l.wAp.NumberSymbols][e];if(typeof i>"u"){if(e===Et.CurrencyDecimal)return t[l.wAp.NumberSymbols][Et.Decimal];if(e===Et.CurrencyGroup)return t[l.wAp.NumberSymbols][Et.Group]}return i}function Pt(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Xi(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Or=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Do={},Hl=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var _t=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(_t||{}),qt=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(qt||{}),Mt=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Mt||{});function mn(n,e,t,i){let r=function H(n){if(Ce(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(h=>+h);return Nn(r,o-1,u)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Or))return function K(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-t,h=Number(n[5]||0)-i,m=Number(n[6]||0),y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,u,h,m,y),e}(i)}const e=new Date(n);if(!Ce(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=hr(t,e)||e;let h,u=[];for(;e;){if(h=Hl.exec(e),!h){u.push(e);break}{u=u.concat(h.slice(1));const I=u.pop();if(!I)break;e=I}}let m=r.getTimezoneOffset();i&&(m=Kr(i,m),r=function $(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function Yr(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(Kr(e,r)-r))}(r,i,!0));let y="";return u.forEach(I=>{const D=function Xn(n){if(pr[n])return pr[n];let e;switch(n){case"G":case"GG":case"GGG":e=$t(Mt.Eras,Ze.Abbreviated);break;case"GGGG":e=$t(Mt.Eras,Ze.Wide);break;case"GGGGG":e=$t(Mt.Eras,Ze.Narrow);break;case"y":e=tn(qt.FullYear,1,0,!1,!0);break;case"yy":e=tn(qt.FullYear,2,0,!0,!0);break;case"yyy":e=tn(qt.FullYear,3,0,!1,!0);break;case"yyyy":e=tn(qt.FullYear,4,0,!1,!0);break;case"Y":e=_i(1);break;case"YY":e=_i(2,!0);break;case"YYY":e=_i(3);break;case"YYYY":e=_i(4);break;case"M":case"L":e=tn(qt.Month,1,1);break;case"MM":case"LL":e=tn(qt.Month,2,1);break;case"MMM":e=$t(Mt.Months,Ze.Abbreviated);break;case"MMMM":e=$t(Mt.Months,Ze.Wide);break;case"MMMMM":e=$t(Mt.Months,Ze.Narrow);break;case"LLL":e=$t(Mt.Months,Ze.Abbreviated,Fe.Standalone);break;case"LLLL":e=$t(Mt.Months,Ze.Wide,Fe.Standalone);break;case"LLLLL":e=$t(Mt.Months,Ze.Narrow,Fe.Standalone);break;case"w":e=gi(1);break;case"ww":e=gi(2);break;case"W":e=gi(1,!0);break;case"d":e=tn(qt.Date,1);break;case"dd":e=tn(qt.Date,2);break;case"c":case"cc":e=tn(qt.Day,1);break;case"ccc":e=$t(Mt.Days,Ze.Abbreviated,Fe.Standalone);break;case"cccc":e=$t(Mt.Days,Ze.Wide,Fe.Standalone);break;case"ccccc":e=$t(Mt.Days,Ze.Narrow,Fe.Standalone);break;case"cccccc":e=$t(Mt.Days,Ze.Short,Fe.Standalone);break;case"E":case"EE":case"EEE":e=$t(Mt.Days,Ze.Abbreviated);break;case"EEEE":e=$t(Mt.Days,Ze.Wide);break;case"EEEEE":e=$t(Mt.Days,Ze.Narrow);break;case"EEEEEE":e=$t(Mt.Days,Ze.Short);break;case"a":case"aa":case"aaa":e=$t(Mt.DayPeriods,Ze.Abbreviated);break;case"aaaa":e=$t(Mt.DayPeriods,Ze.Wide);break;case"aaaaa":e=$t(Mt.DayPeriods,Ze.Narrow);break;case"b":case"bb":case"bbb":e=$t(Mt.DayPeriods,Ze.Abbreviated,Fe.Standalone,!0);break;case"bbbb":e=$t(Mt.DayPeriods,Ze.Wide,Fe.Standalone,!0);break;case"bbbbb":e=$t(Mt.DayPeriods,Ze.Narrow,Fe.Standalone,!0);break;case"B":case"BB":case"BBB":e=$t(Mt.DayPeriods,Ze.Abbreviated,Fe.Format,!0);break;case"BBBB":e=$t(Mt.DayPeriods,Ze.Wide,Fe.Format,!0);break;case"BBBBB":e=$t(Mt.DayPeriods,Ze.Narrow,Fe.Format,!0);break;case"h":e=tn(qt.Hours,1,-12);break;case"hh":e=tn(qt.Hours,2,-12);break;case"H":e=tn(qt.Hours,1);break;case"HH":e=tn(qt.Hours,2);break;case"m":e=tn(qt.Minutes,1);break;case"mm":e=tn(qt.Minutes,2);break;case"s":e=tn(qt.Seconds,1);break;case"ss":e=tn(qt.Seconds,2);break;case"S":e=tn(qt.FractionalSeconds,1);break;case"SS":e=tn(qt.FractionalSeconds,2);break;case"SSS":e=tn(qt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=So(_t.Short);break;case"ZZZZZ":e=So(_t.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=So(_t.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=So(_t.Long);break;default:return null}return pr[n]=e,e}(I);y+=D?D(r,t,m):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),y}function Nn(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function hr(n,e){const t=function Fi(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(Do[t]=Do[t]||{},Do[t][e])return Do[t][e];let i="";switch(e){case"shortDate":i=me(n,ce.Short);break;case"mediumDate":i=me(n,ce.Medium);break;case"longDate":i=me(n,ce.Long);break;case"fullDate":i=me(n,ce.Full);break;case"shortTime":i=we(n,ce.Short);break;case"mediumTime":i=we(n,ce.Medium);break;case"longTime":i=we(n,ce.Long);break;case"fullTime":i=we(n,ce.Full);break;case"short":const r=hr(n,"shortTime"),o=hr(n,"shortDate");i=un(Ee(n,ce.Short),[r,o]);break;case"medium":const u=hr(n,"mediumTime"),h=hr(n,"mediumDate");i=un(Ee(n,ce.Medium),[u,h]);break;case"long":const m=hr(n,"longTime"),y=hr(n,"longDate");i=un(Ee(n,ce.Long),[m,y]);break;case"full":const I=hr(n,"fullTime"),D=hr(n,"fullDate");i=un(Ee(n,ce.Full),[I,D])}return i&&(Do[t][e]=i),i}function un(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Li(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=t));let u=String(n);for(;u.length<e;)u="0"+u;return i&&(u=u.slice(u.length-e)),o+u}function tn(n,e,t=0,i=!1,r=!1){return function(o,u){let h=function fr(n,e){switch(n){case qt.FullYear:return e.getFullYear();case qt.Month:return e.getMonth();case qt.Date:return e.getDate();case qt.Hours:return e.getHours();case qt.Minutes:return e.getMinutes();case qt.Seconds:return e.getSeconds();case qt.FractionalSeconds:return e.getMilliseconds();case qt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||h>-t)&&(h+=t),n===qt.Hours)0===h&&-12===t&&(h=12);else if(n===qt.FractionalSeconds)return function Ua(n,e){return Li(n,3).substring(0,e)}(h,e);const m=Ie(u,Et.MinusSign);return Li(h,e,m,i,r)}}function $t(n,e,t=Fe.Format,i=!1){return function(r,o){return function Rs(n,e,t,i,r,o){switch(t){case Mt.Months:return function Jn(n,e,t){const i=(0,l.cg1)(n),o=fn([i[l.wAp.MonthsFormat],i[l.wAp.MonthsStandalone]],e);return fn(o,t)}(e,r,i)[n.getMonth()];case Mt.Days:return function Ys(n,e,t){const i=(0,l.cg1)(n),o=fn([i[l.wAp.DaysFormat],i[l.wAp.DaysStandalone]],e);return fn(o,t)}(e,r,i)[n.getDay()];case Mt.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(o){const y=function Sn(n){const e=(0,l.cg1)(n);return Pt(e),(e[l.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?Xi(i):[Xi(i[0]),Xi(i[1])])}(e),I=function An(n,e,t){const i=(0,l.cg1)(n);Pt(i);const o=fn([i[l.wAp.ExtraData][0],i[l.wAp.ExtraData][1]],e)||[];return fn(o,t)||[]}(e,r,i),D=y.findIndex(R=>{if(Array.isArray(R)){const[V,j]=R,W=u>=V.hours&&h>=V.minutes,fe=u<j.hours||u===j.hours&&h<j.minutes;if(V.hours<j.hours){if(W&&fe)return!0}else if(W||fe)return!0}else if(R.hours===u&&R.minutes===h)return!0;return!1});if(-1!==D)return I[D]}return function dr(n,e,t){const i=(0,l.cg1)(n),o=fn([i[l.wAp.DayPeriodsFormat],i[l.wAp.DayPeriodsStandalone]],e);return fn(o,t)}(e,r,i)[u<12?0:1];case Mt.Eras:return function Jo(n,e){return fn((0,l.cg1)(n)[l.wAp.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,o,n,e,t,i)}}function So(n){return function(e,t,i){const r=-1*i,o=Ie(t,Et.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case _t.Short:return(r>=0?"+":"")+Li(u,2,o)+Li(Math.abs(r%60),2,o);case _t.ShortGMT:return"GMT"+(r>=0?"+":"")+Li(u,1,o);case _t.Long:return"GMT"+(r>=0?"+":"")+Li(u,2,o)+":"+Li(Math.abs(r%60),2,o);case _t.Extended:return 0===i?"Z":(r>=0?"+":"")+Li(u,2,o)+":"+Li(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const Ao=0,Wr=4;function ds(n){return Nn(n.getFullYear(),n.getMonth(),n.getDate()+(Wr-n.getDay()))}function gi(n,e=!1){return function(t,i){let r;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,u=t.getDate();r=1+Math.floor((u+o)/7)}else{const o=ds(t),u=function Mo(n){const e=Nn(n,Ao,1).getDay();return Nn(n,0,1+(e<=Wr?Wr:Wr+7)-e)}(o.getFullYear()),h=o.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Li(r,n,Ie(i,Et.MinusSign))}}function _i(n,e=!1){return function(t,i){return Li(ds(t).getFullYear(),n,Ie(i,Et.MinusSign),e)}}const pr={};function Kr(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ce(n){return n instanceof Date&&!isNaN(n.valueOf())}const Ba=/\s+/,gd=[];let Xo=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=gd,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Ba):gd}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Ba):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Ba).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class ea{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ps=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ea(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),yd(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{yd(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function yd(n,e){n.context.$implicit=e.item}let Pr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new wy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){wm("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){wm("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b),l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class wy{constructor(){this.$implicit=null,this.ngIf=null}}function wm(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class mr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ta=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),jc=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new mr(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ta,9))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),Hc=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]})}return n})();function Jr(n,e){return new l.vHH(2100,!1)}let qc=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Jr();return t.toUpperCase()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=l.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0})}return n})();const zn=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),rr=new l.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Xs=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(null==t||""===t||t!=t)return null;try{return mn(t,i??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(u){throw Jr()}}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.soG,16),l.Y36(zn,24),l.Y36(rr,24))};static#t=this.\u0275pipe=l.Yjl({name:"date",type:n,pure:!0,standalone:!0})}return n})(),In=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();const eo="browser";function to(n){return"server"===n}let vi=(()=>{class n{static#e=this.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new no((0,l.LFG)(le),window)})}return n})();class no{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function io(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class yf extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Xc extends yf{static makeCurrent(){!function te(n){X||(X=n)}(new Xc)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Dm(){return tc=tc||document.querySelector("base"),tc?tc.getAttribute("href"):null}();return null==t?null:function My(n){Od=Od||document.createElement("a"),Od.setAttribute("href",n);const e=Od.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Os(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Od,tc=null,Sm=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const Nd=new l.OlP("EventManagerPlugins");let Am=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Nd),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class eu{constructor(e){this._doc=e}}const nc="ng-app-id";let Mm=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=to(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${nc}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(nc),o;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(nc,this.appId),u}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,u=o.get(i)?.elements;u?u.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(le),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const da={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fs=/%COMP%/g,hs=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ln(n,e){return e.map(t=>t.replace(Fs,n))}let No=(()=>{class n{constructor(t,i,r,o,u,h,m,y=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=u,this.platformId=h,this.ngZone=m,this.nonce=y,this.rendererByCompId=new Map,this.platformIsServer=to(h),this.defaultRenderer=new fa(t,u,m,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===l.ifc.ShadowDom&&(i={...i,encapsulation:l.ifc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof Om?r.applyToHost(t):r instanceof zi&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const u=this.doc,h=this.ngZone,m=this.eventManager,y=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(i.encapsulation){case l.ifc.Emulated:o=new Om(m,y,i,this.appId,I,u,h,D);break;case l.ifc.ShadowDom:return new pa(m,y,t,i,u,h,this.nonce,D);default:o=new zi(m,y,i,I,u,h,D)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Am),l.LFG(Mm),l.LFG(l.AFp),l.LFG(hs),l.LFG(le),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class fa{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(da[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Fd(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Fd(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new l.vHH(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=da[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=da[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=L().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Fd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class pa extends fa{constructor(e,t,i,r,o,u,h,m){super(e,o,u,m),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const y=ln(r.id,r.styles);for(const I of y){const D=document.createElement("style");h&&D.setAttribute("nonce",h),D.textContent=I,this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class zi extends fa{constructor(e,t,i,r,o,u,h,m){super(e,o,u,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=m?ln(m,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Om extends zi{constructor(e,t,i,r,o,u,h,m){const y=r+"-"+i.id;super(e,t,i,o,u,h,m,y),this.contentAttr=function bf(n){return"_ngcontent-%COMP%".replace(Fs,n)}(y),this.hostAttr=function wf(n){return"_nghost-%COMP%".replace(Fs,n)}(y)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Qa=(()=>{class n extends eu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(le))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const Pm=["alt","control","meta","shift"],yr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nm={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ld=(()=>{class n extends eu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,o.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),Pm.forEach(y=>{const I=i.indexOf(y);I>-1&&(i.splice(I,1),u+=y+".")}),u+=o,0!=i.length||0===o.length)return null;const m={};return m.domEventName=r,m.fullKey=u,m}static matchEventFullKeyCode(t,i){let r=yr[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Pm.forEach(u=>{u!==r&&(0,Nm[u])(t)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(le))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const Ii=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:eo},{provide:l.g9A,useValue:function xt(){Xc.makeCurrent()},multi:!0},{provide:le,useFactory:function Cf(){return(0,l.RDi)(document),document},deps:[]}]),If=new l.OlP(""),$i=[{provide:l.rWj,useClass:class Pd{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new l.vHH(5103,!1);return o},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(m){u=u||m,o--,0==o&&i(u)};r.forEach(m=>{m.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Ls=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Ef(){return new l.qLn},deps:[]},{provide:Nd,useClass:Qa,multi:!0,deps:[le,l.R0b,l.Lbi]},{provide:Nd,useClass:Ld,multi:!0,deps:[le]},No,Mm,Am,{provide:l.FYo,useExisting:No},{provide:class es{},useClass:Sm,deps:[]},[]];let rc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(If,12))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[...Ls,...$i],imports:[In,l.hGG]})}return n})(),De=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(le))};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function Vd(){return new De((0,l.LFG)(le))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let ps=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(i){let r=null;return r=i?new(i||n):l.LFG(Hd),r},providedIn:"root"})}return n})(),Hd=(()=>{class n extends ps{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new l.vHH(5200,!1);case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new l.vHH(5201,!1);default:throw new l.vHH(5202,!1)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(le))};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(i){let r=null;return r=i?new i:function jd(n){return new Hd(n.get(le))}(l.LFG(l.zs3)),r},providedIn:"root"})}return n})();var Fn=N(5592),Lr=N(4674),Ln=N(2459),ut=N(2096),xi=N(5619);const{isArray:uu}=Array,{getPrototypeOf:sc,prototype:Gi,keys:so}=Object;function yn(n){if(1===n.length){const e=n[0];if(uu(e))return{args:e,keys:null};if(function Lo(n){return n&&"object"==typeof n&&sc(n)===Gi}(e)){const t=so(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var ms=N(2737),tt=N(7398);const{isArray:Af}=Array;function _a(n){return(0,tt.U)(e=>function zd(n,e){return Af(e)?n(...e):n(e)}(n,e))}var ns=N(9940);function gs(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var pn=N(8251),el=N(7103);function Vo(...n){const e=(0,ns.yG)(n),t=(0,ns.jO)(n),{args:i,keys:r}=yn(n);if(0===i.length)return(0,Ln.D)([],e);const o=new Fn.y(function du(n,e,t=ms.y){return i=>{tl(e,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let m=0;m<r;m++)tl(e,()=>{const y=(0,Ln.D)(n[m],e);let I=!1;y.subscribe((0,pn.x)(i,D=>{o[m]=D,I||(I=!0,h--),h||i.next(t(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>gs(r,u):ms.y));return t?o.pipe(_a(t)):o}function tl(n,e,t){n?(0,el.f)(t,n,e):e()}const ya=(0,N(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var va=N(7537);function _s(...n){return function Uo(){return(0,va.J)(1)}()((0,Ln.D)(n,(0,ns.yG)(n)))}var nl=N(4829);function $d(n){return new Fn.y(e=>{(0,nl.Xf)(n()).subscribe(e)})}var hu=N(8407);function il(n,e){const t=(0,Lr.m)(n)?n:()=>n,i=r=>r.error(t());return new Fn.y(e?r=>e.schedule(i,0,r):i)}var ys=N(6232),vs=N(7394),Di=N(9360);function Mf(){return(0,Di.e)((n,e)=>{let t=null;n._refCount++;const i=(0,pn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class rl extends Fn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Di.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vs.w0;const t=this.getSubject();e.add(this.source.subscribe((0,pn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vs.w0.EMPTY)}return e}refCount(){return Mf()(this)}}var Xt=N(8645),$n=N(4664);function ar(n){return n<=0?()=>ys.E:(0,Di.e)((e,t)=>{let i=0;e.subscribe((0,pn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Vs(...n){const e=(0,ns.yG)(n);return(0,Di.e)((t,i)=>{(e?_s(n,t,e):_s(n,t)).subscribe(i)})}function hi(n,e){return(0,Di.e)((t,i)=>{let r=0;t.subscribe((0,pn.x)(i,o=>n.call(e,o,r++)&&i.next(o)))})}var qi=N(1631);function oc(n){return(0,Di.e)((e,t)=>{let i=!1;e.subscribe((0,pn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Rf(n=Gd){return(0,Di.e)((e,t)=>{let i=!1;e.subscribe((0,pn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Gd(){return new ya}function Zi(n,e){const t=arguments.length>=2;return i=>i.pipe(n?hi((r,o)=>n(r,o,i)):ms.y,ar(1),t?oc(e):Rf(()=>new ya))}function Bo(n,e){return(0,Lr.m)(e)?(0,qi.z)(n,e,1):(0,qi.z)(n,1)}var vn=N(9397);function is(n){return(0,Di.e)((e,t)=>{let o,i=null,r=!1;i=e.subscribe((0,pn.x)(t,void 0,void 0,u=>{o=(0,nl.Xf)(n(u,is(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Vr(n,e){return(0,Di.e)(function ac(n,e,t,i,r){return(o,u)=>{let h=t,m=e,y=0;o.subscribe((0,pn.x)(u,I=>{const D=y++;m=h?n(m,I,D):(h=!0,I),i&&u.next(m)},r&&(()=>{h&&u.next(m),u.complete()})))}}(n,e,arguments.length>=2,!0))}function ba(n){return n<=0?()=>ys.E:(0,Di.e)((e,t)=>{let i=[];e.subscribe((0,pn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function jo(n){return(0,Di.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}var cc=N(2420);function Ur(n){return(0,Di.e)((e,t)=>{(0,nl.Xf)(n).subscribe((0,pn.x)(t,()=>t.complete(),cc.Z)),!t.closed&&e.subscribe(t)})}const Ft="primary",wa=Symbol("RouteTitle");class Ea{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function sl(n){return new Ea(n)}function oo(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function br(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!Zd(n[r],e[r]))return!1;return!0}function Zd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function jn(n){return n.length>0?n[n.length-1]:null}function bs(n){return function Xa(n){return!!n&&(n instanceof Fn.y||(0,Lr.m)(n.lift)&&(0,Lr.m)(n.subscribe))}(n)?n:(0,l.QGY)(n)?(0,Ln.D)(Promise.resolve(n)):(0,ut.of)(n)}const Ho={exact:function pu(n,e,t){if(!he(n.segments,e.segments)||!x(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!pu(n.children[i],e.children[i],t))return!1;return!0},subset:al},Wd={exact:function Kd(n,e){return br(n,e)},subset:function ol(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Zd(n[t],e[t]))},ignored:()=>!0};function Um(n,e,t){return Ho[t.paths](n.root,e.root,t.matrixParams)&&Wd[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function al(n,e,t){return C(n,e,e.segments,t)}function C(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!he(r,t)||e.hasChildren()||!x(r,t,i))}if(n.segments.length===t.length){if(!he(n.segments,t)||!x(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!al(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(he(n.segments,r)&&x(n.segments,r,i)&&n.children[Ft])&&C(n.children[Ft],e,o,i)}}function x(n,e,t){return e.every((i,r)=>Wd[t](n[r].parameters,i.parameters))}class M{constructor(e=new P([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sl(this.queryParams)),this._queryParamMap}toString(){return Ot.serialize(this)}}class P{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return St(this)}}class q{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=sl(this.parameters)),this._parameterMap}toString(){return wr(this)}}function he(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let ze=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return new ht},providedIn:"root"})}return n})();class ht{parse(e){const t=new mu(e);return new M(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Gn(e.root,!0)}`,i=function Ny(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${ao(t)}=${ao(r)}`).join("&"):`${ao(t)}=${ao(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function qn(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ot=new ht;function St(n){return n.segments.map(e=>wr(e)).join("/")}function Gn(n,e){if(!n.hasChildren())return St(n);if(e){const t=n.children[Ft]?Gn(n.children[Ft],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==Ft&&i.push(`${r}:${Gn(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Ye(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ft&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ft&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Ft?[Gn(n.children[Ft],!1)]:[`${r}:${Gn(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${St(n)}/${t[0]}`:`${St(n)}/(${t.join("//")})`}}function ii(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ao(n){return ii(n).replace(/%3B/gi,";")}function lo(n){return ii(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Si(n){return decodeURIComponent(n)}function Us(n){return Si(n.replace(/\+/g,"%20"))}function wr(n){return`${lo(n.path)}${function ll(n){return Object.keys(n).map(e=>`;${lo(e)}=${lo(n[e])}`).join("")}(n.parameters)}`}const Bm=/^[^\/()?;#]+/;function Ca(n){const e=n.match(Bm);return e?e[0]:""}const Fy=/^[^\/()?;=#]+/,Ly=/^[^=?&#]+/,ws=/^[^&#]+/;class mu{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new P([],{}):new P([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Ft]=new P(e,t)),i}parseSegment(){const e=Ca(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new q(Si(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function jm(n){const e=n.match(Fy);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Ca(this.remaining);r&&(i=r,this.capture(i))}e[Si(t)]=Si(i)}parseQueryParam(e){const t=function H0(n){const e=n.match(Ly);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function Hm(n){const e=n.match(ws);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Us(t),o=Us(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ca(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ft);const u=this.parseChildren();t[o]=1===Object.keys(u).length?u[Ft]:new P([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function z0(n){return n.segments.length>0?new P([],{[Ft]:n}):n}function zm(n){const e={};for(const i of Object.keys(n.children)){const o=zm(n.children[i]);if(i===Ft&&0===o.segments.length&&o.hasChildren())for(const[u,h]of Object.entries(o.children))e[u]=h;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Vy(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new P(n.segments.concat(e.segments),e.children)}return n}(new P(n.segments,e))}function uc(n){return n instanceof M}function cl(n){let e;const r=z0(function t(o){const u={};for(const m of o.children){const y=t(m);u[m.outlet]=y}const h=new P(o.url,u);return o===n&&(e=h),h}(n.root));return e??r}function Uy(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return gu(r,r,r,t,i);const o=function $0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Yd(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return Object.entries(o.outlets).forEach(([m,y])=>{h[m]="string"==typeof y?y.split("/"):y}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new Yd(t,e,i)}(e);if(o.toRoot())return gu(r,r,new P([],{}),t,i);const u=function G0(n,e,t){if(n.isAbsolute)return new Ta(e,!0,0);if(!t)return new Ta(e,!1,NaN);if(null===t.parent)return new Ta(t,!0,0);const i=kf(n.commands[0])?0:1;return function By(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new Ta(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),h=u.processChildren?_u(u.segmentGroup,u.index,o.commands):Jd(u.segmentGroup,u.index,o.commands);return gu(r,u.segmentGroup,h,t,i)}function kf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ia(n){return"object"==typeof n&&null!=n&&n.outlets}function gu(n,e,t,i,r){let u,o={};i&&Object.entries(i).forEach(([m,y])=>{o[m]=Array.isArray(y)?y.map(I=>`${I}`):`${y}`}),u=n===e?t:Of(n,e,t);const h=z0(zm(u));return new M(h,o,r)}function Of(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:Of(o,e,t)}),new P(n.segments,i)}class Yd{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&kf(i[0]))throw new l.vHH(4003,!1);const r=i.find(Ia);if(r&&r!==jn(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ta{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function Jd(n,e,t){if(n||(n=new P([],{})),0===n.segments.length&&n.hasChildren())return _u(n,e,t);const i=function q0(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const u=n.segments[r],h=t[i];if(Ia(h))break;const m=`${h}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===m)break;if(m&&y&&"object"==typeof y&&void 0===y.outlets){if(!Pf(m,y,u))return o;i+=2}else{if(!Pf(m,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new P(n.segments.slice(0,i.pathIndex),{});return o.children[Ft]=new P(n.segments.slice(i.pathIndex),n.children),_u(o,0,r)}return i.match&&0===r.length?new P(n.segments,{}):i.match&&!n.hasChildren()?$m(n,e,t):i.match?_u(n,0,r):$m(n,e,t)}function _u(n,e,t){if(0===t.length)return new P(n.segments,{});{const i=function Qd(n){return Ia(n[0])?n[0].outlets:{[Ft]:n}}(t),r={};if(Object.keys(i).some(o=>o!==Ft)&&n.children[Ft]&&1===n.numberOfChildren&&0===n.children[Ft].segments.length){const o=_u(n.children[Ft],e,t);return new P(n.segments,o.children)}return Object.entries(i).forEach(([o,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(r[o]=Jd(n.children[o],e,u))}),Object.entries(n.children).forEach(([o,u])=>{void 0===i[o]&&(r[o]=u)}),new P(n.segments,r)}}function $m(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Ia(o)){const m=yu(o.outlets);return new P(i,m)}if(0===r&&kf(t[0])){i.push(new q(n.segments[e].path,dc(t[0]))),r++;continue}const u=Ia(o)?o.outlets[Ft]:`${o}`,h=r<t.length-1?t[r+1]:null;u&&h&&kf(h)?(i.push(new q(u,dc(h))),r+=2):(i.push(new q(u,{})),r++)}return new P(i,{})}function yu(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=$m(new P([],{}),0,i))}),e}function dc(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function Pf(n,e,t){return n==t.path&&br(e,t.parameters)}const Nf="imperative";class co{constructor(e,t){this.id=e,this.url=t}}class vu extends co{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xa extends co{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xd extends co{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bu extends co{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class hc extends co{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eh extends co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jy extends co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z0 extends co{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gm extends co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WI extends co{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hy{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KI{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class W0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class th{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qm{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class K0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y0{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nh{}class zy{constructor(e){this.url=e}}class Q0{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wu,this.attachRef=null}}let wu=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Q0,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Zm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ff(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Ff(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Eu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Eu(e,this._root).map(t=>t.value)}}function Ff(n,e){if(n===e.value)return e;for(const t of e.children){const i=Ff(n,t);if(i)return i}return null}function Eu(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Eu(n,t);if(i.length)return i.unshift(e),i}return[]}class rs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Br extends Zm{constructor(e,t){super(e),this.snapshot=t,Wm(this,e)}toString(){return this.snapshot.toString()}}function pc(n,e){const t=function mc(n,e){const u=new gc([],{},{},"",{},Ft,e,null,{});return new Iu("",new rs(u,[]))}(0,e),i=new xi.X([new q("",{})]),r=new xi.X({}),o=new xi.X({}),u=new xi.X({}),h=new xi.X(""),m=new Da(i,r,u,h,o,Ft,e,t.root);return m.snapshot=t.root,new Br(new rs(m,[]),t)}class Da{constructor(e,t,i,r,o,u,h,m){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=u,this.component=h,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,tt.U)(y=>y[wa]))??(0,ut.of)(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,tt.U)(e=>sl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,tt.U)(e=>sl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ih(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Cu(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class gc{get title(){return this.data?.[wa]}constructor(e,t,i,r,o,u,h,m,y){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=m,this._resolve=y}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Iu extends Zm{constructor(e,t){super(t),this.url=e,Wm(this,t)}toString(){return Sa(this._root)}}function Wm(n,e){e.value._routerState=n,e.children.forEach(t=>Wm(n,t))}function Sa(n){const e=n.children.length>0?` { ${n.children.map(Sa).join(", ")} } `:"";return`${n.value}${e}`}function Lf(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,br(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),br(e.params,t.params)||n.paramsSubject.next(t.params),function qd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!br(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),br(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Vf(n,e){const t=br(n.params,e.params)&&function Q(n,e){return he(n,e)&&n.every((t,i)=>br(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Vf(n.parent,e.parent))}let rh=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(wu),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(sh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=t;const r=this.location,u=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new J0(t,h,r.injector);this.activated=r.createComponent(u,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]})}return n})();class J0{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Da?this.route:e===wu?this.childContexts:this.parent.get(e,t)}}const sh=new l.OlP("");let jr=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=Vo([i.queryParams,i.params,i.data]).pipe((0,$n.w)(([o,u,h],m)=>(h={...o,...u,...h},0===m?(0,ut.of)(h):Promise.resolve(h)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const u=(0,l.qFp)(i.component);if(u)for(const{templateName:h}of u.inputs)t.activatedComponentRef.setInput(h,o[h]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();function _c(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function X0(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return _c(n,i,r);return _c(n,i)})}(n,e,t);return new rs(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>_c(n,h)),u}}const i=function ri(n){return new Da(new xi.X(n.url),new xi.X(n.params),new xi.X(n.queryParams),new xi.X(n.fragment),new xi.X(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>_c(n,o));return new rs(i,r)}}const Aa="ngNavigationCancelingError";function Bf(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=uc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=oh(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function oh(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Aa]=!0,i.cancellationCode=e,t&&(i.url=t),i}function ul(n){return n&&n[Aa]}let Km=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(i,r){1&i&&l._UZ(0,"router-outlet")},dependencies:[rh],encapsulation:2})}return n})();function z(n){const e=n.children&&n.children.map(z),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=Km),t}function Y(n){return n.outlet||Ft}function He(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Hn{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Lf(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=fc(t);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=fc(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=fc(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=fc(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new K0(o.value.snapshot))}),e.children.length&&this.forwardEvent(new th(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(Lf(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Lf(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=He(r.snapshot);u.attachRef=null,u.route=r,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class Es{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class dl{constructor(e,t){this.component=e,this.route=t}}function yc(n,e,t){const i=n._root;return fl(i,e?e._root:null,t,[i.value])}function hl(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:i}function fl(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=fc(e);return n.children.forEach(u=>{(function xu(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const m=function Gy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!he(n.url,e.url);case"pathParamsOrQueryParamsChange":return!he(n.url,e.url)||!br(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vf(n,e)||!br(n.queryParams,e.queryParams);default:return!Vf(n,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new Es(i)):(o.data=u.data,o._resolvedData=u._resolvedData),fl(n,e,o.component?h?h.children:null:t,i,r),m&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new dl(h.outlet.component,u))}else u&&Du(e,h,r),r.canActivateChecks.push(new Es(i)),fl(n,null,o.component?h?h.children:null:t,i,r)})(u,o[u.value.outlet],t,i.concat([u.value]),r),delete o[u.value.outlet]}),Object.entries(o).forEach(([u,h])=>Du(h,t.getContext(u),r)),r}function Du(n,e,t){const i=fc(n),r=n.value;Object.entries(i).forEach(([o,u])=>{Du(u,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new dl(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function vc(n){return"function"==typeof n}function JI(n){return n instanceof ya||"EmptyError"===n?.name}const jf=Symbol("INITIAL_VALUE");function ah(){return(0,$n.w)(n=>Vo(n.map(e=>e.pipe(ar(1),Vs(jf)))).pipe((0,tt.U)(e=>{for(const t of e)if(!0!==t){if(t===jf)return jf;if(!1===t||t instanceof M)return t}return!0}),hi(e=>e!==jf),ar(1)))}function iw(n){return(0,hu.z)((0,vn.b)(e=>{if(uc(e))throw Bf(0,e)}),(0,tt.U)(e=>!0===e))}class Qm{constructor(e){this.segmentGroup=e||null}}class Jm{constructor(e){this.urlTree=e}}function pl(n){return il(new Qm(n))}function sw(n){return il(new Jm(n))}class iT{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new l.vHH(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,ut.of)(i);if(r.numberOfChildren>1||!r.children[Ft])return il(new l.vHH(4e3,!1));r=r.children[Ft]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new M(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const h=o.substring(1);i[r]=t[h]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let u={};return Object.entries(t.children).forEach(([h,m])=>{u[h]=this.createSegmentGroup(e,m,i,r)}),new P(o,u)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const Xm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eg(n,e,t,i,r){const o=aw(n,e,t);return o.matched?(i=function $y(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function rw(n,e,t,i){const r=e.canMatch;if(!r||0===r.length)return(0,ut.of)(!0);const o=r.map(u=>{const h=hl(u,n);return bs(function nw(n){return n&&vc(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))});return(0,ut.of)(o).pipe(ah(),iw())}(i,e,t).pipe((0,tt.U)(u=>!0===u?o:{...Xm}))):(0,ut.of)(o)}function aw(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Xm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||oo)(t,n,e);if(!r)return{...Xm};const o={};Object.entries(r.posParams??{}).forEach(([h,m])=>{o[h]=m.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function lw(n,e,t,i){return t.length>0&&function t1(n,e,t){return t.some(i=>tg(n,e,i)&&Y(i)!==Ft)}(n,t,i)?{segmentGroup:new P(e,e1(i,new P(t,n.children))),slicedSegments:[]}:0===t.length&&function rT(n,e,t){return t.some(i=>tg(n,e,i))}(n,t,i)?{segmentGroup:new P(n.segments,XM(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new P(n.segments,n.children),slicedSegments:t}}function XM(n,e,t,i,r){const o={};for(const u of i)if(tg(n,t,u)&&!r[Y(u)]){const h=new P([],{});o[Y(u)]=h}return{...r,...o}}function e1(n,e){const t={};t[Ft]=e;for(const i of n)if(""===i.path&&Y(i)!==Ft){const r=new P([],{});t[Y(i)]=r}return t}function tg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class n1{constructor(e,t,i,r,o,u,h){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=u,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new iT(this.urlSerializer,this.urlTree)}noMatchError(e){return new l.vHH(4002,!1)}recognize(){const e=lw(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ft).pipe(is(t=>{if(t instanceof Jm)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Qm?this.noMatchError(t):t}),(0,tt.U)(t=>{const i=new gc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,{}),r=new rs(i,t),o=new Iu("",r),u=function ZI(n,e,t=null,i=null){return Uy(cl(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(o._root),{state:o,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ft).pipe(is(i=>{throw i instanceof Qm?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=ih(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Ln.D)(r).pipe(Bo(o=>{const u=i.children[o],h=function Pe(n,e){const t=n.filter(i=>Y(i)===e);return t.push(...n.filter(i=>Y(i)!==e)),t}(t,o);return this.processSegmentGroup(e,h,u,o)}),Vr((o,u)=>(o.push(...u),o)),oc(null),function fu(n,e){const t=arguments.length>=2;return i=>i.pipe(n?hi((r,o)=>n(r,o,i)):ms.y,ba(1),t?oc(e):Rf(()=>new ya))}(),(0,qi.z)(o=>{if(null===o)return pl(i);const u=sT(o);return function r1(n){n.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet))}(u),(0,ut.of)(u)}))}processSegment(e,t,i,r,o,u){return(0,Ln.D)(t).pipe(Bo(h=>this.processSegmentAgainstRoute(h._injector??e,t,h,i,r,o,u).pipe(is(m=>{if(m instanceof Qm)return(0,ut.of)(null);throw m}))),Zi(h=>!!h),is(h=>{if(JI(h))return function cw(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?(0,ut.of)([]):pl(i);throw h}))}processSegmentAgainstRoute(e,t,i,r,o,u,h){return function Qy(n,e,t,i){return!!(Y(n)===i||i!==Ft&&tg(e,t,n))&&("**"===n.path||aw(e,n,t).matched)}(i,r,o,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,u,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,u):pl(r):pl(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?sw(o):this.applyRedirects.lineralizeSegments(i,o).pipe((0,qi.z)(u=>{const h=new P(u,{});return this.processSegment(e,t,h,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,u){const{matched:h,consumedSegments:m,remainingSegments:y,positionalParamSegments:I}=aw(t,r,o);if(!h)return pl(t);const D=this.applyRedirects.applyRedirectCommands(m,r.redirectTo,I);return r.redirectTo.startsWith("/")?sw(D):this.applyRedirects.lineralizeSegments(r,D).pipe((0,qi.z)(R=>this.processSegment(e,i,t,R.concat(y),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,u){let h;if("**"===i.path){const m=r.length>0?jn(r).parameters:{},y=new gc(r,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aT(i),Y(i),i.component??i._loadedComponent??null,i,ch(i));h=(0,ut.of)({snapshot:y,consumedSegments:[],remainingSegments:[]}),t.children={}}else h=eg(t,i,r,e).pipe((0,tt.U)(({matched:m,consumedSegments:y,remainingSegments:I,parameters:D})=>m?{snapshot:new gc(y,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,aT(i),Y(i),i.component??i._loadedComponent??null,i,ch(i)),consumedSegments:y,remainingSegments:I}:null));return h.pipe((0,$n.w)(m=>null===m?pl(t):this.getChildConfig(e=i._injector??e,i,r).pipe((0,$n.w)(({routes:y})=>{const I=i._loadedInjector??e,{snapshot:D,consumedSegments:R,remainingSegments:V}=m,{segmentGroup:j,slicedSegments:W}=lw(t,R,V,y);if(0===W.length&&j.hasChildren())return this.processChildren(I,y,j).pipe((0,tt.U)(je=>null===je?null:[new rs(D,je)]));if(0===y.length&&0===W.length)return(0,ut.of)([new rs(D,[])]);const fe=Y(i)===o;return this.processSegment(I,y,j,W,fe?Ft:o,!0).pipe((0,tt.U)(je=>[new rs(D,je)]))}))))}getChildConfig(e,t,i){return t.children?(0,ut.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,ut.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function nT(n,e,t,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,ut.of)(!0);const o=r.map(u=>{const h=hl(u,n);return bs(function tw(n){return n&&vc(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))});return(0,ut.of)(o).pipe(ah(),iw())}(e,t,i).pipe((0,qi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,vn.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Yy(n){return il(oh(!1,3))}())):(0,ut.of)({routes:[],injector:e})}}function YN(n){const e=n.value.routeConfig;return e&&""===e.path}function sT(n){const e=[],t=new Set;for(const i of n){if(!YN(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=sT(i.children);e.push(new rs(i.value,r))}return e.filter(i=>!t.has(i))}function aT(n){return n.data||{}}function ch(n){return n.resolve||{}}function dT(n){return"string"==typeof n.title||null===n.title}function dw(n){return(0,$n.w)(e=>{const t=n(e);return t?(0,Ln.D)(t).pipe((0,tt.U)(()=>e)):(0,ut.of)(e)})}const zf=new l.OlP("ROUTES");let hw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,ut.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=bs(t.loadComponent()).pipe((0,tt.U)(dh),(0,vn.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),jo(()=>{this.componentLoaders.delete(t)})),r=new rl(i,()=>new Xt.x).pipe(Mf());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,ut.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function s1(n,e,t,i){return bs(n.loadChildren()).pipe((0,tt.U)(dh),(0,qi.z)(r=>r instanceof l.YKP||Array.isArray(r)?(0,ut.of)(r):(0,Ln.D)(e.compileModuleAsync(r))),(0,tt.U)(r=>{i&&i(n);let o,u,h=!1;return Array.isArray(r)?(u=r,!0):(o=r.create(t).injector,u=o.get(zf,[],{optional:!0,self:!0}).flat()),{routes:u.map(z),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(jo(()=>{this.childrenLoaders.delete(i)})),u=new rl(o,()=>new Xt.x).pipe(Mf());return this.childrenLoaders.set(i,u),u}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dh(n){return function bc(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Xy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Xt.x,this.transitionAbortSubject=new Xt.x,this.configLoader=(0,l.f3M)(hw),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(ze),this.rootContexts=(0,l.f3M)(wu),this.inputBindingEnabled=null!==(0,l.f3M)(sh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ut.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new KI(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Hy(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new xi.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nf,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hi(o=>0!==o.id),(0,tt.U)(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),(0,$n.w)(o=>{this.currentTransition=o;let u=!1,h=!1;return(0,ut.of)(o).pipe((0,vn.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,$n.w)(m=>{const y=m.currentBrowserUrl.toString(),I=!t.navigated||m.extractedUrl.toString()!==y||y!==m.currentUrlTree.toString();if(!I&&"reload"!==(m.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const R="";return this.events.next(new bu(m.id,this.urlSerializer.serialize(m.rawUrl),R,0)),m.resolve(null),ys.E}if(t.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return(0,ut.of)(m).pipe((0,$n.w)(R=>{const V=this.transitions?.getValue();return this.events.next(new vu(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),V!==this.transitions?.getValue()?ys.E:Promise.resolve(R)}),function Jy(n,e,t,i,r,o){return(0,qi.z)(u=>function Hf(n,e,t,i,r,o,u="emptyOnly"){return new n1(n,e,t,i,r,u,o).recognize()}(n,e,t,i,u.extractedUrl,r,o).pipe((0,tt.U)(({state:h,tree:m})=>({...u,targetSnapshot:h,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,vn.b)(R=>{o.targetSnapshot=R.targetSnapshot,o.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const V=new eh(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(V)}));if(I&&t.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:R,extractedUrl:V,source:j,restoredState:W,extras:fe}=m,je=new vu(R,this.urlSerializer.serialize(V),j,W);this.events.next(je);const Ge=pc(0,this.rootComponentType).snapshot;return this.currentTransition=o={...m,targetSnapshot:Ge,urlAfterRedirects:V,extras:{...fe,skipLocationChange:!1,replaceUrl:!1}},(0,ut.of)(o)}{const R="";return this.events.next(new bu(m.id,this.urlSerializer.serialize(m.extractedUrl),R,1)),m.resolve(null),ys.E}}),(0,vn.b)(m=>{const y=new jy(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}),(0,tt.U)(m=>(this.currentTransition=o={...m,guards:yc(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},o)),function lh(n,e){return(0,qi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=t;return 0===u.length&&0===o.length?(0,ut.of)({...t,guardsResult:!0}):function XI(n,e,t,i){return(0,Ln.D)(n).pipe((0,qi.z)(r=>function tT(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,ut.of)(!0);const u=o.map(h=>{const m=He(e)??r,y=hl(h,m);return bs(function Wy(n){return n&&vc(n.canDeactivate)}(y)?y.canDeactivate(n,e,t,i):m.runInContext(()=>y(n,e,t,i))).pipe(Zi())});return(0,ut.of)(u).pipe(ah())}(r.component,r.route,t,e,i)),Zi(r=>!0!==r,!0))}(u,i,r,n).pipe((0,qi.z)(h=>h&&function qy(n){return"boolean"==typeof n}(h)?function eT(n,e,t,i){return(0,Ln.D)(e).pipe(Bo(r=>_s(function KN(n,e){return null!==n&&e&&e(new W0(n)),(0,ut.of)(!0)}(r.route.parent,i),function QM(n,e){return null!==n&&e&&e(new qm(n)),(0,ut.of)(!0)}(r.route,i),function JM(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function Tu(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>$d(()=>{const h=u.guards.map(m=>{const y=He(u.node)??t,I=hl(m,y);return bs(function Zy(n){return n&&vc(n.canActivateChild)}(I)?I.canActivateChild(i,n):y.runInContext(()=>I(i,n))).pipe(Zi())});return(0,ut.of)(h).pipe(ah())}));return(0,ut.of)(o).pipe(ah())}(n,r.path,t),function Ky(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,ut.of)(!0);const r=i.map(o=>$d(()=>{const u=He(e)??t,h=hl(o,u);return bs(function Ym(n){return n&&vc(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(Zi())}));return(0,ut.of)(r).pipe(ah())}(n,r.route,t))),Zi(r=>!0!==r,!0))}(i,o,n,e):(0,ut.of)(h)),(0,tt.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,m=>this.events.next(m)),(0,vn.b)(m=>{if(o.guardsResult=m.guardsResult,uc(m.guardsResult))throw Bf(0,m.guardsResult);const y=new Z0(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(y)}),hi(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",3),!1)),dw(m=>{if(m.guards.canActivateChecks.length)return(0,ut.of)(m).pipe((0,vn.b)(y=>{const I=new Gm(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}),(0,$n.w)(y=>{let I=!1;return(0,ut.of)(y).pipe(function uw(n,e){return(0,qi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return(0,ut.of)(t);let o=0;return(0,Ln.D)(r).pipe(Bo(u=>function lT(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!dT(r)&&(o[wa]=r.title),function cT(n,e,t,i){const r=function uT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return(0,ut.of)({});const o={};return(0,Ln.D)(r).pipe((0,qi.z)(u=>function uh(n,e,t,i){const r=He(e)??i,o=hl(n,r);return bs(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[u],e,t,i).pipe(Zi(),(0,vn.b)(h=>{o[u]=h}))),ba(1),function lc(n){return(0,tt.U)(()=>n)}(o),is(u=>JI(u)?ys.E:il(u)))}(o,n,e,i).pipe((0,tt.U)(u=>(n._resolvedData=u,n.data=ih(n,t).resolve,r&&dT(r)&&(n.data[wa]=r.title),null)))}(u.route,i,n,e)),(0,vn.b)(()=>o++),ba(1),(0,qi.z)(u=>o===r.length?(0,ut.of)(t):ys.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,vn.b)({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(y,"",2)}}))}),(0,vn.b)(y=>{const I=new WI(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(I)}))}),dw(m=>{const y=I=>{const D=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,vn.b)(R=>{I.component=R}),(0,tt.U)(()=>{})));for(const R of I.children)D.push(...y(R));return D};return Vo(y(m.targetSnapshot.root)).pipe(oc(),ar(1))}),dw(()=>this.afterPreactivation()),(0,tt.U)(m=>{const y=function Uf(n,e,t){const i=_c(n,e._root,t?t._root:void 0);return new Br(i,e)}(t.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=o={...m,targetRouterState:y},o}),(0,vn.b)(()=>{this.events.next(new nh)}),((n,e,t,i)=>(0,tt.U)(r=>(new Hn(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),ar(1),(0,vn.b)({next:m=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xa(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),t.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{u=!0}}),Ur(this.transitionAbortSubject.pipe((0,vn.b)(m=>{throw m}))),jo(()=>{u||h||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),is(m=>{if(h=!0,ul(m))this.events.next(new Xd(o.id,this.urlSerializer.serialize(o.extractedUrl),m.message,m.cancellationCode)),function Er(n){return ul(n)&&uc(n.url)}(m)?this.events.next(new zy(m.url)):o.resolve(!1);else{this.events.next(new hc(o.id,this.urlSerializer.serialize(o.extractedUrl),m,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(m))}catch(y){o.reject(y)}}return ys.E}))}))}cancelNavigationTransition(t,i,r){const o=new Xd(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hT(n){return n!==Nf}let fT=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ft);return i}getResolvedTitleForRoute(t){return t.data[wa]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(o1)},providedIn:"root"})}return n})(),o1=(()=>{class n extends fT{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(De))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),a1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(pT)},providedIn:"root"})}return n})();class l1{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let pT=(()=>{class n extends l1{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}();static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ev=new l.OlP("",{providedIn:"root",factory:()=>({})});let c1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(u1)},providedIn:"root"})}return n})(),u1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ng=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ng||{});function ig(n,e){n.events.pipe(hi(t=>t instanceof xa||t instanceof Xd||t instanceof hc||t instanceof bu),(0,tt.U)(t=>t instanceof xa||t instanceof bu?ng.COMPLETE:t instanceof Xd&&(0===t.code||1===t.code)?ng.REDIRECTING:ng.FAILED),hi(t=>t!==ng.REDIRECTING),ar(1)).subscribe(()=>{e()})}function wc(n){throw n}function rg(n,e,t){return e.parse("/")}const mT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this._events=new Xt.x,this.options=(0,l.f3M)(ev,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||wc,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||rg,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(c1),this.routeReuseStrategy=(0,l.f3M)(a1),this.titleStrategy=(0,l.f3M)(fT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(zf,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(Xy),this.urlSerializer=(0,l.f3M)(ze),this.location=(0,l.f3M)(qe),this.componentInputBindingEnabled=!!(0,l.f3M)(sh,{optional:!0}),this.eventsSubscription=new vs.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new M,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=pc(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(d1(i)&&this._events.next(i));if(i instanceof vu)hT(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof bu)this.rawUrlTree=r.rawUrl;else if(i instanceof eh){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof nh)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Xd)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof zy){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hT(r.source)};this.scheduleNavigation(o,Nf,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof hc&&this.restoreHistory(r,!0),i instanceof xa&&(this.navigated=!0),d1(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Nf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const m={...r};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const h=this.parseUrl(t);this.scheduleNavigation(h,i,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(z),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:m}=i,y=m?this.currentUrlTree.fragment:u;let D,I=null;switch(h){case"merge":I={...this.currentUrlTree.queryParams,...o};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=o||null}null!==I&&(I=this.removeEmptyProps(I));try{D=cl(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),D=this.currentUrlTree.root}return Uy(D,t,I,y??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=uc(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Nf,null,i)}navigate(t,i={skipLocationChange:!1}){return function QN(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new l.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...mT}:!1===i?{...gT}:i,uc(t))return Um(this.currentUrlTree,t,r);const o=this.parseUrl(t);return Um(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let h,m,y;u?(h=u.resolve,m=u.reject,y=u.promise):y=new Promise((D,R)=>{h=D,m=R});const I=this.pendingTasks.add();return ig(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:h,reject:m,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(D=>Promise.reject(D))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",u)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d1(n){return!(n instanceof nh||n instanceof zy)}let $f=(()=>{class n{constructor(t,i,r,o,u,h){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.locationStrategy=h,this.href=null,this.commands=null,this.onChanges=new Xt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const m=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(y=>{y instanceof xa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Cr),l.Y36(Da),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Be))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&l.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&i&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]})}return n})();class h1{}let p1=(()=>{class n{constructor(t,i,r,o,u){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(hi(t=>t instanceof xa),Bo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,l.MMx)(o.providers,t,`Route: ${o.path}`));const u=o._injector??t,h=o._loadedInjector??u;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(u,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,Ln.D)(r).pipe((0,va.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):(0,ut.of)(null);const o=r.pipe((0,qi.z)(u=>null===u?(0,ut.of)(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Ln.D)([o,u]).pipe((0,va.J)())}return o})}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Cr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(h1),l.LFG(hw))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mw=new l.OlP("");let _T=(()=>{class n{constructor(t,i,r,o,u={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof vu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xa?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof bu&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Y0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Y0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();function zo(n,e){return{\u0275kind:n,\u0275providers:e}}function bT(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(Cr),r=n.get(wT);1===n.get(sg)&&i.initialNavigation(),n.get(CT,null,l.XFs.Optional)?.setUpPreloading(),n.get(mw,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const wT=new l.OlP("",{factory:()=>new Xt.x}),sg=new l.OlP("",{providedIn:"root",factory:()=>1}),CT=new l.OlP("");function g1(n){return zo(0,[{provide:CT,useExisting:p1},{provide:h1,useExisting:n}])}const qf=new l.OlP("ROUTER_FORROOT_GUARD"),IT=[qe,{provide:ze,useClass:ht},Cr,wu,{provide:Da,useFactory:function gw(n){return n.routerState.root},deps:[Cr]},hw,[]];function TT(){return new l.PXZ("Router",Cr)}let tv=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[IT,[],{provide:zf,multi:!0,useValue:t},{provide:qf,useFactory:ST,deps:[[Cr,new l.FiY,new l.tp0]]},{provide:ev,useValue:i||{}},i?.useHash?{provide:Be,useClass:Oe}:{provide:Be,useClass:Ke},{provide:mw,useFactory:()=>{const n=(0,l.f3M)(vi),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(ev),i=(0,l.f3M)(Xy),r=(0,l.f3M)(ze);return t.scrollOffset&&n.setOffset(t.scrollOffset),new _T(r,i,n,e,t)}},i?.preloadingStrategy?g1(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:TT},i?.initialNavigation?nv(i):[],i?.bindToComponentInputs?zo(8,[jr,{provide:sh,useExisting:jr}]).\u0275providers:[],[{provide:v1,useFactory:bT},{provide:l.tb,multi:!0,useExisting:v1}]]}}static forChild(t){return{ngModule:n,providers:[{provide:zf,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(qf,8))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();function ST(n){return"guarded"}function nv(n){return["disabled"===n.initialNavigation?zo(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Cr);return()=>{e.setUpLocationChangeListener()}}},{provide:sg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?zo(2,[{provide:sg,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(Ne,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(Cr),o=e.get(wT);ig(r,()=>{i(!0)}),e.get(Xy).afterPreactivation=()=>(i(!0),o.closed?(0,ut.of)(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const v1=new l.OlP("");var Ec=N(3019),hh=N(3093),E1=N(4552);class yw extends Xt.x{constructor(e=1/0,t=1/0,i=E1.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;t||(i.push(e),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!e.closed;u+=i?1:2)e.next(o[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=t.now();let h=0;for(let m=1;m<i.length&&i[m]<=u;m+=2)h=m;h&&i.splice(0,h+1)}}}var Wf=N(3020);function $o(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,Wf.B)({connector:()=>new yw(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function ag(n,e){return(0,Lr.m)(e)?(0,$n.w)(()=>n,e):(0,$n.w)(()=>n)}var lg=N(5137),Zn=N(2793),Cs=N(6304);N(4097);var ye=N(5861),uo=N(534),Bs=N(4537),F=N(9058),ho=N(7879);const fh=new Map,ug={activated:!1,tokenObservers:[]},Kf={initialized:!1,enabled:!1};function si(n){return fh.get(n)||Object.assign({},ug)}function ph(){return Kf}const RT="https://content-firebaseappcheck.googleapis.com/v1",x1="exchangeDebugToken",Iw={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class S1{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new F.BH,yield function Tw(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new F.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hr=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function OT(n){if(!si(n).activated)throw Hr.create("use-before-activation",{appName:n.name})}function Yf(n,e){return Dw.apply(this,arguments)}function Dw(){return(Dw=(0,ye.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const o={method:"POST",body:JSON.stringify(e),headers:i};let u,h;try{u=yield fetch(n,o)}catch(D){throw Hr.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==u.status)throw Hr.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(D){throw Hr.create("fetch-parse-error",{originalErrorMessage:D?.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Hr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(m[1]),I=Date.now();return{token:h.token,expireTimeMillis:I+y,issuedAtTimeMillis:I}})).apply(this,arguments)}function hg(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`${RT}/projects/${t}/apps/${i}:${x1}?key=${r}`,body:{debug_token:e}}}const A1="firebase-app-check-database",NT=1,fg="firebase-app-check-store";let Mw=null;function rv(){return(rv=(0,ye.Z)(function*(n,e){const i=(yield function FT(){return Mw||(Mw=new Promise((n,e)=>{try{const t=indexedDB.open(A1,NT);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Hr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(fg,{keyPath:"compositeKey"})}}catch(t){e(Hr.create("storage-open",{originalErrorMessage:t?.message}))}}),Mw)}()).transaction(fg,"readwrite"),o=i.objectStore(fg).put({compositeKey:n,value:e});return new Promise((u,h)=>{o.onsuccess=m=>{u()},i.onerror=m=>{var y;h(Hr.create("storage-set",{originalErrorMessage:null===(y=m.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Jf=new ho.Yd("@firebase/app-check");function jT(n,e){return(0,F.hl)()?function M1(n,e){return function LT(n,e){return rv.apply(this,arguments)}(function UT(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Jf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ow(){return ph().enabled}function Pw(){return ov.apply(this,arguments)}function ov(){return(ov=(0,ye.Z)(function*(){const n=ph();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const HT={error:"UNKNOWN_ERROR"};function k1(n){return F.US.encodeString(JSON.stringify(n),!1)}function av(n){return zT.apply(this,arguments)}function zT(){return(zT=(0,ye.Z)(function*(n,e=!1){const t=n.app;OT(t);const i=si(t);let o,r=i.token;if(r&&!Su(r)&&(i.token=void 0,r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(Su(m)?r=m:yield jT(t,void 0))}if(!e&&r&&Su(r))return{token:r.token};let h,u=!1;if(Ow()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Yf(hg(t,yield Pw()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const m=yield i.exchangeTokenPromise;return yield jT(t,m),i.token=m,{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield si(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Jf.warn(m.message):Jf.error(m),o=m}return r?o?h=Su(r)?{token:r.token,internalError:o}:$T(o):(h={token:r.token},i.token=r,yield jT(t,r)):h=$T(o),u&&function Ic(n,e){const t=si(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(t,h),h})).apply(this,arguments)}function Nw(n){return lv.apply(this,arguments)}function lv(){return(lv=(0,ye.Z)(function*(n){const e=n.app;OT(e);const{provider:t}=si(e);if(Ow()){const i=yield Pw(),{token:r}=yield Yf(hg(e,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function cv(n,e){const t=si(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function O1(n){const{app:e}=n,t=si(e);let i=t.tokenRefresher;i||(i=function Fw(n){const{app:e}=n;return new S1((0,ye.Z)(function*(){let i;if(i=si(e).token?yield av(n,!0):yield av(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=si(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},Iw.RETRIAL_MIN_WAIT,Iw.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function Su(n){return n.expireTimeMillis-Date.now()>0}function $T(n){return{token:k1(HT),error:n}}class cF{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=si(this.app);for(const t of e)cv(this.app,t.next);return Promise.resolve()}}const uv="app-check-internal";!function vg(){(0,uo._registerComponent)(new Bs.wA("app-check",n=>function P1(n,e){return new cF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(uv).initialize()})),(0,uo._registerComponent)(new Bs.wA(uv,n=>function Lw(n){return{getToken:e=>av(n,e),getLimitedUseToken:()=>Nw(n),addTokenListener:e=>function fo(n,e,t,i){const{app:r}=n,o=si(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&Su(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),O1(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>O1(n))}(n,"INTERNAL",e),removeTokenListener:e=>cv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,uo.registerVersion)("@firebase/app-check","0.8.0")}();class wg{constructor(){return(0,Zn.vb)("app-check")}}typeof window<"u"&&window;var zw=N(120);const hv=new l.OlP("angularfire2.auth.use-emulator"),fv=new l.OlP("angularfire2.auth.settings"),jt=new l.OlP("angularfire2.auth.tenant-id"),pv=new l.OlP("angularfire2.auth.langugage-code"),mv=new l.OlP("angularfire2.auth.use-device-language"),Mu=new l.OlP("angularfire.auth.persistence"),gv=(n,e,t,i,r,o,u,h)=>(0,Cs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),i&&(m.tenantId=i),m.languageCode=r,o&&m.useDeviceLanguage(),u)for(const[y,I]of Object.entries(u))m.settings[y]=I;return h&&m.setPersistence(h),m},[t,i,r,o,u,h]);let Go=(()=>{class n{constructor(t,i,r,o,u,h,m,y,I,D,R,V){const j=new Xt.x,W=(0,ut.of)(void 0).pipe((0,hh.Q)(u.outsideAngular),(0,$n.w)(()=>o.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,8977)))),(0,tt.U)(()=>(0,Cs.on)(t,o,i)),(0,tt.U)(fe=>gv(fe,o,h,y,I,D,m,R)),$o({bufferSize:1,refCount:!1}));if(to(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ut.of)(null);else{W.pipe(Zi()).subscribe();const je=W.pipe((0,$n.w)(ct=>ct.getRedirectResult().then(Rt=>Rt,()=>null)),Zn.iC,$o({bufferSize:1,refCount:!1})),Ge=W.pipe((0,$n.w)(ct=>new Fn.y(Rt=>({unsubscribe:o.runOutsideAngular(()=>ct.onAuthStateChanged(Vt=>Rt.next(Vt),Vt=>Rt.error(Vt),()=>Rt.complete()))})))),Xe=W.pipe((0,$n.w)(ct=>new Fn.y(Rt=>({unsubscribe:o.runOutsideAngular(()=>ct.onIdTokenChanged(Vt=>Rt.next(Vt),Vt=>Rt.error(Vt),()=>Rt.complete()))}))));this.authState=je.pipe(ag(Ge),(0,lg.R)(u.outsideAngular),(0,hh.Q)(u.insideAngular)),this.user=je.pipe(ag(Xe),(0,lg.R)(u.outsideAngular),(0,hh.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,$n.w)(ct=>ct?(0,Ln.D)(ct.getIdToken()):(0,ut.of)(null))),this.idTokenResult=this.user.pipe((0,$n.w)(ct=>ct?(0,Ln.D)(ct.getIdTokenResult()):(0,ut.of)(null))),this.credential=(0,Ec.T)(je,j,this.authState.pipe(hi(ct=>!ct))).pipe((0,tt.U)(ct=>ct?.user?ct:null),(0,lg.R)(u.outsideAngular),(0,hh.Q)(u.insideAngular))}return(0,Cs.pX)(this,W,o,{spy:{apply:(fe,je,Ge)=>{(fe.startsWith("signIn")||fe.startsWith("createUser"))&&Ge.then(Xe=>j.next(Xe))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cs.Dh),l.LFG(Cs.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Zn.HU),l.LFG(hv,8),l.LFG(fv,8),l.LFG(jt,8),l.LFG(pv,8),l.LFG(mv,8),l.LFG(Mu,8),l.LFG(wg,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_v=(()=>{class n{constructor(){zw.Z.registerVersion("angularfire",Zn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Go]}),n})();var gl=N(6321);function Eg(){return(0,Di.e)((n,e)=>{let t,i=!1;n.subscribe((0,pn.x)(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var rt,Tc=N(3997),yv=(N(8977),N(3106)),$w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},po={},Cg=Cg||{},zt=$w||self;function vv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ig(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Gw="closure_uid_"+(1e9*Math.random()>>>0),Z1=0;function W1(n,e,t){return n.call.apply(n.bind,arguments)}function K1(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function zr(n,e,t){return(zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?W1:K1).apply(null,arguments)}function Tg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Tr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[r].apply(i,u)}}function Ru(){this.s=this.s,this.o=this.o}Ru.prototype.s=!1,Ru.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function tx(n){Object.prototype.hasOwnProperty.call(n,Gw)&&n[Gw]||(n[Gw]=++Z1)}(this)},Ru.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nx=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function qw(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Y1(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(vv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function xr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}xr.prototype.h=function(){this.defaultPrevented=!0};var ix=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",()=>{},e),zt.removeEventListener("test",()=>{},e)}catch{}return n}();function xg(n){return/^[\s\xa0]*$/.test(n)}function bv(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function _l(n){return-1!=bv().indexOf(n)}function wv(n){return wv[" "](n),n}wv[" "]=function(){};var qo,n,J1=_l("Opera"),ku=_l("Trident")||_l("MSIE"),rx=_l("Edge"),Zw=rx||ku,sx=_l("Gecko")&&!(-1!=bv().toLowerCase().indexOf("webkit")&&!_l("Edge"))&&!(_l("Trident")||_l("MSIE"))&&!_l("Edge"),X1=-1!=bv().toLowerCase().indexOf("webkit")&&!_l("Edge");function ox(){var n=zt.document;return n?n.documentMode:void 0}e:{var Dg="",Ww=(n=bv(),sx?/rv:([^\);]+)(\)|;)/.exec(n):rx?/Edge\/([\d\.]+)/.exec(n):ku?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):X1?/WebKit\/(\S+)/.exec(n):J1?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ww&&(Dg=Ww?Ww[1]:""),ku){var Ev=ox();if(null!=Ev&&Ev>parseFloat(Dg)){qo=String(Ev);break e}}qo=Dg}var ax=zt.document&&ku&&(ox()||parseInt(qo,10))||void 0;function Ou(n,e){if(xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(sx){e:{try{wv(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Qw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ou.$.h.call(this)}}Tr(Ou,xr);var Qw={2:"touch",3:"pen",4:"mouse"};Ou.prototype.h=function(){Ou.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Cv="closure_listenable_"+(1e6*Math.random()|0),lx=0;function cx(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++lx,this.fa=this.ia=!1}function Sg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Iv(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function yl(n){const e={};for(const t in n)e[t]=n[t];return e}const ux="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dx(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<ux.length;o++)t=ux[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function tp(n){this.src=n,this.g={},this.h=0}function Xw(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=nx(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Sg(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Tv(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}tp.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=Tv(n,e,i,r);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new cx(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var eE="closure_lm_"+(1e6*Math.random()|0),np={};function ip(n,e,t,i,r){if(i&&i.once)return eR(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)ip(n,e[o],t,i,r);return null}return t=Av(t),n&&n[Cv]?n.O(e,t,Ig(i)?!!i.capture:!!i,r):tE(n,e,t,!1,i,r)}function tE(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var u=Ig(r)?!!r.capture:!!r,h=iE(n);if(h||(n[eE]=h=new tp(n)),(t=h.add(e,t,i,u,o)).proxy)return t;if(i=function xv(){const e=tR;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)ix||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(nE(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function eR(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)eR(n,e[o],t,i,r);return null}return t=Av(t),n&&n[Cv]?n.P(e,t,Ig(i)?!!i.capture:!!i,r):tE(n,e,t,!0,i,r)}function hx(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)hx(n,e[o],t,i,r);else i=Ig(i)?!!i.capture:!!i,t=Av(t),n&&n[Cv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Tv(o=n.g[e],t,i,r))&&(Sg(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=iE(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Tv(e,t,i,r)),(t=-1<n?e[n]:null)&&Dv(t))}function Dv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Cv])Xw(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(nE(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=iE(e))?(Xw(t,n),0==t.h&&(t.src=null,e[eE]=null)):Sg(n)}}}function nE(n){return n in np?np[n]:np[n]="on"+n}function tR(n,e){if(n.fa)n=!0;else{e=new Ou(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Dv(n),n=t.call(i,e)}return n}function iE(n){return(n=n[eE])instanceof tp?n:null}var Sv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Av(n){return"function"==typeof n?n:(n[Sv]||(n[Sv]=function(e){return n.handleEvent(e)}),n[Sv])}function Ai(){Ru.call(this),this.i=new tp(this),this.S=this,this.J=null}function $r(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new xr(e,n);else if(e instanceof xr)e.target=e.target||n;else{var r=e;dx(e=new xr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var u=e.g=t[o];r=Ag(u,i,!0,e)&&r}if(r=Ag(u=e.g=n,i,!0,e)&&r,r=Ag(u,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=Ag(u=e.g=t[o],i,!1,e)&&r}function Ag(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.fa&&u.capture==t){var h=u.listener,m=u.la||u.src;u.ia&&Xw(n.i,u),r=!1!==h.call(m,i)&&r}}return r&&!i.defaultPrevented}Tr(Ai,Ru),Ai.prototype[Cv]=!0,Ai.prototype.removeEventListener=function(n,e,t,i){hx(this,n,e,t,i)},Ai.prototype.N=function(){if(Ai.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)Sg(t[i]);delete n.g[e],n.h--}}this.J=null},Ai.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Ai.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Mv=zt.JSON.stringify;function iR(){var n=rE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var fx=new class nR{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rR,n=>n.reset());class rR{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function sR(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function oR(n){zt.setTimeout(()=>{throw n},0)}let Rg,kg=!1,rE=new class Mg{constructor(){this.h=this.g=null}add(e,t){const i=fx.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},px=()=>{const n=zt.Promise.resolve(void 0);Rg=()=>{n.then(mx)}};var mx=()=>{for(var n;n=iR();){try{n.h.call(n.g)}catch(t){oR(t)}var e=fx;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}kg=!1};function rp(n,e){Ai.call(this),this.h=n||1,this.g=e||zt,this.j=zr(this.qb,this),this.l=Date.now()}function sE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function sp(n,e,t){if("function"==typeof n)t&&(n=zr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zr(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function gx(n){n.g=sp(()=>{n.g=null,n.i&&(n.i=!1,gx(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Tr(rp,Ai),(rt=rp.prototype).ga=!1,rt.T=null,rt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$r(this,"tick"),this.ga&&(sE(this),this.start()))}},rt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.N=function(){rp.$.N.call(this),sE(this),delete this.g};class aR extends Ru{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gx(this)}N(){super.N(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Og(n){Ru.call(this),this.h=n,this.g={}}Tr(Og,Ru);var _x=[];function yx(n,e,t,i){Array.isArray(t)||(t&&(_x[0]=t.toString()),t=_x);for(var r=0;r<t.length;r++){var o=ip(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function vx(n){Iv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Dv(e)},n),n.g={}}function Rv(){this.g=!0}function op(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ex(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return Mv(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Og.prototype.N=function(){Og.$.N.call(this),vx(this)},Og.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rv.prototype.Ea=function(){this.g=!1},Rv.prototype.info=function(){};var Pu={},lR=null;function gh(){return lR=lR||new Ai}function Cx(n){xr.call(this,Pu.Ta,n)}function Pg(n){const e=gh();$r(e,new Cx(e))}function kv(n,e){xr.call(this,Pu.STAT_EVENT,n),this.stat=e}function Is(n){const e=gh();$r(e,new kv(e,n))}function Ma(n,e){xr.call(this,Pu.Ua,n),this.size=e}function xc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}Pu.Ta="serverreachability",Tr(Cx,xr),Pu.STAT_EVENT="statevent",Tr(kv,xr),Pu.Ua="timingevent",Tr(Ma,xr);var lr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Nu={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ap(){}function Ov(){}ap.prototype.h=null;var Vu,vl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fu(){xr.call(this,"d")}function Lu(){xr.call(this,"c")}function Dc(){}function bl(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Og(this),this.P=lp,this.V=new rp(n=Zw?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _h}function _h(){this.i=null,this.g="",this.h=!1}Tr(Fu,xr),Tr(Lu,xr),Tr(Dc,ap),Dc.prototype.g=function(){return new XMLHttpRequest},Dc.prototype.i=function(){return{}},Vu=new Dc;var lp=45e3,Uu={},Ng={};function Pv(n,e,t){n.L=1,n.v=dp(Sc(e)),n.s=t,n.S=!0,oE(n,null)}function oE(n,e){n.G=Date.now(),cp(n),n.A=Sc(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),jg(t.i,"t",i),n.C=0,t=n.l.J,n.h=new _h,n.g=Kv(n.l,t?e:null,!n.s),0<n.O&&(n.M=new aR(zr(n.Pa,n,n.g),n.O)),yx(n.U,n.g,"readystatechange",n.nb),e=n.I?yl(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Pg(),function bx(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),m=0;m<h.length;m++){var y=h[m].split("=");if(1<y.length){var I=y[0];y=y[1];var D=I.split("_");u=2<=D.length&&"type"==D[1]?u+(I+"=")+y+"&":u+(I+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function aE(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function lE(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Ix(n,t),r==Ng){4==e&&(n.o=4,Is(14),i=!1),op(n.j,n.m,null,"[Incomplete Response]");break}if(r==Uu){n.o=4,Is(15),op(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}op(n.j,n.m,r,null),Tx(n,r)}aE(n)&&r!=Ng&&r!=Uu&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Is(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Wv(e),e.M=!0,Is(11))):(op(n.j,n.m,t,"[Invalid Chunked Response]"),vh(n),yh(n))}function Ix(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Ng:(t=Number(e.substring(t,i)),isNaN(t)?Uu:(i+=1)+t>e.length?Ng:(e=e.slice(i,i+t),n.C=i+t,e))}function cp(n){n.Y=Date.now()+n.P,cE(n,n.P)}function cE(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xc(zr(n.lb,n),e)}function Fg(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function yh(n){0==n.l.H||n.J||CE(n.l,n)}function vh(n){Fg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,sE(n.V),vx(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Tx(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||hE(t.i,n)))if(!n.K&&hE(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Zg(t),qv(t)}Zv(t),Is(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=xc(zr(t.ib,t),6e3));if(1>=Dx(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else js(t,11)}else if((n.K||t.g==n)&&Zg(t),!xg(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.V=y[0],y=y[1],2==t.H)if("c"==y[0]){t.K=y[1],t.pa=y[2];const I=y[3];null!=I&&(t.ra=I,t.l.info("VER="+t.ra));const D=y[4];null!=D&&(t.Ga=D,t.l.info("SVER="+t.Ga));const R=y[5];null!=R&&"number"==typeof R&&0<R&&(t.L=i=1.5*R,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const V=n.g;if(V){const j=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var o=i.i;o.g||-1==j.indexOf("spdy")&&-1==j.indexOf("quic")&&-1==j.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Bv(o,o.h),o.h=null))}if(i.F){const W=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;W&&(i.Da=W,xn(i.I,i.F,W))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=Lx(i,i.J?i.pa:null,i.Y),u.K){fE(i.i,u);var h=u,m=i.L;m&&h.setTimeout(m),h.B&&(Fg(h),cp(h)),i.g=u}else wE(i);0<t.j.length&&Gg(t)}else"stop"!=y[0]&&"close"!=y[0]||js(t,7);else 3==t.H&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?js(t,7):Gv(t):"noop"!=y[0]&&t.h&&t.h.Aa(y),t.A=0)}Pg()}catch{}}function xx(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function cR(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(vv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function gF(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(vv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(rt=bl.prototype).setTimeout=function(n){this.P=n},rt.nb=function(n){n=n.target;const e=this.M;e&&3==Ra(n)?e.l():this.Pa(n)},rt.Pa=function(n){try{if(n==this.g)e:{const I=Ra(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||Zw||this.g&&(this.h.h||this.g.ja()||zv(this.g)))){this.J||4!=I||7==e||Pg(),Fg(this);var t=this.g.da();this.ca=t;t:if(aE(this)){var i=zv(this.g);n="";var r=i.length,o=4==Ra(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){vh(this),yh(this);var u="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function wx(n,e,t,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.W,I,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xg(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Is(12),vh(this),yh(this);break e}op(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tx(this,t)}this.S?(lE(this,I,u),Zw&&this.i&&3==I&&(yx(this.U,this.V,"tick",this.mb),this.V.start())):(op(this.j,this.m,u,null),Tx(this,u)),4==I&&vh(this),this.i&&!this.J&&(4==I?CE(this.l,this):(this.i=!1,cp(this)))}else(function Ox(n){const e={};n=(n.g&&2<=Ra(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(xg(n[i]))continue;var t=sR(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function Jw(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Is(12)):(this.o=0,Is(13)),vh(this),yh(this)}}}catch{}},rt.mb=function(){if(this.g){var n=Ra(this.g),e=this.g.ja();this.C<e.length&&(Fg(this),lE(this,n,e),this.i&&4!=n&&cp(this))}},rt.cancel=function(){this.J=!0,vh(this)},rt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function mF(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Pg(),Is(17)),vh(this),this.o=2,yh(this)):cE(this,this.Y-n)};var uR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function up(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof up){this.h=n.h,Nv(this,n.j),this.s=n.s,this.g=n.g,Fv(this,n.m),this.l=n.l;var e=n.i,t=new Ug;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Lv(this,t),this.o=n.o}else n&&(e=String(n).match(uR))?(this.h=!1,Nv(this,e[1]||"",!0),this.s=Bu(e[2]||""),this.g=Bu(e[3]||"",!0),Fv(this,e[4]),this.l=Bu(e[5]||"",!0),Lv(this,e[6]||"",!0),this.o=Bu(e[7]||"")):(this.h=!1,this.i=new Ug(null,this.h))}function Sc(n){return new up(n)}function Nv(n,e,t){n.j=t?Bu(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Fv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Lv(n,e,t){e instanceof Ug?(n.i=e,function mR(n,e){e&&!n.j&&(ju(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Vv(this,i),jg(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=hp(e,fR)),n.i=new Ug(e,n.h))}function xn(n,e,t){n.i.set(e,t)}function dp(n){return xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bu(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function hp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Lg),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Lg(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}up.prototype.toString=function(){var n=[],e=this.j;e&&n.push(hp(e,uE,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(hp(e,uE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(hp(t,"/"==t.charAt(0)?Vg:hR,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",hp(t,pR)),n.join("")};var uE=/[#\/\?@]/g,hR=/[#\?:]/g,Vg=/[#\?]/g,fR=/[#\?@]/g,pR=/#/g;function Ug(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ju(n){n.g||(n.g=new Map,n.h=0,n.i&&function dR(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Vv(n,e){ju(n),e=Hg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Bg(n,e){return ju(n),e=Hg(n,e),n.g.has(e)}function jg(n,e,t){Vv(n,e),0<t.length&&(n.i=null,n.g.set(Hg(n,e),qw(t)),n.h+=t.length)}function Hg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Uv(n){this.l=n||_R,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ka&&zt.g.Ka()&&zt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=Ug.prototype).add=function(n,e){ju(this),this.i=null,n=Hg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){ju(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},rt.ta=function(){ju(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},rt.Z=function(n){ju(this);let e=[];if("string"==typeof n)Bg(this,n)&&(e=e.concat(this.g.get(Hg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},rt.set=function(n,e){return ju(this),this.i=null,Bg(this,n=Hg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var _R=10;function dE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Dx(n){return n.h?1:n.g?n.g.size:0}function hE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Bv(n,e){n.g?n.g.add(e):n.h=e}function fE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function pE(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return qw(n.i)}Uv.prototype.cancel=function(){if(this.i=pE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var yR=class{stringify(n){return zt.JSON.stringify(n,void 0)}parse(n){return zt.JSON.parse(n,void 0)}};function vR(){this.g=new yR}function bR(n,e,t){const i=t||"";try{xx(n,function(r,o){let u=r;Ig(r)&&(u=Mv(r)),e.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function fp(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function bh(n){this.l=n.fc||null,this.j=n.ob||!1}function jv(n,e){Ai.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=pp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tr(bh,ap),bh.prototype.g=function(){return new jv(this.l,this.j)},bh.prototype.i=function(n){return function(){return n}}({}),Tr(jv,Ai);var pp=0;function zg(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function wh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,mp(n)}function mp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=jv.prototype).open=function(n,e){if(this.readyState!=pp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,mp(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||zt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,wh(this)),this.readyState=pp},rt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,mp(this)),this.g&&(this.readyState=3,mp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zg(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},rt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?wh(this):mp(this),3==this.readyState&&zg(this)}},rt.Za=function(n){this.g&&(this.response=this.responseText=n,wh(this))},rt.Ya=function(n){this.g&&(this.response=n,wh(this))},rt.ka=function(){this.g&&wh(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(jv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var wR=zt.JSON.parse;function Mi(n){Ai.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ax,this.L=this.M=!1}Tr(Mi,Ai);var Ax="",mE=/^https?$/i,gE=["POST","PUT"];function _E(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Rx(n),$g(n)}function Rx(n){n.F||(n.F=!0,$r(n,"complete"),$r(n,"error"))}function kx(n){if(n.h&&typeof Cg<"u"&&(!n.C[1]||4!=Ra(n)||2!=n.da()))if(n.v&&4==Ra(n))sp(n.La,0,n);else if($r(n,"readystatechange"),4==Ra(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===u){var r=String(n.I).match(uR)[1]||null;!r&&zt.self&&zt.self.location&&(r=zt.self.location.protocol.slice(0,-1)),i=!mE.test(r?r.toLowerCase():"")}t=i}if(t)$r(n,"complete"),$r(n,"success");else{n.m=6;try{var o=2<Ra(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",Rx(n)}}finally{$g(n)}}}function $g(n,e){if(n.g){Hv(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||$r(n,"ready");try{t.onreadystatechange=i}catch{}}}function Hv(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function Ra(n){return n.g?n.g.readyState:0}function zv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Ax:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Px(n){let e="";return Iv(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function $v(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=Px(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):xn(n,e,t))}function gp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function yE(n){this.Ga=0,this.j=[],this.l=new Rv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=gp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=gp("baseRetryDelayMs",5e3,n),this.hb=gp("retryDelaySeedMs",1e4,n),this.eb=gp("forwardChannelMaxRetries",2,n),this.xa=gp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Uv(n&&n.concurrentRequestLimit),this.Ja=new vR,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Gv(n){if(vE(n),3==n.H){var e=n.W++,t=Sc(n.I);if(xn(t,"SID",n.K),xn(t,"RID",e),xn(t,"TYPE","terminate"),_p(n,t),(e=new bl(n,n.l,e)).L=2,e.v=dp(Sc(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon)try{t=zt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Kv(e.l,null),e.g.ha(e.v)),e.G=Date.now(),cp(e)}Fx(n)}function qv(n){n.g&&(Wv(n),n.g.cancel(),n.g=null)}function vE(n){qv(n),n.u&&(zt.clearTimeout(n.u),n.u=null),Zg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function Gg(n){if(!dE(n.i)&&!n.m){n.m=!0;var e=n.Na;Rg||px(),kg||(Rg(),kg=!0),rE.add(e,n),n.C=0}}function qg(n,e){var t;t=e?e.m:n.W++;const i=Sc(n.I);xn(i,"SID",n.K),xn(i,"RID",t),xn(i,"AID",n.V),_p(n,i),n.o&&n.s&&$v(i,n.o,n.s),t=new bl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=bE(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Bv(n.i,t),Pv(t,i,e)}function _p(n,e){n.na&&Iv(n.na,function(t,i){xn(e,i,t)}),n.h&&xx({},function(t,i){xn(e,i,t)})}function bE(n,e,t){t=Math.min(n.j.length,t);var i=n.h?zr(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const u=["count="+t];-1==o?0<t?(o=r[0].g,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let m=0;m<t;m++){let y=r[m].g;const I=r[m].map;if(y-=o,0>y)o=Math.max(0,r[m].g-100),h=!1;else try{bR(I,u,"req"+y+"_")}catch{i&&i(I)}}if(h){i=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function wE(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Rg||px(),kg||(Rg(),kg=!0),rE.add(e,n),n.A=0}}function Zv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=xc(zr(n.Ma,n),Wg(n,n.A)),n.A++,0))}function Wv(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function EE(n){n.g=new bl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Sc(n.wa);xn(e,"RID","rpc"),xn(e,"SID",n.K),xn(e,"AID",n.V),xn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&xn(e,"TO",n.qa),xn(e,"TYPE","xmlhttp"),_p(n,e),n.o&&n.s&&$v(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=dp(Sc(e)),t.s=null,t.S=!0,oE(t,n)}function Zg(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function CE(n,e){var t=null;if(n.g==e){Zg(n),Wv(n),n.g=null;var i=2}else{if(!hE(n.i,e))return;t=e.F,fE(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;$r(i=gh(),new Ma(i,t)),Gg(n)}else wE(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function Nx(n,e){return!(Dx(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=xc(zr(n.Na,n,e),Wg(n,n.C)),n.C++,0)))}(n,e)||2==i&&Zv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:js(n,5);break;case 4:js(n,10);break;case 3:js(n,6);break;default:js(n,2)}}function Wg(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function js(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=zr(n.pb,n);t||(t=new up("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||Nv(t,"https"),dp(t)),function Sx(n,e){const t=new Rv;if(zt.Image){const i=new Image;i.onload=Tg(fp,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Tg(fp,t,i,"TestLoadImage: error",!1,e),i.onabort=Tg(fp,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Tg(fp,t,i,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Is(2);n.H=0,n.h&&n.h.za(e),Fx(n),vE(n)}function Fx(n){if(n.H=0,n.ma=[],n.h){const e=pE(n.i);(0!=e.length||0!=n.j.length)&&(Y1(n.ma,e),Y1(n.ma,n.j),n.i.i.length=0,qw(n.j),n.j.length=0),n.h.ya()}}function Lx(n,e,t){var i=t instanceof up?Sc(t):new up(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Fv(i,i.m);else{var r=zt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new up(null);i&&Nv(o,i),e&&(o.g=e),r&&Fv(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&xn(i,t,e),xn(i,"VER",n.ra),_p(n,i),i}function Kv(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mi(t&&n.Ha&&!n.va?new bh({ob:!0}):n.va)).Oa(n.J),e}function Hu(){}function yp(){if(ku&&!(10<=Number(ax)))throw Error("Environmental error: no available transport.")}function _o(n,e){Ai.call(this),this.g=new yE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!xg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Kg(this)}function Yv(n){Fu.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ER(){Lu.call(this),this.status=1}function Kg(n){this.g=n}function ka(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Qv(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],u=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;u=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(u<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((o=(e=t+((u=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=o+((u=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Dn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(rt=Mi.prototype).Oa=function(n){this.M=n},rt.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Vu.g(),this.C=function go(n){return n.h||(n.h=n.i())}(this.u?this.u:Vu),this.g.onreadystatechange=zr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void _E(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=zt.FormData&&n instanceof zt.FormData,!(0<=nx(gE,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of t)this.g.setRequestHeader(o,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Hv(this),0<this.B&&((this.L=function Mx(n){return ku&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zr(this.ua,this)):this.A=sp(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){_E(this,o)}},rt.ua=function(){typeof Cg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$r(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,$r(this,"complete"),$r(this,"abort"),$g(this))},rt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$g(this,!0)),Mi.$.N.call(this)},rt.La=function(){this.s||(this.G||this.v||this.l?kx(this):this.kb())},rt.kb=function(){kx(this)},rt.isActive=function(){return!!this.g},rt.da=function(){try{return 2<Ra(this)?this.g.status:-1}catch{return-1}},rt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},rt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),wR(e)}},rt.Ia=function(){return this.m},rt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=yE.prototype).ra=8,rt.H=1,rt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new bl(this,this.l,n);let o=this.s;if(this.U&&(o?(o=yl(o),dx(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bE(this,r,e),xn(t=Sc(this.I),"RID",n),xn(t,"CVER",22),this.F&&xn(t,"X-HTTP-Session-Id",this.F),_p(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(Px(o)))+"&"+e:this.o&&$v(t,this.o,o)),Bv(this.i,r),this.bb&&xn(t,"TYPE","init"),this.P?(xn(t,"$req",e),xn(t,"SID","null"),r.aa=!0,Pv(r,t,null)):Pv(r,t,e),this.H=2}}else 3==this.H&&(n?qg(this,n):0==this.j.length||dE(this.i)||qg(this))},rt.Ma=function(){if(this.u=null,EE(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=xc(zr(this.jb,this),n)}},rt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Is(10),qv(this),EE(this))},rt.ib=function(){null!=this.v&&(this.v=null,qv(this),Zv(this),Is(19))},rt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Is(2)):(this.l.info("Failed to ping google.com"),Is(1))},rt.isActive=function(){return!!this.h&&this.h.isActive(this)},(rt=Hu.prototype).Ba=function(){},rt.Aa=function(){},rt.za=function(){},rt.ya=function(){},rt.isActive=function(){return!0},rt.Va=function(){},yp.prototype.g=function(n,e){return new _o(n,e)},Tr(_o,Ai),_o.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Is(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Lx(n,null,n.Y),Gg(n)},_o.prototype.close=function(){Gv(this.g)},_o.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Mv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Gg(e)},_o.prototype.N=function(){this.g.h=null,delete this.j,Gv(this.g),delete this.g,_o.$.N.call(this)},Tr(Yv,Fu),Tr(ER,Lu),Tr(Kg,Hu),Kg.prototype.Ba=function(){$r(this.g,"a")},Kg.prototype.Aa=function(n){$r(this.g,new Yv(n))},Kg.prototype.za=function(n){$r(this.g,new ER)},Kg.prototype.ya=function(){$r(this.g,"b")},Tr(ka,function CR(){this.blockSize=-1}),ka.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ka.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)Qv(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){Qv(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){Qv(this,i),r=0;break}}this.h=r,this.i+=e},ka.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var cr={};function Jv(n){return-128<=n&&128>n?function Q1(n,e){var t=cr;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Dn([0|e],0>e?-1:0)}):new Dn([0|n],0>n?-1:0)}function wl(n){if(isNaN(n)||!isFinite(n))return vp;if(0>n)return Gr(wl(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Xv;return new Dn(e,0)}var Xv=4294967296,vp=Jv(0),eb=Jv(1),IE=Jv(16777216);function Hs(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Zo(n){return-1==n.h}function Gr(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Dn(t,~n.h).add(eb)}function Yg(n,e){return n.add(Gr(e))}function tb(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function bp(n,e){this.g=n,this.h=e}function TE(n,e){if(Hs(e))throw Error("division by zero");if(Hs(n))return new bp(vp,vp);if(Zo(n))return e=TE(Gr(n),e),new bp(Gr(e.g),Gr(e.h));if(Zo(e))return e=TE(n,Gr(e)),new bp(Gr(e.g),e.h);if(30<n.g.length){if(Zo(n)||Zo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=eb,i=e;0>=i.X(n);)t=nb(t),i=nb(i);var r=zu(t,1),o=zu(i,1);for(i=zu(i,2),t=zu(t,2);!Hs(i);){var u=o.add(i);0>=u.X(n)&&(r=r.add(t),o=u),i=zu(i,1),t=zu(t,1)}return e=Yg(n,r.R(e)),new bp(r,e)}for(r=vp;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(o=wl(t)).R(e);Zo(u)||0<u.X(n);)u=(o=wl(t-=i)).R(e);Hs(o)&&(o=eb),r=r.add(o),n=Yg(n,u)}return new bp(r,n)}function nb(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Dn(t,n.h)}function zu(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Dn(r,n.h)}(rt=Dn.prototype).ea=function(){if(Zo(this))return-Gr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Xv+i)*e,e*=Xv}return n},rt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Hs(this))return"0";if(Zo(this))return"-"+Gr(this).toString(n);for(var e=wl(Math.pow(n,6)),t=this,i="";;){var r=TE(t,e).g,o=((0<(t=Yg(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Hs(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},rt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},rt.X=function(n){return Zo(n=Yg(this,n))?-1:Hs(n)?0:1},rt.abs=function(){return Zo(this)?Gr(this):this},rt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),u=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,t[r]=(u&=65535)<<16|(o&=65535)}return new Dn(t,-2147483648&t[t.length-1]?-1:0)},rt.R=function(n){if(Hs(this)||Hs(n))return vp;if(Zo(this))return Zo(n)?Gr(this).R(Gr(n)):Gr(Gr(this).R(n));if(Zo(n))return Gr(this.R(Gr(n)));if(0>this.X(IE)&&0>n.X(IE))return wl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,u=65535&this.D(i),h=n.D(r)>>>16,m=65535&n.D(r);t[2*i+2*r]+=u*m,tb(t,2*i+2*r),t[2*i+2*r+1]+=o*m,tb(t,2*i+2*r+1),t[2*i+2*r+1]+=u*h,tb(t,2*i+2*r+1),t[2*i+2*r+2]+=o*h,tb(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Dn(t,0)},rt.gb=function(n){return TE(this,n).h},rt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Dn(t,this.h&n.h)},rt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Dn(t,this.h|n.h)},rt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Dn(t,this.h^n.h)},yp.prototype.createWebChannel=yp.prototype.g,_o.prototype.send=_o.prototype.u,_o.prototype.open=_o.prototype.m,_o.prototype.close=_o.prototype.close,lr.NO_ERROR=0,lr.TIMEOUT=8,lr.HTTP_ERROR=6,Nu.COMPLETE="complete",Ov.EventType=vl,vl.OPEN="a",vl.CLOSE="b",vl.ERROR="c",vl.MESSAGE="d",Ai.prototype.listen=Ai.prototype.O,Mi.prototype.listenOnce=Mi.prototype.P,Mi.prototype.getLastError=Mi.prototype.Sa,Mi.prototype.getLastErrorCode=Mi.prototype.Ia,Mi.prototype.getStatus=Mi.prototype.da,Mi.prototype.getResponseJson=Mi.prototype.Wa,Mi.prototype.getResponseText=Mi.prototype.ja,Mi.prototype.send=Mi.prototype.ha,Mi.prototype.setWithCredentials=Mi.prototype.Oa,ka.prototype.digest=ka.prototype.l,ka.prototype.reset=ka.prototype.reset,ka.prototype.update=ka.prototype.j,Dn.prototype.add=Dn.prototype.add,Dn.prototype.multiply=Dn.prototype.R,Dn.prototype.modulo=Dn.prototype.gb,Dn.prototype.compare=Dn.prototype.X,Dn.prototype.toNumber=Dn.prototype.ea,Dn.prototype.toString=Dn.prototype.toString,Dn.prototype.getBits=Dn.prototype.D,Dn.fromNumber=wl,Dn.fromString=function Vx(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Gr(Vx(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=wl(Math.pow(e,8)),i=vp,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+o),e);8>o?(o=wl(Math.pow(e,o)),i=i.R(o).add(wl(u))):i=(i=i.R(t)).add(wl(u))}return i};var El=po.createWebChannelTransport=function(){return new yp},IR=po.getStatEventTarget=function(){return gh()},xE=po.ErrorCode=lr,Cl=po.EventType=Nu,Oa=po.Event=Pu,Wo=po.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ux=po.FetchXmlHttpFactory=bh,Qg=po.WebChannel=Ov,TR=po.XhrIo=Mi,xR=po.Md5=ka,wp=po.Integer=Dn;const Bx="@firebase/firestore";class nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");let Il="9.23.0";const $u=new ho.Yd("@firebase/firestore");function ib(){return $u.logLevel}function Ue(n,...e){if($u.logLevel<=ho.in.DEBUG){const t=e.map(Ep);$u.debug(`Firestore (${Il}): ${n}`,...t)}}function Ri(n,...e){if($u.logLevel<=ho.in.ERROR){const t=e.map(Ep);$u.error(`Firestore (${Il}): ${n}`,...t)}}function yo(n,...e){if($u.logLevel<=ho.in.WARN){const t=e.map(Ep);$u.warn(`Firestore (${Il}): ${n}`,...t)}}function Ep(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: `+n;throw Ri(e),new Error(e)}function mt(n,e){n||dt()}function nt(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends F.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Jg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nr.UNAUTHENTICATED))}shutdown(){}}class zx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $x{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let u=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=u;e.enqueueRetryable((0,ye.Z)(function*(){yield y.promise,yield o(i.currentUser)}))},m=y=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(mt("string"==typeof i.accessToken),new Jg(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mt(null===e||"string"==typeof e),new nr(e)}}class Gx{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qx{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new Gx(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zx{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.T;return this.T=o.token,Ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt("string"==typeof t.token),this.T=t.token,new DE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function AR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class Wx{static A(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=AR(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Ht(n,e){return n<e?-1:n>e?1:0}function Cp(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function Kx(n){return n+"\0"}class oi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return oi.fromMillis(Date.now())}static fromDate(e){return oi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new oi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bt(e)}static min(){return new bt(new oi(0,0))}static max(){return new bt(new oi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xg{constructor(e,t,i){void 0===t?t=0:t>e.length&&dt(),void 0===i?i=e.length-t:i>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Xg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),u=t.get(r);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends Xg{construct(e,t,i){return new dn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const MR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ki extends Xg{construct(e,t,i){return new ki(e,t,i)}static isValidIdentifier(e){return MR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ki.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ki(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Re(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Re(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Re(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Re(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ki(t)}static emptyPath(){return new ki([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(dn.fromString(e))}static fromName(e){return new Qe(dn.fromString(e).popFirst(5))}static empty(){return new Qe(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new dn(e.slice()))}}class rb{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function SE(n){return n.fields.find(e=>2===e.kind)}function Eh(n){return n.fields.filter(e=>2!==e.kind)}rb.UNKNOWN_ID=-1;class sb{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ip{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ip(0,zs.min())}}function AE(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=bt.fromTimestamp(1e9===i?new oi(t+1,0):new oi(t,i));return new zs(r,Qe.empty(),e)}function ME(n){return new zs(n.readTime,n.key,-1)}class zs{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new zs(bt.min(),Qe.empty(),-1)}static max(){return new zs(bt.max(),Qe.empty(),-1)}}function ob(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:Ht(n.largestBatchId,e.largestBatchId))}const RE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ac(n){return ab.apply(this,arguments)}function ab(){return ab=(0,ye.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==RE)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),ab.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,i)=>{t(e)})}static reject(e){return new oe((t,i)=>{i(e)})}static waitFor(e){return new oe((t,i)=>{let r=0,o=0,u=!1;e.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&t()},m=>i(m))}),u=!0,o===r&&t()})}static or(e){let t=oe.resolve(!1);for(const i of e)t=t.next(r=>r?oe.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new oe((i,r)=>{const o=e.length,u=new Array(o);let h=0;for(let m=0;m<o;m++){const y=m;t(e[y]).next(I=>{u[y]=I,++h,h===o&&i(u)},I=>r(I))}})}static doWhile(e,t){return new oe((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class e_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Wi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new t_(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=lb(i.target.error);this.v.reject(new t_(e,r))}}static open(e,t,i,r){try{return new e_(t,e.transaction(r,i))}catch(o){throw new t_(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _F(t)}}class qr{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===qr.S((0,F.z$)())&&Ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),Mc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,F.hl)())return!1;if(qr.C())return!0;const e=(0,F.z$)(),t=qr.S(e),i=0<t&&t<10,r=qr.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new t_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Re(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Re(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new t_(e,h))},o.onupgradeneeded=u=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.O(u.target.result,o.transaction,u.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,ye.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.$(e);const m=e_.open(o.db,e,u?"readonly":"readwrite",i),y=r(m).next(I=>(m.P(),I)).catch(I=>(m.abort(I),oe.reject(I))).toPromise();return y.catch(()=>{}),yield m.R,y}catch(m){const y=m,I="FirebaseError"!==y.name&&h<3;if(Ue("SimpleDb","Transaction failed with error:",y.message,"Retrying:",I),o.close(),!I)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class OR{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Mc(this.L.delete())}}class t_ extends Re{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function vo(n){return"IndexedDbTransactionError"===n.name}class _F{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Mc(i)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),Mc(this.store.add(e))}get(e){return Mc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),Mc(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),Mc(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new oe((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new oe((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,u,h)=>h.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new oe((i,r)=>{t.onerror=o=>{const u=lb(o.target.error);r(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}W(e,t){const i=[];return new oe((r,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const m=new OR(h),y=t(h.primaryKey,h.value,m);if(y instanceof oe){const I=y.catch(D=>(m.done(),oe.reject(D)));i.push(I)}m.isDone?r():null===m.K?h.continue():h.continue(m.K)}}).next(()=>oe.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Mc(n){return new oe((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=lb(i.target.error);t(r)}})}let PR=!1;function lb(n){const e=qr.S((0,F.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PR||(PR=!0,setTimeout(()=>{throw i},0)),i}}return n}class Yx{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Ue("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){vo(i)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Ac(i)}yield t.et(6e4)}))}}class yF{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,o=!0;return oe.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Ue("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(r,o)).next(h=>(Ue("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,o)=>{const u=ME(o);ob(u,i)>0&&(i=u)}),new zs(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Dr=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function n_(n){return null==n}function i_(n){return 0===n&&1/n==-1/0}function Qx(n){return"number"==typeof n&&Number.isInteger(n)&&!i_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ki(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=r_(e)),e=NR(n.get(t),e);return r_(e)}function NR(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function r_(n){return n+"\x01\x01"}function bo(n){const e=n.length;if(mt(e>=2),2===e)return mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const u=n.indexOf("\x01",o);switch((u<0||u>t)&&dt(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let m;0===r.length?m=h:(r+=h,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:dt()}o=u+2}return new dn(i)}const Ts=["userId","batchId"];function OE(n,e){return[n,Ki(e)]}function PE(n,e,t){return[n,Ki(e),t]}const Jx={},FR=["prefixPath","collectionGroup","readTime","documentId"],Xx=["prefixPath","collectionGroup","documentId"],eD=["collectionGroup","readTime","prefixPath","documentId"],tD=["canonicalId","targetId"],nD=["targetId","path"],LR=["path","targetId"],VR=["collectionId","parent"],UR=["indexId","uid"],s_=["uid","sequenceNumber"],BR=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jR=["indexId","uid","orderedDocumentKey"],HR=["userId","collectionPath","documentId"],cb=["userId","collectionPath","largestBatchId"],iD=["userId","collectionGroup","largestBatchId"],NE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],rD=[...NE,"documentOverlays"],sD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Tp=sD,o_=[...Tp,"indexConfiguration","indexState","indexEntries"];class FE extends kE{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Sr(n,e){const t=nt(n);return qr.M(t.ht,e)}function oD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function LE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Vn{constructor(e,t){this.comparator=e,this.root=t||Ar.EMPTY}insert(e,t){return new Vn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(e){return new Vn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ub(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ub(this.root,e,this.comparator,!1)}getReverseIterator(){return new ub(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ub(this.root,e,this.comparator,!0)}}class ub{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ar{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Ar.RED,this.left=r??Ar.EMPTY,this.right=o??Ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Ar(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ar.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1,Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Ar(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wn{constructor(e){this.comparator=e,this.data=new Vn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aD(this.data.getIterator())}getIteratorFrom(e){return new aD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wn(this.comparator);return t.data=e,t}}class aD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function a_(n){return n.hasNext()?n.getNext():void 0}class wo{constructor(e){this.fields=e,e.sort(ki.comparator)}static empty(){return new wo([])}unionWith(e){let t=new Wn(ki.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new wo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cp(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class zR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ir{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new zR("Invalid base64 string: "+r):r}}(e);return new ir(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new ir(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ir.EMPTY_BYTE_STRING=new ir("");const db=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gu(n){if(mt(!!n),"string"==typeof n){let e=0;const t=db.exec(n);if(mt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Oi(n.seconds),nanos:Oi(n.nanos)}}function Oi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Tl(n){return"string"==typeof n?ir.fromBase64String(n):ir.fromUint8Array(n)}function qu(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function hb(n){const e=n.mapValue.fields.__previous_value__;return qu(e)?hb(e):e}function l_(n){const e=Gu(n.mapValue.fields.__local_write_time__.timestampValue);return new oi(e.seconds,e.nanos)}class $R{constructor(e,t,i,r,o,u,h,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=y}}class Zu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Zu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zu&&e.projectId===this.projectId&&e.database===this.database}}const Ch={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fb={nullValue:"NULL_VALUE"};function kc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qu(n)?4:uD(n)?9007199254740991:10:dt()}function xl(n,e){if(n===e)return!0;const t=kc(n);if(t!==kc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return l_(n).isEqual(l_(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Gu(i.timestampValue),u=Gu(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Tl(n.bytesValue).isEqual(Tl(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Oi(i.geoPointValue.latitude)===Oi(r.geoPointValue.latitude)&&Oi(i.geoPointValue.longitude)===Oi(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Oi(i.integerValue)===Oi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Oi(i.doubleValue),u=Oi(r.doubleValue);return o===u?i_(o)===i_(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return Cp(n.arrayValue.values||[],e.arrayValue.values||[],xl);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(oD(o)!==oD(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!xl(o[h],u[h])))return!1;return!0}(n,e);default:return dt()}var r}function c_(n,e){return void 0!==(n.values||[]).find(t=>xl(t,e))}function Ko(n,e){if(n===e)return 0;const t=kc(n),i=kc(e);if(t!==i)return Ht(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(r,o){const u=Oi(r.integerValue||r.doubleValue),h=Oi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return lD(n.timestampValue,e.timestampValue);case 4:return lD(l_(n),l_(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(r,o){const u=Tl(r),h=Tl(o);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let m=0;m<u.length&&m<h.length;m++){const y=Ht(u[m],h[m]);if(0!==y)return y}return Ht(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const u=Ht(Oi(r.latitude),Oi(o.latitude));return 0!==u?u:Ht(Oi(r.longitude),Oi(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let m=0;m<u.length&&m<h.length;++m){const y=Ko(u[m],h[m]);if(y)return y}return Ht(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===Ch.mapValue&&o===Ch.mapValue)return 0;if(r===Ch.mapValue)return 1;if(o===Ch.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),m=o.fields||{},y=Object.keys(m);h.sort(),y.sort();for(let I=0;I<h.length&&I<y.length;++I){const D=Ht(h[I],y[I]);if(0!==D)return D;const R=Ko(u[h[I]],m[y[I]]);if(0!==R)return R}return Ht(h.length,y.length)}(n.mapValue,e.mapValue);default:throw dt()}}function lD(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=Gu(n),i=Gu(e),r=Ht(t.seconds,i.seconds);return 0!==r?r:Ht(t.nanos,i.nanos)}function Ih(n){return VE(n)}function VE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Gu(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Tl(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=VE(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${VE(i.fields[h])}`;return o+"}"}(n.mapValue):dt();var e}function Th(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pb(n){return!!n&&"integerValue"in n}function d_(n){return!!n&&"arrayValue"in n}function mb(n){return!!n&&"nullValue"in n}function cD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function h_(n){return!!n&&"mapValue"in n}function xp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Rc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=xp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uD(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function GR(n){return"nullValue"in n?fb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Th(Zu.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function qR(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Th(Zu.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ch:dt()}function gb(n,e){const t=Ko(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function dD(n,e){const t=Ko(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Mr{constructor(e){this.value=e}static empty(){return new Mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!h_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xp(t)}setAll(e){let t=ki.emptyPath(),i={},r=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,i,r),i={},r=[],t=h.popLast()}u?i[h.lastSegment()]=xp(u):r.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());h_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];h_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Rc(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Mr(xp(this.value))}}function hD(n){const e=[];return Rc(n.fields,(t,i)=>{const r=new ki([t]);if(h_(i)){const o=hD(i.mapValue).fields;if(0===o.length)e.push(r);else for(const u of o)e.push(r.child(u))}else e.push(r)}),new wo(e)}class Kn{constructor(e,t,i,r,o,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Kn(e,0,bt.min(),bt.min(),bt.min(),Mr.empty(),0)}static newFoundDocument(e,t,i,r){return new Kn(e,1,t,bt.min(),i,r,0)}static newNoDocument(e,t){return new Kn(e,2,t,bt.min(),bt.min(),Mr.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,bt.min(),bt.min(),Mr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wu{constructor(e,t){this.position=e,this.inclusive=t}}function fD(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],u=n.position[r];if(i=o.field.isKeyField()?Qe.comparator(Qe.fromName(u.referenceValue),t.key):Ko(u,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function pD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xl(n.position[t],e.position[t]))return!1;return!0}class Dp{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class mD{}class rn extends mD{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new jE(e,t,i):"array-contains"===t?new WR(e,i):"in"===t?new vb(e,i):"not-in"===t?new KR(e,i):"array-contains-any"===t?new wD(e,i):new rn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new vD(e,i):new HE(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ko(t,this.value)):null!==t&&kc(this.value)===kc(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class wn extends mD{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new wn(e,t)}matches(e){return Sp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Sp(n){return"and"===n.op}function UE(n){return"or"===n.op}function _b(n){return gD(n)&&Sp(n)}function gD(n){for(const e of n.filters)if(e instanceof wn)return!1;return!0}function BE(n){if(n instanceof rn)return n.field.canonicalString()+n.op.toString()+Ih(n.value);if(_b(n))return n.filters.map(e=>BE(e)).join(",");{const e=n.filters.map(t=>BE(t)).join(",");return`${n.op}(${e})`}}function _D(n,e){return n instanceof rn?(t=n,(i=e)instanceof rn&&t.op===i.op&&t.field.isEqual(i.field)&&xl(t.value,i.value)):n instanceof wn?function(t,i){return i instanceof wn&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,u)=>r&&_D(o,i.filters[u]),!0)}(n,e):void dt();var t,i}function yD(n,e){const t=n.filters.concat(e);return wn.create(t,n.op)}function yb(n){return n instanceof rn?`${(e=n).field.canonicalString()} ${e.op} ${Ih(e.value)}`:n instanceof wn?function(e){return e.op.toString()+" {"+e.getFilters().map(yb).join(" ,")+"}"}(n):"Filter";var e}class jE extends rn{constructor(e,t,i){super(e,t,i),this.key=Qe.fromName(i.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class vD extends rn{constructor(e,t){super(e,"in",t),this.keys=bD(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HE extends rn{constructor(e,t){super(e,"not-in",t),this.keys=bD(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bD(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Qe.fromName(i.referenceValue))}class WR extends rn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return d_(t)&&c_(t.arrayValue,this.value)}}class vb extends rn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&c_(this.value.arrayValue,t)}}class KR extends rn{constructor(e,t){super(e,"not-in",t)}matches(e){if(c_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!c_(this.value.arrayValue,t)}}class wD extends rn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!d_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>c_(this.value.arrayValue,i))}}class xh{constructor(e,t=null,i=[],r=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.dt=null}}function bb(n,e=null,t=[],i=[],r=null,o=null,u=null){return new xh(n,e,t,i,r,o,u)}function Dh(n){const e=nt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>BE(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),n_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ih(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ih(i)).join(",")),e.dt=t}return e.dt}function wb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ZR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_D(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pD(n.startAt,e.startAt)&&pD(n.endAt,e.endAt)}function Ap(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Mp(n,e){return n.filters.filter(t=>t instanceof rn&&t.field.isEqual(e))}function ED(n,e,t){let i=fb,r=!0;for(const o of Mp(n,e)){let u=fb,h=!0;switch(o.op){case"<":case"<=":u=GR(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=fb}gb({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];gb({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function zE(n,e,t){let i=Ch,r=!0;for(const o of Mp(n,e)){let u=Ch,h=!0;switch(o.op){case">=":case">":u=qR(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Ch}dD({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];dD({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class Dl{constructor(e,t=null,i=[],r=[],o=null,u="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=m,this.wt=null,this._t=null}}function CD(n,e,t,i,r,o,u,h){return new Dl(n,e,t,i,r,o,u,h)}function Sh(n){return new Dl(n)}function Eb(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Cb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function f_(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Ib(n){return null!==n.collectionGroup}function Ku(n){const e=nt(n);if(null===e.wt){e.wt=[];const t=f_(e),i=Cb(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Dp(t)),e.wt.push(new Dp(ki.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Dp(ki.keyField(),o))}}}return e.wt}function xs(n){const e=nt(n);if(!e._t)if("F"===e.limitType)e._t=bb(e.path,e.collectionGroup,Ku(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of Ku(e))t.push(new Dp(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Wu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Wu(e.startAt.position,e.startAt.inclusive):null;e._t=bb(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function $E(n,e){e.getFirstInequalityField(),f_(n);const t=n.filters.concat([e]);return new Dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Tb(n,e,t){return new Dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function p_(n,e){return wb(xs(n),xs(e))&&n.limitType===e.limitType}function GE(n){return`${Dh(xs(n))}|lt:${n.limitType}`}function ID(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>yb(i)).join(", ")}]`),n_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Ih(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Ih(i)).join(",")),`Target(${t})`}(xs(n))}; limitType=${n.limitType})`}function Rp(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Qe.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Ku(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,u){const h=fD(r,o,u);return r.inclusive?h<=0:h<0}(t.startAt,Ku(t),i)||t.endAt&&!function(r,o,u){const h=fD(r,o,u);return r.inclusive?h>=0:h>0}(t.endAt,Ku(t),i)));var t,i}function TD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xD(n){return(e,t)=>{let i=!1;for(const r of Ku(n)){const o=bF(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function bF(n,e,t){const i=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(r,o,u){const h=o.data.field(r),m=u.data.field(r);return null!==h&&null!==m?Ko(h,m):dt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}class Oc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Rc(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return LE(this.inner)}size(){return this.innerSize}}const YR=new Vn(Qe.comparator);function $s(){return YR}const qE=new Vn(Qe.comparator);function kp(...n){let e=qE;for(const t of n)e=e.insert(t.key,t);return e}function DD(n){let e=qE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Sl(){return m_()}function SD(){return m_()}function m_(){return new Oc(n=>n.toString(),(n,e)=>n.isEqual(e))}const QR=new Vn(Qe.comparator),JR=new Wn(Qe.comparator);function Zt(...n){let e=JR;for(const t of n)e=e.add(t);return e}const g_=new Wn(Ht);function xb(){return g_}function ZE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:i_(e)?"-0":e}}function WE(n){return{integerValue:""+n}}function KE(n,e){return Qx(e)?WE(e):ZE(n,e)}class __{constructor(){this._=void 0}}function AD(n,e,t){return n instanceof y_?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&qu(r)&&(r=hb(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof Yu?YE(n,e):n instanceof Ah?MD(n,e):function(i,r){const o=ek(i,r),u=Pp(o)+Pp(i.gt);return pb(o)&&pb(i.gt)?WE(u):ZE(i.serializer,u)}(n,e)}function XR(n,e,t){return n instanceof Yu?YE(n,e):n instanceof Ah?MD(n,e):t}function ek(n,e){return n instanceof Op?pb(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class y_ extends __{}class Yu extends __{constructor(e){super(),this.elements=e}}function YE(n,e){const t=RD(e);for(const i of n.elements)t.some(r=>xl(r,i))||t.push(i);return{arrayValue:{values:t}}}class Ah extends __{constructor(e){super(),this.elements=e}}function MD(n,e){let t=RD(e);for(const i of n.elements)t=t.filter(r=>!xl(r,i));return{arrayValue:{values:t}}}class Op extends __{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Pp(n){return Oi(n.integerValue||n.doubleValue)}function RD(n){return d_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qu{constructor(e,t){this.field=e,this.transform=t}}class wF{constructor(e,t){this.version=e,this.transformResults=t}}class ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function QE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ju{}function kD(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Mh(n.key,ai.none()):new Np(n.key,n.data,ai.none());{const t=n.data,i=Mr.empty();let r=new Wn(ki.comparator);for(let o of e.fields)if(!r.has(o)){let u=t.field(o);null===u&&o.length>1&&(o=o.popLast(),u=t.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new Al(n.key,i,new wo(r.toArray()),ai.none())}}function nk(n,e,t){n instanceof Np?function(i,r,o){const u=i.value.clone(),h=OD(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Al?function(i,r,o){if(!QE(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=OD(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(b_(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function v_(n,e,t,i){return n instanceof Np?function(r,o,u,h){if(!QE(r.precondition,o))return u;const m=r.value.clone(),y=PD(r.fieldTransforms,h,o);return m.setAll(y),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Al?function(r,o,u,h){if(!QE(r.precondition,o))return u;const m=PD(r.fieldTransforms,h,o),y=o.data;return y.setAll(b_(r)),y.setAll(m),o.convertToFoundDocument(o.version,y).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,e,t,i):(u=t,QE(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function Db(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=ek(i.transform,r||null);null!=o&&(null===t&&(t=Mr.empty()),t.set(i.field,o))}return t||null}function JE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Cp(t,i,(r,o)=>function tk(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Yu&&i instanceof Yu||t instanceof Ah&&i instanceof Ah?Cp(t.elements,i.elements,xl):t instanceof Op&&i instanceof Op?xl(t.gt,i.gt):t instanceof y_&&i instanceof y_);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Np extends Ju{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Al extends Ju{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function b_(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function OD(n,e,t){const i=new Map;mt(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],u=o.transform,h=e.data.field(o.field);i.set(o.field,XR(u,h,t[r]))}return i}function PD(n,e,t){const i=new Map;for(const r of n){const o=r.transform,u=t.data.field(r.field);i.set(r.field,AD(o,u,e))}return i}class Mh extends Ju{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XE extends Ju{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eC{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&nk(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=v_(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=v_(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=SD();return this.mutations.forEach(r=>{const o=e.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(r.key)?null:h;const m=kD(u,h);null!==m&&i.set(r.key,m),u.isValidDocument()||u.convertToNoDocument(bt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Zt())}isEqual(e){return this.batchId===e.batchId&&Cp(this.mutations,e.mutations,(t,i)=>JE(t,i))&&Cp(this.baseMutations,e.baseMutations,(t,i)=>JE(t,i))}}class Sb{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){mt(e.mutations.length===i.length);let r=QR;const o=e.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new Sb(e,t,i,r)}}class Fp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rk{constructor(e,t){this.count=e,this.unchangedNames=t}}var Yi,cn;function Ab(n){switch(n){default:return dt();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function tC(n){if(void 0===n)return Ri("GRPC error has no .code"),de.UNKNOWN;switch(n){case Yi.OK:return de.OK;case Yi.CANCELLED:return de.CANCELLED;case Yi.UNKNOWN:return de.UNKNOWN;case Yi.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Yi.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Yi.INTERNAL:return de.INTERNAL;case Yi.UNAVAILABLE:return de.UNAVAILABLE;case Yi.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Yi.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Yi.NOT_FOUND:return de.NOT_FOUND;case Yi.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Yi.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Yi.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Yi.ABORTED:return de.ABORTED;case Yi.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Yi.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Yi.DATA_LOSS:return de.DATA_LOSS;default:return dt()}}(cn=Yi||(Yi={}))[cn.OK=0]="OK",cn[cn.CANCELLED=1]="CANCELLED",cn[cn.UNKNOWN=2]="UNKNOWN",cn[cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cn[cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cn[cn.NOT_FOUND=5]="NOT_FOUND",cn[cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",cn[cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",cn[cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",cn[cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cn[cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cn[cn.ABORTED=10]="ABORTED",cn[cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",cn[cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",cn[cn.INTERNAL=13]="INTERNAL",cn[cn.UNAVAILABLE=14]="UNAVAILABLE",cn[cn.DATA_LOSS=15]="DATA_LOSS";class nC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return w_}static getOrCreateInstance(){return null===w_&&(w_=new nC),w_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let w_=null;function iC(){return new TextEncoder}const sk=new wp([4294967295,4294967295],0);function ND(n){const e=iC().encode(n),t=new xR;return t.update(e),new Uint8Array(t.digest())}function Mb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wp([t,i],0),new wp([r,o],0)]}class E_{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Lp(`Invalid padding: ${t}`);if(i<0)throw new Lp(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Lp(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Lp(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=wp.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(wp.fromNumber(i)));return 1===r.compare(sk)&&(r=new wp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ND(e),[i,r]=Mb(t);for(let o=0;o<this.hashCount;o++){const u=this.Et(i,r,o);if(!this.At(u))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new E_(o,r,t);return i.forEach(h=>u.insert(h)),u}insert(e){if(0===this.It)return;const t=ND(e),[i,r]=Mb(t);for(let o=0;o<this.hashCount;o++){const u=this.Et(i,r,o);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Lp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,kh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Rh(bt.min(),r,new Vn(Ht),$s(),Zt())}}class kh{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new kh(i,t,Zt(),Zt(),Zt())}}class Rb{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class FD{constructor(e,t){this.targetId=e,this.Vt=t}}class LD{constructor(e,t,i=ir.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class VD{constructor(){this.St=0,this.Dt=rC(),this.Ct=ir.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Zt(),t=Zt(),i=Zt();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:dt()}}),new kh(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=rC()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class UD{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=$s(),this.zt=kb(),this.Wt=new Vn(Ht)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const u=o.target;if(Ap(u))if(0===r){const h=new Qe(u.path);this.Yt(i,h,Kn.newNoDocument(h,bt.min()))}else mt(1===r);else{const h=this.ie(i);if(h!==r){const m=this.re(e,h);0!==m&&(this.ee(i),this.Wt=this.Wt.insert(i,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=nC.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(y,I,D){var R,V,j,W,fe,je;const Ge={localCacheCount:I,existenceFilterCount:D.count},Xe=D.unchangedNames;return Xe&&(Ge.bloomFilter={applied:0===y,hashCount:null!==(R=Xe?.hashCount)&&void 0!==R?R:0,bitmapLength:null!==(W=null===(j=null===(V=Xe?.bits)||void 0===V?void 0:V.bitmap)||void 0===j?void 0:j.length)&&void 0!==W?W:0,padding:null!==(je=null===(fe=Xe?.bits)||void 0===fe?void 0:fe.padding)&&void 0!==je?je:0}),Ge}(m,h,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:u=0},hashCount:h=0}=i;let m,y;try{m=Tl(o).toUint8Array()}catch(I){if(I instanceof zR)return yo("Decoding the base64 bloom filter in existence filter failed ("+I.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw I}try{y=new E_(m,u,h)}catch(I){return yo(I instanceof Lp?"BloomFilter error: ":"Applying bloom filter failed: ",I),1}return 0===y.It?1:r!==t-this.oe(e.targetId,y)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const u=this.Gt.ue(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.vt(h)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,u)=>{const h=this.se(u);if(h){if(o.current&&Ap(h.target)){const m=new Qe(h.target.path);null!==this.jt.get(m)||this.ae(u,m)||this.Yt(u,m,Kn.newNoDocument(m,e))}o.Mt&&(t.set(u,o.Ot()),o.Ft())}});let i=Zt();this.zt.forEach((o,u)=>{let h=!0;u.forEachWhile(m=>{const y=this.se(m);return!y||"TargetPurposeLimboResolution"===y.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.jt.forEach((o,u)=>u.setReadTime(e));const r=new Rh(e,t,this.Wt,this.jt,i);return this.jt=$s(),this.zt=kb(),this.Wt=new Vn(Ht),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new VD,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Wn(Ht),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new VD),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function kb(){return new Vn(Qe.comparator)}function rC(){return new Vn(Qe.comparator)}const BD={asc:"ASCENDING",desc:"DESCENDING"},jD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HD={and:"AND",or:"OR"};class ok{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ob(n,e){return n.useProto3Json||n_(e)?e:{value:e}}function Oh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zD(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $D(n,e){return Oh(n,e.toTimestamp())}function Pi(n){return mt(!!n),bt.fromTimestamp(function(e){const t=Gu(e);return new oi(t.seconds,t.nanos)}(n))}function Zr(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ph(n){const e=dn.fromString(n);return mt(lC(e)),e}function C_(n,e){return Zr(n.databaseId,e.path)}function Ml(n,e){const t=Ph(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(Pb(t))}function GD(n,e){return Zr(n.databaseId,e)}function ak(n){const e=Ph(n);return 4===e.length?dn.emptyPath():Pb(e)}function Vp(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Pb(n){return mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function lk(n,e,t){return{name:C_(n,e),fields:t.value.mapValue.fields}}function ck(n,e,t){const i=Ml(n,e.name),r=Pi(e.updateTime),o=e.createTime?Pi(e.createTime):bt.min(),u=new Mr({mapValue:{fields:e.fields}}),h=Kn.newFoundDocument(i,r,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function T_(n,e){let t;if(e instanceof Np)t={update:lk(n,e.key,e.value)};else if(e instanceof Mh)t={delete:C_(n,e.key)};else if(e instanceof Al)t={update:lk(n,e.key,e.data),updateMask:fk(e.fieldMask)};else{if(!(e instanceof XE))return dt();t={verify:C_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof y_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Yu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ah)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Op)return{fieldPath:o.field.canonicalString(),increment:u.gt};throw dt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:$D(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:dt()),t;var r}function x_(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?ai.updateTime(Pi(r.updateTime)):void 0!==r.exists?ai.exists(r.exists):ai.none():ai.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(mt("REQUEST_TIME"===u.setToServerValue),h=new y_):"appendMissingElements"in u?h=new Yu(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Ah(u.removeAllFromArray.values||[]):"increment"in u?h=new Op(o,u.increment):dt();const m=ki.fromServerFormat(u.fieldPath);return new Qu(m,h)}(n,r)):[];var r;if(e.update){const r=Ml(n,e.update.name),o=new Mr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new wo((e.updateMask.fieldPaths||[]).map(y=>ki.fromServerFormat(y)));return new Al(r,o,u,t,i)}return new Np(r,o,t,i)}if(e.delete){const r=Ml(n,e.delete);return new Mh(r,t)}if(e.verify){const r=Ml(n,e.verify);return new XE(r,t)}return dt()}function sC(n,e){return{documents:[GD(n,e.path)]}}function oC(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=GD(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=GD(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return aC(wn.create(m,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(m){if(0!==m.length)return m.map(y=>{return{field:Rl((I=y).field),direction:ZD(I.dir)};var I})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=Ob(n,e.limit);var h,m;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function qD(n){let e=ak(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){mt(1===i);const I=t.from[0];I.allDescendants?r=I.collectionId:e=e.child(I.collectionId)}let o=[];t.where&&(o=function(I){const D=Nb(I);return D instanceof wn&&_b(D)?D.getFilters():[D]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(I=>{return new Dp(D_((D=I).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;t.limit&&(h=function(I){let D;return D="object"==typeof I?I.value:I,n_(D)?null:D}(t.limit));let m=null;var I;t.startAt&&(m=new Wu((I=t.startAt).values||[],!!I.before));let y=null;return t.endAt&&(y=function(I){return new Wu(I.values||[],!I.before)}(t.endAt)),CD(e,r,u,o,h,"F",m,y)}function Nb(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=D_(e.unaryFilter.field);return rn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=D_(e.unaryFilter.field);return rn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=D_(e.unaryFilter.field);return rn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=D_(e.unaryFilter.field);return rn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(n):void 0!==n.fieldFilter?rn.create(D_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return wn.create(e.compositeFilter.filters.map(t=>Nb(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return dt()}}(e.compositeFilter.op))}(n):dt();var e}function ZD(n){return BD[n]}function hk(n){return jD[n]}function Fb(n){return HD[n]}function Rl(n){return{fieldPath:n.canonicalString()}}function D_(n){return ki.fromServerFormat(n.fieldPath)}function aC(n){return n instanceof rn?function(e){if("=="===e.op){if(cD(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NAN"}};if(mb(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cD(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NOT_NAN"}};if(mb(e.value))return{unaryFilter:{field:Rl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(e.field),op:hk(e.op),value:e.value}}}(n):n instanceof wn?function(e){const t=e.getFilters().map(i=>aC(i));return 1===t.length?t[0]:{compositeFilter:{op:Fb(e.op),filters:t}}}(n):dt()}function fk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lC(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Gs{constructor(e,t,i,r,o=bt.min(),u=bt.min(),h=ir.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WD{constructor(e){this.fe=e}}function Lb(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:cC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:C_(r=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Oh(r,o.version.toTimestamp()),createTime:Oh(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Nh(e.version)};else{if(!e.isUnknownDocument())return dt();i.unknownDocument={path:t.path.toArray(),version:Nh(e.version)}}var r,o;return i}function cC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Nh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Up(n){const e=new oi(n.seconds,n.nanoseconds);return bt.fromTimestamp(e)}function Fh(n,e){const t=(e.baseMutations||[]).map(o=>x_(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>x_(n.fe,o)),r=oi.fromMillis(e.localWriteTimeMs);return new eC(e.batchId,r,t,i)}function S_(n){const e=Up(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Up(n.lastLimboFreeSnapshotVersion):bt.min();let i;var r;return void 0!==n.query.documents?(mt(1===(r=n.query).documents.length),i=xs(Sh(ak(r.documents[0])))):i=xs(qD(n.query)),new Gs(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ir.fromBase64String(n.resumeToken))}function YD(n,e){const t=Nh(e.snapshotVersion),i=Nh(e.lastLimboFreeSnapshotVersion);let r;r=Ap(e.target)?sC(n.fe,e.target):oC(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Dh(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Vb(n){const e=qD({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Tb(e,e.limit,"L"):e}function Ub(n,e){return new Fp(e.largestBatchId,x_(n.fe,e.overlayMutation))}function QD(n,e){const t=e.path.lastSegment();return[n,Ki(e.path.popLast()),t]}function uC(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Nh(i.readTime),documentKey:Ki(i.documentKey.path),largestBatchId:i.largestBatchId}}class JD{getBundleMetadata(e,t){return XD(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Up(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return XD(e).put({bundleId:(i=t).id,createTime:Nh(Pi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return eS(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Vb(r.bundledQuery),readTime:Up(r.readTime)};var r})}saveNamedQuery(e,t){return eS(e).put({name:(i=t).name,readTime:Nh(Pi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function XD(n){return Sr(n,"bundles")}function eS(n){return Sr(n,"namedQueries")}class A_{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new A_(e,t.uid||"")}getOverlay(e,t){return M_(e).get(QD(this.userId,t)).next(i=>i?Ub(this.serializer,i):null)}getOverlays(e,t){const i=Sl();return oe.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,u)=>{const h=new Fp(t,u);r.push(this.we(e,h))}),oe.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Ki(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(M_(e).J("collectionPathOverlayIndex",h))}),oe.waitFor(o)}getOverlaysForCollection(e,t,i){const r=Sl(),o=Ki(t),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return M_(e).j("collectionPathOverlayIndex",u).next(h=>{for(const m of h){const y=Ub(this.serializer,m);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=Sl();let u;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return M_(e).X({index:"collectionGroupOverlayIndex",range:h},(m,y,I)=>{const D=Ub(this.serializer,y);o.size()<r||D.largestBatchId===u?(o.set(D.getKey(),D),u=D.largestBatchId):I.done()}).next(()=>o)}we(e,t){return M_(e).put(function(i,r,o){const[u,h,m]=QD(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:m,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:T_(i.fe,o.mutation)}}(this.serializer,this.userId,t))}}function M_(n){return Sr(n,"documentOverlays")}class Xu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Oi(e.integerValue));else if("doubleValue"in e){const i=Oi(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),i_(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Tl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?uD(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):dt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),Qe.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function tS(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function dC(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=tS(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}Xu.Ve=new Xu;class nS{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=dC(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=dC(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class pk{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class mk{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Bb{constructor(){this.je=new nS,this.ze=new pk(this.je),this.We=new mk(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class ed{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new ed(this.indexId,this.documentKey,this.arrayValue,i)}}function Lh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=gk(n.arrayValue,e.arrayValue),0!==t?t:(t=gk(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function gk(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class CF{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){mt(e.collectionGroup===this.collectionId);const t=SE(e);if(void 0!==t&&!this.en(t))return!1;const i=Eh(e);let r=new Set,o=0,u=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const h=i[o];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[u++],h))return!1}++o}for(;o<i.length;++o)if(u>=this.Ye.length||!this.sn(this.Ye[u++],i[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function _k(n){var e,t;if(mt(n instanceof rn||n instanceof wn),n instanceof rn){if(n instanceof vb){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>rn.create(n.field,"==",o)))||[];return wn.create(r,"or")}return n}const i=n.filters.map(r=>_k(r));return wn.create(i,n.op)}function IF(n){if(0===n.getFilters().length)return[];const e=sS(_k(n));return mt(yk(e)),iS(e)||rS(e)?[e]:e.getFilters()}function iS(n){return n instanceof rn}function rS(n){return n instanceof wn&&_b(n)}function yk(n){return iS(n)||rS(n)||function(e){if(e instanceof wn&&UE(e)){for(const t of e.getFilters())if(!iS(t)&&!rS(t))return!1;return!0}return!1}(n)}function sS(n){if(mt(n instanceof rn||n instanceof wn),n instanceof rn)return n;if(1===n.filters.length)return sS(n.filters[0]);const e=n.filters.map(i=>sS(i));let t=wn.create(e,n.op);return t=R_(t),yk(t)?t:(mt(t instanceof wn),mt(Sp(t)),mt(t.filters.length>1),t.filters.reduce((i,r)=>jb(i,r)))}function jb(n,e){let t;return mt(n instanceof rn||n instanceof wn),mt(e instanceof rn||e instanceof wn),t=n instanceof rn?e instanceof rn?wn.create([n,e],"and"):Hb(n,e):e instanceof rn?Hb(e,n):function(i,r){if(mt(i.filters.length>0&&r.filters.length>0),Sp(i)&&Sp(r))return yD(i,r.getFilters());const o=UE(i)?i:r,u=UE(i)?r:i,h=o.filters.map(m=>jb(m,u));return wn.create(h,"or")}(n,e),R_(t)}function Hb(n,e){if(Sp(e))return yD(e,n.getFilters());{const t=e.filters.map(i=>jb(n,i));return wn.create(t,"or")}}function R_(n){if(mt(n instanceof rn||n instanceof wn),n instanceof rn)return n;const e=n.getFilters();if(1===e.length)return R_(e[0]);if(gD(n))return n;const t=e.map(r=>R_(r)),i=[];return t.forEach(r=>{r instanceof rn?i.push(r):r instanceof wn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:wn.create(i,n.op)}class vk{constructor(){this.rn=new Bp}addToCollectionParentIndex(e,t){return this.rn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(zs.min())}updateCollectionGroup(e,t,i){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class Bp{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Wn(dn.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Wn(dn.comparator)).toArray()}}const zb=new Uint8Array(0);class TF{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Bp,this.un=new Oc(i=>Dh(i),(i,r)=>wb(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:i,parent:Ki(r)};return bk(e).put(o)}return oe.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[Kx(t),""],!1,!0);return bk(e).j(r).next(o=>{for(const u of o){if(u.collectionId!==t)break;i.push(bo(u.parent))}return i})}addFieldIndex(e,t){const i=O_(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(t.indexState){const u=P_(e);return o.next(h=>{u.put(uC(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=O_(e),r=P_(e),o=k_(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=k_(e);let r=!0;const o=new Map;return oe.forEach(this.cn(t),u=>this.an(e,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=Zt();const h=[];return oe.forEach(o,(m,y)=>{var I;Ue("IndexedDbIndexManager",`Using index ${I=m,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Xe=>`${Xe.fieldPath}:${Xe.kind}`).join(",")}`} to execute ${Dh(t)}`);const D=function(Xe,ct){const Rt=SE(ct);if(void 0===Rt)return null;for(const Vt of Mp(Xe,Rt.fieldPath))switch(Vt.op){case"array-contains-any":return Vt.value.arrayValue.values||[];case"array-contains":return[Vt.value]}return null}(y,m),R=function(Xe,ct){const Rt=new Map;for(const Vt of Eh(ct))for(const gn of Mp(Xe,Vt.fieldPath))switch(gn.op){case"==":case"in":Rt.set(Vt.fieldPath.canonicalString(),gn.value);break;case"not-in":case"!=":return Rt.set(Vt.fieldPath.canonicalString(),gn.value),Array.from(Rt.values())}return null}(y,m),V=function(Xe,ct){const Rt=[];let Vt=!0;for(const gn of Eh(ct)){const cs=0===gn.kind?ED(Xe,gn.fieldPath,Xe.startAt):zE(Xe,gn.fieldPath,Xe.startAt);Rt.push(cs.value),Vt&&(Vt=cs.inclusive)}return new Wu(Rt,Vt)}(y,m),j=function(Xe,ct){const Rt=[];let Vt=!0;for(const gn of Eh(ct)){const cs=0===gn.kind?zE(Xe,gn.fieldPath,Xe.endAt):ED(Xe,gn.fieldPath,Xe.endAt);Rt.push(cs.value),Vt&&(Vt=cs.inclusive)}return new Wu(Rt,Vt)}(y,m),W=this.hn(m,y,V),fe=this.hn(m,y,j),je=this.ln(m,y,R),Ge=this.fn(m.indexId,D,W,V.inclusive,fe,j.inclusive,je);return oe.forEach(Ge,Xe=>i.H(Xe,t.limit).next(ct=>{ct.forEach(Rt=>{const Vt=Qe.fromSegments(Rt.documentKey);u.has(Vt)||(u=u.add(Vt),h.push(Vt))})}))}).next(()=>h)}return oe.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:IF(wn.create(e.filters,"and")).map(i=>bb(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,o,u,h){const m=(null!=t?t.length:1)*Math.max(i.length,o.length),y=m/(null!=t?t.length:1),I=[];for(let D=0;D<m;++D){const R=t?this.dn(t[D/y]):zb,V=this.wn(e,R,i[D%y],r),j=this._n(e,R,o[D%y],u),W=h.map(fe=>this.wn(e,R,fe,!0));I.push(...this.createRange(V,j,W))}return I}wn(e,t,i,r){const o=new ed(e,Qe.empty(),t,i);return r?o:o.Je()}_n(e,t,i,r){const o=new ed(e,Qe.empty(),t,i);return r?o.Je():o}an(e,t){const i=new CF(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let u=null;for(const h of o)i.tn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let i=2;const r=this.cn(t);return oe.forEach(r,o=>this.an(e,o).next(u=>{u?0!==i&&u.fields.length<function(h){let m=new Wn(ki.comparator),y=!1;for(const I of h.filters)for(const D of I.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?y=!0:m=m.add(D.field));for(const I of h.orderBy)I.field.isKeyField()||(m=m.add(I.field));return m.size+(y?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new Bb;for(const r of Eh(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const u=i.He(r.kind);Xu.Ve._e(o,u)}return i.Qe()}dn(e){const t=new Bb;return Xu.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new Bb;return Xu.Ve._e(Th(this.databaseId,t),i.He(function(r){const o=Eh(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new Bb);let o=0;for(const u of Eh(e)){const h=i[o++];for(const m of r)if(this.yn(t,u.fieldPath)&&d_(h))r=this.pn(r,u,h);else{const y=m.He(u.kind);Xu.Ve._e(h,y)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const m=new Bb;m.seed(h.Qe()),Xu.Ve._e(u,m.He(t.kind)),o.push(m)}return o}yn(e,t){return!!e.filters.find(i=>i instanceof rn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=O_(e),r=P_(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(o=>{const u=[];return oe.forEach(o,h=>r.get([h.indexId,this.uid]).next(m=>{u.push(function(y,I){const D=I?new Ip(I.sequenceNumber,new zs(Up(I.readTime),new Qe(bo(I.documentKey)),I.largestBatchId)):Ip.empty(),R=y.fields.map(([V,j])=>new sb(ki.fromServerFormat(V),j));return new rb(y.indexId,y.collectionGroup,R,D)}(h,m))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Ht(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=O_(e),o=P_(e);return this.Tn(e).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>oe.forEach(h,m=>o.put(uC(m.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return oe.forEach(t,(r,o)=>{const u=i.get(r.collectionGroup);return(u?oe.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),oe.forEach(h,m=>this.En(e,r,m).next(y=>{const I=this.An(o,m);return y.isEqual(I)?oe.resolve():this.vn(e,o,m,y,I)}))))})}Rn(e,t,i,r){return k_(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return k_(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=k_(e);let o=new Wn(Lh);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(u,h)=>{o=o.add(new ed(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}An(e,t){let i=new Wn(Lh);const r=this.mn(t,e);if(null==r)return i;const o=SE(t);if(null!=o){const u=e.data.field(o.fieldPath);if(d_(u))for(const h of u.arrayValue.values||[])i=i.add(new ed(t.indexId,e.key,this.dn(h),r))}else i=i.add(new ed(t.indexId,e.key,zb,r));return i}vn(e,t,i,r,o){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,m,y,I,D){const R=h.getIterator(),V=m.getIterator();let j=a_(R),W=a_(V);for(;j||W;){let fe=!1,je=!1;if(j&&W){const Ge=y(j,W);Ge<0?je=!0:Ge>0&&(fe=!0)}else null!=j?je=!0:fe=!0;fe?(I(W),W=a_(V)):je?(D(j),j=a_(R)):(j=a_(R),W=a_(V))}}(r,o,Lh,h=>{u.push(this.Rn(e,t,i,h))},h=>{u.push(this.Pn(e,t,i,h))}),oe.waitFor(u)}Tn(e){let t=1;return P_(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,h)=>Lh(u,h)).filter((u,h,m)=>!h||0!==Lh(u,m[h-1]));const r=[];r.push(e);for(const u of i){const h=Lh(u,e),m=Lh(u,t);if(0===h)r[0]=e.Je();else if(h>0&&m<0)r.push(u),r.push(u.Je());else if(m>0)break}r.push(t);const o=[];for(let u=0;u<r.length;u+=2){if(this.bn(r[u],r[u+1]))return[];o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,zb,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,zb,[]]))}return o}bn(e,t){return Lh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(oS)}getMinOffset(e,t){return oe.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||dt())).next(oS)}}function bk(n){return Sr(n,"collectionParents")}function k_(n){return Sr(n,"indexEntries")}function O_(n){return Sr(n,"indexConfiguration")}function P_(n){return Sr(n,"indexState")}function oS(n){mt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;ob(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new zs(e.readTime,e.documentKey,t)}const aS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ds{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Ds(e,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lS(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const m=i.X({range:u},(I,D,R)=>(h++,R.delete()));o.push(m.next(()=>{mt(1===h)}));const y=[];for(const I of t.mutations){const D=PE(e,I.key.path,t.batchId);o.push(r.delete(D)),y.push(I.key)}return oe.waitFor(o).next(()=>y)}function td(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}Ds.DEFAULT_COLLECTION_PERCENTILE=10,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ds.DEFAULT=new Ds(41943040,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ds.DISABLED=new Ds(-1,0,0);class Vh{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){mt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new Vh(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nd(e).X({index:"userMutationsIndex",range:i},(r,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=jp(e),u=nd(e);return u.add({}).next(h=>{mt("number"==typeof h);const m=new eC(h,t,i,r),y=function(R,V,j){const W=j.baseMutations.map(je=>T_(R.fe,je)),fe=j.mutations.map(je=>T_(R.fe,je));return{userId:V,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:W,mutations:fe}}(this.serializer,this.userId,m),I=[];let D=new Wn((R,V)=>Ht(R.canonicalString(),V.canonicalString()));for(const R of r){const V=PE(this.userId,R.key.path,h);D=D.add(R.key.path.popLast()),I.push(u.put(y)),I.push(o.put(V,Jx))}return D.forEach(R=>{I.push(this.indexManager.addToCollectionParentIndex(e,R))}),e.addOnCommittedListener(()=>{this.Vn[h]=m.keys()}),oe.waitFor(I).next(()=>m)})}lookupMutationBatch(e,t){return nd(e).get(t).next(i=>i?(mt(i.userId===this.userId),Fh(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?oe.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return nd(e).X({index:"userMutationsIndex",range:r},(u,h,m)=>{h.userId===this.userId&&(mt(h.batchId>=i),o=Fh(this.serializer,h)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return nd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nd(e).j("userMutationsIndex",t).next(i=>i.map(r=>Fh(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=OE(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return jp(e).X({range:r},(u,h,m)=>{const[y,I,D]=u,R=bo(I);if(y===this.userId&&t.path.isEqual(R))return nd(e).get(D).next(V=>{if(!V)throw dt();mt(V.userId===this.userId),o.push(Fh(this.serializer,V))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Wn(Ht);const r=[];return t.forEach(o=>{const u=OE(this.userId,o.path),h=IDBKeyRange.lowerBound(u),m=jp(e).X({range:h},(y,I,D)=>{const[R,V,j]=y,W=bo(V);R===this.userId&&o.path.isEqual(W)?i=i.add(j):D.done()});r.push(m)}),oe.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=OE(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new Wn(Ht);return jp(e).X({range:u},(m,y,I)=>{const[D,R,V]=m,j=bo(R);D===this.userId&&i.isPrefixOf(j)?j.length===r&&(h=h.add(V)):I.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(nd(e).get(o).next(u=>{if(null===u)throw dt();mt(u.userId===this.userId),i.push(Fh(this.serializer,u))}))}),oe.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return lS(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),oe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return jp(e).X({range:i},(o,u,h)=>{if(o[0]===this.userId){const m=bo(o[1]);r.push(m)}else h.done()}).next(()=>{mt(0===r.length)})})}containsKey(e,t){return cS(e,this.userId,t)}xn(e){return uS(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cS(n,e,t){const i=OE(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return jp(n).X({range:o,Y:!0},(h,m,y)=>{const[I,D,R]=h;I===e&&D===r&&(u=!0),y.done()}).next(()=>u)}function nd(n){return Sr(n,"mutations")}function jp(n){return Sr(n,"documentMutations")}function uS(n){return Sr(n,"mutationQueues")}class Uh{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Uh(0)}static Mn(){return new Uh(-1)}}class wk{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new Uh(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>bt.fromTimestamp(new oi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>id(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(mt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return id(e).X((u,h)=>{const m=S_(h);m.sequenceNumber<=t&&null===i.get(m.targetId)&&(r++,o.push(this.removeTargetData(e,m)))}).next(()=>oe.waitFor(o)).next(()=>r)}forEachTarget(e,t){return id(e).X((i,r)=>{const o=S_(r);t(o)})}$n(e){return dS(e).get("targetGlobalKey").next(t=>(mt(null!==t),t))}On(e,t){return dS(e).put("targetGlobalKey",t)}Fn(e,t){return id(e).put(YD(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Dh(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return id(e).X({range:r,index:"queryTargetsIndex"},(u,h,m)=>{const y=S_(h);wb(t,y.target)&&(o=y,m.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=rd(e);return t.forEach(u=>{const h=Ki(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,u))}),oe.waitFor(r)}removeMatchingKeys(e,t,i){const r=rd(e);return oe.forEach(t,o=>{const u=Ki(o.path);return oe.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=rd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=rd(e);let o=Zt();return r.X({range:i,Y:!0},(u,h,m)=>{const y=bo(u[1]),I=new Qe(y);o=o.add(I)}).next(()=>o)}containsKey(e,t){const i=Ki(t.path),r=IDBKeyRange.bound([i],[Kx(i)],!1,!0);let o=0;return rd(e).X({index:"documentTargetsIndex",Y:!0,range:r},([u,h],m,y)=>{0!==u&&(o++,y.done())}).next(()=>o>0)}le(e,t){return id(e).get(t).next(i=>i?S_(i):null)}}function id(n){return Sr(n,"targets")}function dS(n){return Sr(n,"targetGlobal")}function rd(n){return Sr(n,"targetDocuments")}function hS([n,e],[t,i]){const r=Ht(n,t);return 0===r?Ht(e,i):r}class Ek{constructor(e){this.Ln=e,this.buffer=new Wn(hS),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();hS(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fS{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){vo(i)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ac(i)}yield t.Qn(3e5)}))}}class Ck{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return oe.resolve(Dr.ct);const i=new Ek(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(aS)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aS):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,o,u,h,m,y;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,u=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,h=Date.now(),this.removeTargets(e,i,t))).next(D=>(o=D,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(y=Date.now(),ib()<=ho.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(m-h)+`ms\n\tRemoved ${D} documents in `+(y-m)+`ms\nTotal Duration: ${y-I}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:D})))}}class Ik{constructor(e,t){this.db=e,this.garbageCollector=function pS(n,e){return new Ck(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return $b(e,i)}removeReference(e,t,i){return $b(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return $b(e,t)}Xn(e,t){return function(i,r){let o=!1;return uS(i).Z(u=>cS(i,u,r).next(h=>(h&&(o=!0),oe.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(u,h)=>{if(h<=t){const m=this.Xn(e,u).next(y=>{if(!y)return o++,i.getEntry(e,u).next(()=>(i.removeEntry(u,bt.min()),rd(e).delete([0,Ki(u.path)])))});r.push(m)}}).next(()=>oe.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return $b(e,t)}Yn(e,t){const i=rd(e);let r,o=Dr.ct;return i.X({index:"documentTargetsIndex"},([u,h],{path:m,sequenceNumber:y})=>{0===u?(o!==Dr.ct&&t(new Qe(bo(r)),o),o=y,r=m):o=Dr.ct}).next(()=>{o!==Dr.ct&&t(new Qe(bo(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $b(n,e){return rd(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ki(e.path),sequenceNumber:i}));var i}class hC{constructor(){this.changes=new Oc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?oe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fC{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return sd(e).put(i)}removeEntry(e,t,i){return sd(e).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],cC(o),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=Kn.newInvalidDocument(t);return sd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Gb(t))},(r,o)=>{i=this.ts(t,o)}).next(()=>i)}es(e,t){let i={size:0,document:Kn.newInvalidDocument(t)};return sd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Gb(t))},(r,o)=>{i={document:this.ts(t,o),size:td(o)}}).next(()=>i)}getEntries(e,t){let i=$s();return this.ns(e,t,(r,o)=>{const u=this.ts(r,o);i=i.insert(r,u)}).next(()=>i)}ss(e,t){let i=$s(),r=new Vn(Qe.comparator);return this.ns(e,t,(o,u)=>{const h=this.ts(o,u);i=i.insert(o,h),r=r.insert(o,td(u))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return oe.resolve();let r=new Wn(mC);t.forEach(m=>r=r.add(m));const o=IDBKeyRange.bound(Gb(r.first()),Gb(r.last())),u=r.getIterator();let h=u.getNext();return sd(e).X({index:"documentKeyIndex",range:o},(m,y,I)=>{const D=Qe.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&mC(h,D)<0;)i(h,null),h=u.getNext();h&&h.isEqual(D)&&(i(h,y),h=u.hasNext()?u.getNext():null),h?I.G(Gb(h)):I.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,u=[o.popLast().toArray(),o.lastSegment(),cC(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sd(e).j(IDBKeyRange.bound(u,h,!0)).next(m=>{let y=$s();for(const I of m){const D=this.ts(Qe.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);D.isFoundDocument()&&(Rp(t,D)||r.has(D.key))&&(y=y.insert(D.key,D))}return y})}getAllFromCollectionGroup(e,t,i,r){let o=$s();const u=Ss(t,i),h=Ss(t,zs.max());return sd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(m,y,I)=>{const D=this.ts(Qe.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(D.key,D),o.size===r&&I.done()}).next(()=>o)}newChangeBuffer(e){return new Tk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pC(e).get("remoteDocumentGlobalKey").next(t=>(mt(!!t),t))}Zn(e,t){return pC(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function KD(n,e){let t;if(e.document)t=ck(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Qe.fromSegments(e.noDocument.path),r=Up(e.noDocument.readTime);t=Kn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const i=Qe.fromSegments(e.unknownDocument.path),r=Up(e.unknownDocument.version);t=Kn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new oi(i[0],i[1]);return bt.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(bt.min()))return i}return Kn.newInvalidDocument(e)}}function mS(n){return new fC(n)}class Tk extends hC{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Oc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Wn((o,u)=>Ht(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.us.get(o);if(t.push(this.os.removeEntry(e,o,h.readTime)),u.isValidDocument()){const m=Lb(this.os.serializer,u);r=r.add(o.path.popLast());const y=td(m);i+=y-h.size,t.push(this.os.addEntry(e,o,m))}else if(i-=h.size,this.trackRemovals){const m=Lb(this.os.serializer,u.convertToNoDocument(bt.min()));t.push(this.os.addEntry(e,o,m))}}),r.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,i)),oe.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((o,u)=>{this.us.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function pC(n){return Sr(n,"remoteDocumentGlobal")}function sd(n){return Sr(n,"remoteDocumentsV14")}function Gb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ss(n,e){const t=e.documentKey.path.toArray();return[n,cC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mC(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Ht(t[o],i[o]),r)return r;return r=Ht(t.length,i.length),r||(r=Ht(t[t.length-2],i[i.length-2]),r||Ht(t[t.length-1],i[i.length-1]))}class gS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _S{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&v_(i.mutation,r,wo.empty(),oi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Zt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Zt()){const r=Sl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let u=kp();return o.forEach((h,m)=>{u=u.insert(h,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Sl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Zt()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,i,r){let o=$s();const u=m_(),h=m_();return t.forEach((m,y)=>{const I=i.get(y.key);r.has(y.key)&&(void 0===I||I.mutation instanceof Al)?o=o.insert(y.key,y):void 0!==I?(u.set(y.key,I.mutation.getFieldMask()),v_(I.mutation,y,I.mutation.getFieldMask(),oi.now())):u.set(y.key,wo.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((y,I)=>u.set(y,I)),t.forEach((y,I)=>{var D;return h.set(y,new gS(I,null!==(D=u.get(y))&&void 0!==D?D:null))}),h))}recalculateAndSaveOverlays(e,t){const i=m_();let r=new Vn((u,h)=>u-h),o=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(m=>{const y=t.get(m);if(null===y)return;let I=i.get(m)||wo.empty();I=h.applyToLocalView(y,I),i.set(m,I);const D=(r.get(h.batchId)||Zt()).add(m);r=r.insert(h.batchId,D)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),y=m.key,I=m.value,D=SD();I.forEach(R=>{if(!o.has(R)){const V=kD(t.get(R),i.get(R));null!==V&&D.set(R,V),o=o.add(R)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,D))}return oe.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Qe.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ib(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):oe.resolve(Sl());let h=-1,m=o;return u.next(y=>oe.forEach(y,(I,D)=>(h<D.largestBatchId&&(h=D.largestBatchId),o.get(I)?oe.resolve():this.remoteDocumentCache.getEntry(e,I).next(R=>{m=m.insert(I,R)}))).next(()=>this.populateOverlays(e,y,o)).next(()=>this.computeViews(e,m,y,Zt())).next(I=>({batchId:h,changes:DD(I)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(i=>{let r=kp();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=kp();return this.indexManager.getCollectionParents(e,r).next(u=>oe.forEach(u,h=>{const m=(y=t,I=h.child(r),new Dl(I,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,I;return this.getDocumentsMatchingCollectionQuery(e,m,i).next(y=>{y.forEach((I,D)=>{o=o.insert(I,D)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((h,m)=>{const y=m.getKey();null===o.get(y)&&(o=o.insert(y,Kn.newInvalidDocument(y)))});let u=kp();return o.forEach((h,m)=>{const y=r.get(h);void 0!==y&&v_(y.mutation,m,wo.empty(),oi.now()),Rp(t,m)&&(u=u.insert(h,m))}),u})}}class yS{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return oe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:Pi(i.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:Vb(i.bundledQuery),readTime:Pi(i.readTime)}),oe.resolve();var i}}class xk{constructor(){this.overlays=new Vn(Qe.comparator),this.ls=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Sl();return oe.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),oe.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),oe.resolve()}getOverlaysForCollection(e,t,i){const r=Sl(),o=t.length+1,u=new Qe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===o&&m.largestBatchId>i&&r.set(m.getKey(),m)}return oe.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new Vn((y,I)=>y-I);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let I=o.get(y.largestBatchId);null===I&&(I=Sl(),o=o.insert(y.largestBatchId,I)),I.set(y.getKey(),y)}}const h=Sl(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,I)=>h.set(y,I)),!(h.size()>=r)););return oe.resolve(h)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Fp(t,i));let o=this.ls.get(t);void 0===o&&(o=Zt(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class N_{constructor(){this.fs=new Wn(Yn.ds),this.ws=new Wn(Yn._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Yn(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Yn(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Qe(new dn([])),i=new Yn(t,e),r=new Yn(t,e+1),o=[];return this.ws.forEachInRange([i,r],u=>{this.ys(u),o.push(u.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qe(new dn([])),i=new Yn(t,e),r=new Yn(t,e+1);let o=Zt();return this.ws.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Yn(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Yn{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qe.comparator(e.key,t.key)||Ht(e.As,t.As)}static _s(e,t){return Ht(e.As,t.As)||Qe.comparator(e.key,t.key)}}class vS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Wn(Yn.ds)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const u=new eC(o,t,i,r);this.mutationQueue.push(u);for(const h of r)this.Rs=this.Rs.add(new Yn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return oe.resolve(u)}lookupMutationBatch(e,t){return oe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Yn(t,0),r=new Yn(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],u=>{const h=this.Ps(u.As);o.push(h)}),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Wn(Ht);return t.forEach(r=>{const o=new Yn(r,0),u=new Yn(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,u],h=>{i=i.add(h.As)})}),oe.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;Qe.isDocumentKey(o)||(o=o.child(""));const u=new Yn(new Qe(o),0);let h=new Wn(Ht);return this.Rs.forEachWhile(m=>{const y=m.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(m.As)),!0)},u),oe.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){mt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return oe.forEach(t.mutations,r=>{const o=new Yn(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Yn(t,0),r=this.Rs.firstAfterOrEqual(i);return oe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return oe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class gC{constructor(e){this.Ds=e,this.docs=new Vn(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,u=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return oe.resolve(i?i.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let i=$s();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Kn.newInvalidDocument(r))}),oe.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=$s();const u=t.path,h=new Qe(u.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:y,value:{document:I}}=m.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||ob(ME(I),i)<=0||(r.has(I.key)||Rp(t,I))&&(o=o.insert(I.key,I.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,t,i,r){dt()}Cs(e,t){return oe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new _C(this)}getSize(e){return oe.resolve(this.size)}}class _C extends hC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),oe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Dk{constructor(e){this.persistence=e,this.xs=new Oc(t=>Dh(t),wb),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new N_,this.targetCount=0,this.Ms=Uh.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),oe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Uh(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Fn(t),oe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((u,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.xs.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),oe.waitFor(o).next(()=>r)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return oe.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),oe.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(u=>{o.push(r.markPotentiallyOrphaned(e,u))}),oe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return oe.resolve(i)}containsKey(e,t){return oe.resolve(this.ks.containsKey(t))}}class bS{constructor(e,t){this.$s={},this.overlays={},this.Os=new Dr(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Dk(this),this.indexManager=new vk,this.remoteDocumentCache=new gC(i=>this.referenceDelegate.Ls(i)),this.serializer=new WD(t),this.qs=new yS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new vS(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Ue("MemoryPersistence","Starting transaction:",e);const r=new wS(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return oe.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class wS extends kE{constructor(e){super(),this.currentSequenceNumber=e}}class qb{constructor(e){this.persistence=e,this.Qs=new N_,this.js=null}static zs(e){return new qb(e)}get Ws(){if(this.js)return this.js;throw dt()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),oe.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ws,i=>{const r=Qe.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,bt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return oe.or([()=>oe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Sk{constructor(e){this.serializer=e}O(e,t,i,r){const o=new e_("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ts,{unique:!0}),h.createObjectStore("documentMutations"),ES(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=oe.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),ES(e)),u=u.next(()=>function(h){const m=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",y)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,m){return m.store("mutations").j().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ts,{unique:!0});const I=m.store("mutations"),D=y.map(R=>I.put(R));return oe.waitFor(D)})}(e,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Ys(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(u=u.next(()=>this.Zs(o))),i<8&&r>=8&&(u=u.next(()=>this.ti(e,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.ei(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:HR});m.createIndex("collectionPathOverlayIndex",cb,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",iD,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:FR});m.createIndex("documentKeyIndex",Xx),m.createIndex("collectionGroupIndex",eD)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.si(e,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:UR}).createIndex("sequenceNumberIndex",s_,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:BR}).createIndex("documentKeyIndex",jR,{unique:!1})}(e))),u}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=td(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>oe.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(h=>oe.forEach(h,m=>{mt(m.userId===o.userId);const y=Fh(this.serializer,m);return lS(e,o.userId,y).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((u,h)=>{const m=new dn(u),y=[0,Ki(m)];o.push(t.get(y).next(I=>I?oe.resolve():t.put({targetId:0,path:Ki(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>oe.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:VR});const i=t.store("collectionParents"),r=new Bp,o=u=>{if(r.add(u)){const h=u.lastSegment(),m=u.popLast();return i.put({collectionId:h,parent:Ki(m)})}};return t.store("remoteDocuments").X({Y:!0},(u,h)=>{const m=new dn(u);return o(m.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,h,m],y)=>{const I=bo(h);return o(I.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const o=S_(r),u=YD(this.serializer,o);return t.put(u)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,u)=>{const h=t.store("remoteDocumentsV14"),m=(y=u,y.document?new Qe(dn.fromString(y.document.name).popFirst(5)):y.noDocument?Qe.fromSegments(y.noDocument.path):y.unknownDocument?Qe.fromSegments(y.unknownDocument.path):dt()).path.toArray();var y;const I={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(I))}).next(()=>oe.waitFor(r))}si(e,t){const i=t.store("mutations"),r=mS(this.serializer),o=new bS(qb.zs,this.serializer.fe);return i.j().next(u=>{const h=new Map;return u.forEach(m=>{var y;let I=null!==(y=h.get(m.userId))&&void 0!==y?y:Zt();Fh(this.serializer,m).keys().forEach(D=>I=I.add(D)),h.set(m.userId,I)}),oe.forEach(h,(m,y)=>{const I=new nr(y),D=A_.de(this.serializer,I),R=o.getIndexManager(I),V=Vh.de(I,this.serializer,R,o.referenceDelegate);return new _S(r,V,D,R).recalculateAndSaveOverlaysForDocumentKeys(new FE(t,Dr.ct),m).next()})})}}function ES(n){n.createObjectStore("targetDocuments",{keyPath:nD}).createIndex("documentTargetsIndex",LR,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",tD,{unique:!0}),n.createObjectStore("targetGlobal")}const Wb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class CS{constructor(e,t,i,r,o,u,h,m,y,I,D=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=o,this.window=u,this.document=h,this.ri=y,this.oi=I,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=R=>Promise.resolve(),!CS.D())throw new Re(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ik(this,r),this.di=t+"main",this.serializer=new WD(m),this.wi=new qr(this.di,this.ui,new Sk(this.serializer)),this.Bs=new wk(this.referenceDelegate,this.serializer),this.remoteDocumentCache=mS(this.serializer),this.qs=new JD,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===I&&Ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,Wb);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Dr(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,ye.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ye.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Kb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(vo(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Hp(e).get("owner").next(t=>oe.resolve(this.Ri(t)))}Pi(e){return Kb(e).delete(this.clientId)}bi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Sr(i,"clientMetadata");return r.j().next(o=>{const u=e.Si(o,18e5),h=o.filter(m=>-1===u.indexOf(m));return oe.forEach(h,m=>r.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?oe.resolve(!0):Hp(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Re(de.FAILED_PRECONDITION,Wb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kb(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new FE(t,Dr.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>Kb(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Vh.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new TF(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return A_.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){Ue("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(u=this.ui)?o_:14===u?Tp:13===u?sD:12===u?rD:11===u?NE:void dt();var u;let h;return this.wi.runTransaction(e,r,o,m=>(h=new FE(m,this.Os?this.Os.next():Dr.ct),"readwrite-primary"===t?this.Ti(h).next(y=>!!y||this.Ei(h)).next(y=>{if(!y)throw Ri(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Re(de.FAILED_PRECONDITION,RE);return i(h)}).next(y=>this.vi(h).next(()=>y)):this.Oi(h).next(()=>i(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Oi(e){return Hp(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Re(de.FAILED_PRECONDITION,Wb)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hp(e).put("owner",t)}static D(){return qr.D()}Ai(e){const t=Hp(e);return t.get("owner").next(i=>this.Ri(i)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oe.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Ri(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,F.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ri("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ri("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hp(n){return Sr(n,"owner")}function Kb(n){return Sr(n,"clientMetadata")}function Yb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class IS{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=Zt(),r=Zt();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new IS(e,t.fromCache,i,r)}}class Qb{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(Eb(t))return oe.resolve(null);let i=xs(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Tb(t,null,"F"),i=xs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const u=Zt(...o);return this.Ui.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(m=>{const y=this.ji(t,h);return this.zi(t,y,u,m.readTime)?this.Ki(e,Tb(t,null,"F")):this.Wi(e,y,t,m)}))})))}Gi(e,t,i,r){return Eb(t)||r.isEqual(bt.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const u=this.ji(t,o);return this.zi(t,u,i,r)?this.Qi(e,t):(ib()<=ho.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ID(t)),this.Wi(e,u,t,AE(r,-1)))})}ji(e,t){let i=new Wn(xD(e));return t.forEach((r,o)=>{Rp(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return ib()<=ho.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",ID(t)),this.Ui.getDocumentsMatchingQuery(e,t,zs.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}class TS{constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Vn(Ht),this.Yi=new Oc(o=>Dh(o),wb),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _S(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function yC(n,e,t,i){return new TS(n,e,t,i)}function xS(n,e){return Jb.apply(this,arguments)}function Jb(){return Jb=(0,ye.Z)(function*(n,e){const t=nt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let m=Zt();for(const y of r){u.push(y.batchId);for(const I of y.mutations)m=m.add(I.key)}for(const y of o){h.push(y.batchId);for(const I of y.mutations)m=m.add(I.key)}return t.localDocuments.getDocuments(i,m).next(y=>({er:y,removedBatchIds:u,addedBatchIds:h}))})})}),Jb.apply(this,arguments)}function Bh(n){const e=nt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function vC(n,e,t){let i=Zt(),r=Zt();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let u=$s();return t.forEach((h,m)=>{const y=o.get(h);m.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),m.isNoDocument()&&m.version.isEqual(bt.min())?(e.removeEntry(h,m.readTime),u=u.insert(h,m)):!y.isValidDocument()||m.version.compareTo(y.version)>0||0===m.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(m),u=u.insert(h,m)):Ue("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",m.version)}),{nr:u,sr:r}})}function SS(n,e){const t=nt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function zp(n,e){const t=nt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,oe.resolve(r)):t.Bs.allocateTargetId(i).next(u=>(r=new Gs(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function $p(n,e,t){return AS.apply(this,arguments)}function AS(){return AS=(0,ye.Z)(function*(n,e,t){const i=nt(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!vo(u))throw u;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),AS.apply(this,arguments)}function F_(n,e,t){const i=nt(n);let r=bt.min(),o=Zt();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,m,y){const I=nt(h),D=I.Yi.get(y);return void 0!==D?oe.resolve(I.Ji.get(D)):I.Bs.getTargetData(m,y)}(i,u,xs(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(u,h.targetId).next(m=>{o=m})}).next(()=>i.Hi.getDocumentsMatchingQuery(u,e,t?r:bt.min(),t?o:Zt())).next(h=>(Ak(i,TD(e),h),{documents:h,ir:o})))}function MS(n,e){const t=nt(n),i=nt(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.le(o,e).next(u=>u?u.target:null))}function RS(n,e){const t=nt(n),i=t.Xi.get(e)||bt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,AE(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Ak(t,e,r),r))}function Ak(n,e,t){let i=n.Xi.get(e)||bt.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}function kS(){return kS=(0,ye.Z)(function*(n,e,t,i){const r=nt(n);let o=Zt(),u=$s();for(const y of t){const I=e.rr(y.metadata.name);y.document&&(o=o.add(I));const D=e.ur(y);D.setReadTime(e.cr(y.metadata.readTime)),u=u.insert(I,D)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),m=yield zp(r,(y=i,xs(Sh(dn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>vC(y,h,u).next(I=>(h.apply(y),I)).next(I=>r.Bs.removeMatchingKeysForTargetId(y,m.targetId).next(()=>r.Bs.addMatchingKeys(y,o,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,I.nr,I.sr)).next(()=>I.nr)))}),kS.apply(this,arguments)}function OS(n,e){return bC.apply(this,arguments)}function bC(){return bC=(0,ye.Z)(function*(n,e,t=Zt()){const i=yield zp(n,xs(Vb(e.bundledQuery))),r=nt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Pi(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.qs.saveNamedQuery(o,e);const h=i.withResumeToken(ir.EMPTY_BYTE_STRING,u);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(o,h).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,t,i.targetId)).next(()=>r.qs.saveNamedQuery(o,e))})}),bC.apply(this,arguments)}function PS(n,e){return`firestore_clients_${n}_${e}`}function NS(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function FS(n,e){return`firestore_targets_${n}_${e}`}class wC{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Re(r.error.code,r.error.message))),u?new wC(e,t,r.state,o):(Ri("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class e0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Re(i.error.code,i.error.message))),o?new e0(e,i.state,r):(Ri("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class EC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=xb();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=Qx(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new EC(e,o):(Ri("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class LS{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new LS(t.clientId,t.onlineState):(Ri("SharedClientState",`Failed to parse online state: ${e}`),null)}}class CC{constructor(){this.activeTargetIds=xb()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gp{constructor(e,t,i,r,o){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Vn(Ht),this.started=!1,this.yr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=PS(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new CC),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const o=e.getItem(PS(e.persistenceKey,r));if(o){const u=EC.ar(r,o);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(FS(this.persistenceKey,e));if(i){const r=e0.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(FS(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ue("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(o){let u=Dr.ct;if(null!=o)try{const h=JSON.parse(o);mt("number"==typeof h),u=h}catch(h){Ri("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==Dr.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Qr(o)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new wC(this.currentUser,e,t,i),o=NS(this.persistenceKey,this.currentUser,e);this.setItem(o,r.hr())}Cr(e){const t=NS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=FS(this.persistenceKey,e),o=new e0(e,t,i);this.setItem(r,o.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return EC.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return wC.ar(new nr(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return e0.ar(r,t)}br(e){return LS.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),o=this.Sr(i),u=[],h=[];return o.forEach(m=>{r.has(m)||u.push(m)}),r.forEach(m=>{o.has(m)||h.push(m)}),this.syncEngine.Wr(u,h).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=xb();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class VS{constructor(){this.Hr=new CC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new CC,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Mk{Yr(e){}shutdown(){}}class IC{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kl=null;function t0(){return null===kl?kl=268435456+Math.round(2147483648*Math.random()):kl++,"0x"+kl.toString(16)}const TC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ss="WebChannelConnection";class DC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const u=t0(),h=this.To(e,t);Ue("RestConnection",`Sending RPC '${e}' ${u}:`,h,i);const m={};return this.Eo(m,r,o),this.Ao(e,h,m,i).then(y=>(Ue("RestConnection",`Received RPC '${e}' ${u}: `,y),y),y=>{throw yo("RestConnection",`RPC '${e}' ${u} failed with error: `,y,"url: ",h,"request:",i),y})}vo(e,t,i,r,o,u){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Il,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${TC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=t0();return new Promise((u,h)=>{const m=new TR;m.setWithCredentials(!0),m.listenOnce(Cl.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case xE.NO_ERROR:const I=m.getResponseJson();Ue(ss,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(I)),u(I);break;case xE.TIMEOUT:Ue(ss,`RPC '${e}' ${o} timed out`),h(new Re(de.DEADLINE_EXCEEDED,"Request time out"));break;case xE.HTTP_ERROR:const D=m.getStatus();if(Ue(ss,`RPC '${e}' ${o} failed with status:`,D,"response text:",m.getResponseText()),D>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const V=R?.error;if(V&&V.status&&V.message){const j=function(W){const fe=W.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(fe)>=0?fe:de.UNKNOWN}(V.status);h(new Re(j,V.message))}else h(new Re(de.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Re(de.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Ue(ss,`RPC '${e}' ${o} completed.`)}});const y=JSON.stringify(r);Ue(ss,`RPC '${e}' ${o} sending request:`,r),m.send(t,"POST",y,i,15)})}Ro(e,t,i){const r=t0(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=El(),h=IR(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;void 0!==y&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.xmlHttpFactory=new Ux({})),this.Eo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const I=o.join("");Ue(ss,`Creating RPC '${e}' stream ${r}: ${I}`,m);const D=u.createWebChannel(I,m);let R=!1,V=!1;const j=new xC({ro:fe=>{V?Ue(ss,`Not sending because RPC '${e}' stream ${r} is closed:`,fe):(R||(Ue(ss,`Opening RPC '${e}' stream ${r} transport.`),D.open(),R=!0),Ue(ss,`RPC '${e}' stream ${r} sending:`,fe),D.send(fe))},oo:()=>D.close()}),W=(fe,je,Ge)=>{fe.listen(je,Xe=>{try{Ge(Xe)}catch(ct){setTimeout(()=>{throw ct},0)}})};return W(D,Qg.EventType.OPEN,()=>{V||Ue(ss,`RPC '${e}' stream ${r} transport opened.`)}),W(D,Qg.EventType.CLOSE,()=>{V||(V=!0,Ue(ss,`RPC '${e}' stream ${r} transport closed`),j.wo())}),W(D,Qg.EventType.ERROR,fe=>{V||(V=!0,yo(ss,`RPC '${e}' stream ${r} transport errored:`,fe),j.wo(new Re(de.UNAVAILABLE,"The operation could not be completed")))}),W(D,Qg.EventType.MESSAGE,fe=>{var je;if(!V){const Ge=fe.data[0];mt(!!Ge);const ct=Ge.error||(null===(je=Ge[0])||void 0===je?void 0:je.error);if(ct){Ue(ss,`RPC '${e}' stream ${r} received error:`,ct);const Rt=ct.status;let Vt=function(cs){const Bl=Yi[cs];if(void 0!==Bl)return tC(Bl)}(Rt),gn=ct.message;void 0===Vt&&(Vt=de.INTERNAL,gn="Unknown error status: "+Rt+" with message "+ct.message),V=!0,j.wo(new Re(Vt,gn)),D.close()}else Ue(ss,`RPC '${e}' stream ${r} received:`,Ge),j._o(Ge)}}),W(h,Oa.STAT_EVENT,fe=>{fe.stat===Wo.PROXY?Ue(ss,`RPC '${e}' stream ${r} detected buffering proxy`):fe.stat===Wo.NOPROXY&&Ue(ss,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{j.fo()},0),j}}function n0(){return typeof window<"u"?window:null}function jh(){return typeof document<"u"?document:null}function r0(n){return new ok(n,!0)}class US{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&Ue("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Rk{constructor(e,t,i,r,o,u,h,m){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new US(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ye.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ye.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,ye.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Re(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,ye.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BS extends Rk{constructor(e,t,i,r,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function I_(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:dt(),r=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(mt(void 0===y||"string"==typeof y),ir.fromBase64String(y||"")):(mt(void 0===y||y instanceof Uint8Array),ir.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const y=void 0===m.code?de.UNKNOWN:tC(m.code);return new Re(y,m.message||"")}(u);t=new LD(i,r,o,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Ml(n,i.document.name),o=Pi(i.document.updateTime),u=i.document.createTime?Pi(i.document.createTime):bt.min(),h=new Mr({mapValue:{fields:i.document.fields}}),m=Kn.newFoundDocument(r,o,u,h);t=new Rb(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const i=e.documentDelete,r=Ml(n,i.document),o=i.readTime?Pi(i.readTime):bt.min(),u=Kn.newNoDocument(r,o);t=new Rb([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=Ml(n,i.document);t=new Rb([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return dt();{const i=e.filter,{count:r=0,unchangedNames:o}=i,u=new rk(r,o);t=new FD(i.targetId,u)}}var m;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return bt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?bt.min():o.readTime?Pi(o.readTime):bt.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Vp(this.serializer),t.addTarget=function(r,o){let u;const h=o.target;if(u=Ap(h)?{documents:sC(r,h)}:{query:oC(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=zD(r,o.resumeToken);const m=Ob(r,o.expectedCount);null!==m&&(u.expectedCount=m)}else if(o.snapshotVersion.compareTo(bt.min())>0){u.readTime=Oh(r,o.snapshotVersion.toTimestamp());const m=Ob(r,o.expectedCount);null!==m&&(u.expectedCount=m)}return u}(this.serializer,e);const i=function dk(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Vp(this.serializer),t.removeTarget=e,this.Wo(t)}}class kk extends Rk{constructor(e,t,i,r,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function uk(n,e){return n&&n.length>0?(mt(void 0!==e),n.map(t=>function(i,r){let o=Pi(i.updateTime?i.updateTime:r);return o.isEqual(bt.min())&&(o=Pi(r)),new wF(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Pi(e.commitTime);return this.listener.cu(i,t)}return mt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Vp(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>T_(this.serializer,i))};this.Wo(t)}}class Ok extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(de.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.vo(e,t,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(de.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class jS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Ri(t),this.mu=!1):Ue("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class HS{constructor(e,t,i,r,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(h=>{i.enqueueAndForget((0,ye.Z)(function*(){var m;Hh(u)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,ye.Z)(function*(y){const I=nt(y);I.vu.add(4),yield Zp(I),I.bu.set("Unknown"),I.vu.delete(4),yield qp(I)}),function(y){return m.apply(this,arguments)})(u))}))}),this.bu=new jS(i,r)}}function qp(n){return AC.apply(this,arguments)}function AC(){return AC=(0,ye.Z)(function*(n){if(Hh(n))for(const e of n.Ru)yield e(!0)}),AC.apply(this,arguments)}function Zp(n){return s0.apply(this,arguments)}function s0(){return s0=(0,ye.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),s0.apply(this,arguments)}function Wp(n,e){const t=nt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),RC(t)?MC(t):Kp(t).Ko()&&a0(t,e))}function o0(n,e){const t=nt(n),i=Kp(t);t.Au.delete(e),i.Ko()&&l0(t,e),0===t.Au.size&&(i.Ko()?i.jo():Hh(t)&&t.bu.set("Unknown"))}function a0(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kp(n).su(e)}function l0(n,e){n.Vu.qt(e),Kp(n).iu(e)}function MC(n){n.Vu=new UD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Kp(n).start(),n.bu.gu()}function RC(n){return Hh(n)&&!Kp(n).Uo()&&n.Au.size>0}function Hh(n){return 0===nt(n).vu.size}function Nk(n){n.Vu=void 0}function Fk(n){return kC.apply(this,arguments)}function kC(){return kC=(0,ye.Z)(function*(n){n.Au.forEach((e,t)=>{a0(n,e)})}),kC.apply(this,arguments)}function Lk(n,e){return OC.apply(this,arguments)}function OC(){return OC=(0,ye.Z)(function*(n,e){Nk(n),RC(n)?(n.bu.Iu(e),MC(n)):n.bu.set("Unknown")}),OC.apply(this,arguments)}function zS(n,e,t){return c0.apply(this,arguments)}function c0(){return c0=(0,ye.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof LD&&2===e.state&&e.cause)try{yield(i=(0,ye.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield u0(n,i)}else if(e instanceof Rb?n.Vu.Ht(e):e instanceof FD?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(bt.min()))try{const i=yield Bh(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const u=r.Vu.ce(o);return u.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.Au.get(m);y&&r.Au.set(m,y.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach((h,m)=>{const y=r.Au.get(h);if(!y)return;r.Au.set(h,y.withResumeToken(ir.EMPTY_BYTE_STRING,y.snapshotVersion)),l0(r,h);const I=new Gs(y.target,h,m,y.sequenceNumber);a0(r,I)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Ue("RemoteStore","Failed to raise snapshot:",i),yield u0(n,i)}var i}),c0.apply(this,arguments)}function u0(n,e,t){return d0.apply(this,arguments)}function d0(){return d0=(0,ye.Z)(function*(n,e,t){if(!vo(e))throw e;n.vu.add(1),yield Zp(n),n.bu.set("Offline"),t||(t=()=>Bh(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield qp(n)}))}),d0.apply(this,arguments)}function PC(n,e){return e().catch(t=>u0(n,t,e))}function L_(n){return NC.apply(this,arguments)}function NC(){return NC=(0,ye.Z)(function*(n){const e=nt(n),t=zh(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;FC(e);)try{const r=yield SS(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,$S(e,r)}catch(r){yield u0(e,r)}LC(e)&&GS(e)}),NC.apply(this,arguments)}function FC(n){return Hh(n)&&n.Eu.length<10}function $S(n,e){n.Eu.push(e);const t=zh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function LC(n){return Hh(n)&&!zh(n).Uo()&&n.Eu.length>0}function GS(n){zh(n).start()}function h0(n){return VC.apply(this,arguments)}function VC(){return VC=(0,ye.Z)(function*(n){zh(n).hu()}),VC.apply(this,arguments)}function Vk(n){return f0.apply(this,arguments)}function f0(){return f0=(0,ye.Z)(function*(n){const e=zh(n);for(const t of n.Eu)e.uu(t.mutations)}),f0.apply(this,arguments)}function qS(n,e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,ye.Z)(function*(n,e,t){const i=n.Eu.shift(),r=Sb.from(i,e,t);yield PC(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield L_(n)}),ZS.apply(this,arguments)}function Uk(n,e){return WS.apply(this,arguments)}function WS(){return WS=(0,ye.Z)(function*(n,e){var t;e&&zh(n).ou&&(yield(t=(0,ye.Z)(function*(i,r){if(Ab(o=r.code)&&o!==de.ABORTED){const u=i.Eu.shift();zh(i).Qo(),yield PC(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield L_(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),LC(n)&&GS(n)}),WS.apply(this,arguments)}function KS(n,e){return YS.apply(this,arguments)}function YS(){return YS=(0,ye.Z)(function*(n,e){const t=nt(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const i=Hh(t);t.vu.add(3),yield Zp(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield qp(t)}),YS.apply(this,arguments)}function QS(n,e){return UC.apply(this,arguments)}function UC(){return UC=(0,ye.Z)(function*(n,e){const t=nt(n);e?(t.vu.delete(2),yield qp(t)):e||(t.vu.add(2),yield Zp(t),t.bu.set("Unknown"))}),UC.apply(this,arguments)}function Kp(n){return n.Su||(n.Su=function(e,t,i){const r=nt(e);return r.fu(),new BS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Fk.bind(null,n),ao:Lk.bind(null,n),nu:zS.bind(null,n)}),n.Ru.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Su.Qo(),RC(n)?MC(n):n.bu.set("Unknown")):(yield n.Su.stop(),Nk(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function zh(n){return n.Du||(n.Du=function(e,t,i){const r=nt(e);return r.fu(),new kk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:h0.bind(null,n),ao:Uk.bind(null,n),au:Vk.bind(null,n),cu:qS.bind(null,n)}),n.Ru.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Du.Qo(),yield L_(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class JS{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,o){const u=Date.now()+i,h=new JS(e,t,u,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V_(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),vo(n))return new Re(de.UNAVAILABLE,`${e}: ${n}`);throw n}class U_{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Qe.comparator(t.key,i.key):(t,i)=>Qe.comparator(t.key,i.key),this.keyedMap=kp(),this.sortedSet=new Vn(this.comparator)}static emptySet(e){return new U_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof U_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new U_;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Bk{constructor(){this.Cu=new Vn(Qe.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):dt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Yp{constructor(e,t,i,r,o,u,h,m,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,r,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Yp(e,t,U_.emptySet(t),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&p_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class DF{constructor(){this.Nu=void 0,this.listeners=[]}}class SF{constructor(){this.queries=new Oc(e=>GE(e),p_),this.onlineState="Unknown",this.ku=new Set}}function XS(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,ye.Z)(function*(n,e){const t=nt(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new DF),r)try{o.Nu=yield t.onListen(i)}catch(u){const h=V_(u,`Initialization of query '${ID(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&a(t)}),eA.apply(this,arguments)}function tA(n,e){return BC.apply(this,arguments)}function BC(){return BC=(0,ye.Z)(function*(n,e){const t=nt(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const u=o.listeners.indexOf(e);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),BC.apply(this,arguments)}function AF(n,e){const t=nt(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const h of u.listeners)h.$u(r)&&(i=!0);u.Nu=r}}i&&a(t)}function s(n,e,t){const i=nt(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function a(n){n.ku.forEach(e=>{e.next()})}class c{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Yp(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Yp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class d{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class f{constructor(e){this.serializer=e}rr(e){return Ml(this.serializer,e)}ur(e){return e.metadata.exists?ck(this.serializer,e.document,!1):Kn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Pi(e)}}class g{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=v(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=dn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new f(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const u of r.metadata.queries){const h=(t.get(u)||Zt()).add(o);t.set(u,h)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function xF(n,e,t,i){return kS.apply(this,arguments)}(e.localStore,new f(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield OS(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function v(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class E{constructor(e){this.key=e}}class T{constructor(e){this.key=e}}class A{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Zt(),this.mutatedKeys=Zt(),this.tc=xD(e),this.ec=new U_(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new Bk,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,u=r,h=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((I,D)=>{const R=r.get(I),V=Rp(this.query,D)?D:null,j=!!R&&this.mutatedKeys.has(R.key),W=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let fe=!1;R&&V?R.data.isEqual(V.data)?j!==W&&(i.track({type:3,doc:V}),fe=!0):this.rc(R,V)||(i.track({type:2,doc:V}),fe=!0,(m&&this.tc(V,m)>0||y&&this.tc(V,y)<0)&&(h=!0)):!R&&V?(i.track({type:0,doc:V}),fe=!0):R&&!V&&(i.track({type:1,doc:R}),fe=!0,(m||y)&&(h=!0)),fe&&(V?(u=u.add(V),o=W?o.add(I):o.delete(I)):(u=u.delete(I),o=o.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),o=o.delete(I.key),i.track({type:1,doc:I})}return{ec:u,ic:i,zi:h,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((y,I)=>function(D,R){const V=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return V(D)-V(R)}(y.type,I.type)||this.tc(y.doc,I.doc)),this.oc(i);const u=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,m=h!==this.Xu;return this.Xu=h,0!==o.length||m?{snapshot:new Yp(this.query,e.ec,r,o,e.mutatedKeys,0===h,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Bk,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Zt(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new T(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new E(i))}),t}hc(e){this.Yu=e.ir,this.Zu=Zt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Yp.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class k{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class U{constructor(e){this.key=e,this.fc=!1}}class Z{constructor(e,t,i,r,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new Oc(h=>GE(h),p_),this._c=new Map,this.mc=new Set,this.gc=new Vn(Qe.comparator),this.yc=new Map,this.Ic=new N_,this.Tc={},this.Ec=new Map,this.Ac=Uh.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function J(n,e){return ve.apply(this,arguments)}function ve(){return ve=(0,ye.Z)(function*(n,e){const t=iO(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const u=yield zp(t.localStore,xs(e)),h=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield Le(t,e,i,"current"===h,u.resumeToken),t.isPrimaryClient&&Wp(t.remoteStore,u)}return r}),ve.apply(this,arguments)}function Le(n,e,t,i,r){return Je.apply(this,arguments)}function Je(){return Je=(0,ye.Z)(function*(n,e,t,i,r){n.Rc=(D,R,V)=>{return(j=(0,ye.Z)(function*(W,fe,je,Ge){let Xe=fe.view.sc(je);Xe.zi&&(Xe=yield F_(W.localStore,fe.query,!1).then(({documents:Vt})=>fe.view.sc(Vt,Xe)));const ct=Ge&&Ge.targetChanges.get(fe.targetId),Rt=fe.view.applyChanges(Xe,W.isPrimaryClient,ct);return qk(W,fe.targetId,Rt.cc),Rt.snapshot}),function(W,fe,je,Ge){return j.apply(this,arguments)})(n,D,R,V);var j};const o=yield F_(n.localStore,e,!0),u=new A(e,o.ir),h=u.sc(o.documents),m=kh.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),y=u.applyChanges(h,n.isPrimaryClient,m);qk(n,t,y.cc);const I=new k(e,t,u);return n.wc.set(e,I),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),y.snapshot}),Je.apply(this,arguments)}function wt(n,e){return Me.apply(this,arguments)}function Me(){return Me=(0,ye.Z)(function*(n,e){const t=nt(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!p_(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield $p(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),o0(t.remoteStore,i.targetId),p0(t,i.targetId)}).catch(Ac))):(p0(t,i.targetId),yield $p(t.localStore,i.targetId,!0))}),Me.apply(this,arguments)}function Wt(){return Wt=(0,ye.Z)(function*(n,e,t){const i=rO(n);try{const r=yield function(o,u){const h=nt(o),m=oi.now(),y=u.reduce((R,V)=>R.add(V.key),Zt());let I,D;return h.persistence.runTransaction("Locally write mutations","readwrite",R=>{let V=$s(),j=Zt();return h.Zi.getEntries(R,y).next(W=>{V=W,V.forEach((fe,je)=>{je.isValidDocument()||(j=j.add(fe))})}).next(()=>h.localDocuments.getOverlayedDocuments(R,V)).next(W=>{I=W;const fe=[];for(const je of u){const Ge=Db(je,I.get(je.key).overlayedDocument);null!=Ge&&fe.push(new Al(je.key,Ge,hD(Ge.value.mapValue),ai.exists(!0)))}return h.mutationQueue.addMutationBatch(R,m,fe,u)}).next(W=>{D=W;const fe=W.applyToLocalDocumentSet(I,j);return h.documentOverlayCache.saveOverlays(R,W.batchId,fe)})}).then(()=>({batchId:D.batchId,changes:DD(I)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let m=o.Tc[o.currentUser.toKey()];m||(m=new Vn(Ht)),m=m.insert(u,h),o.Tc[o.currentUser.toKey()]=m}(i,r.batchId,t),yield $h(i,r.changes),yield L_(i.remoteStore)}catch(r){const o=V_(r,"Failed to persist write");t.reject(o)}}),Wt.apply(this,arguments)}function En(n,e){return os.apply(this,arguments)}function os(){return os=(0,ye.Z)(function*(n,e){const t=nt(n);try{const i=yield function Xb(n,e){const t=nt(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const h=[];e.targetChanges.forEach((I,D)=>{const R=r.get(D);if(!R)return;h.push(t.Bs.removeMatchingKeys(o,I.removedDocuments,D).next(()=>t.Bs.addMatchingKeys(o,I.addedDocuments,D)));let V=R.withSequenceNumber(o.currentSequenceNumber);var j,W,fe;null!==e.targetMismatches.get(D)?V=V.withResumeToken(ir.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):I.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(I.resumeToken,i)),r=r.insert(D,V),W=V,fe=I,(0===(j=R).resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(o,V))});let m=$s(),y=Zt();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,I))}),h.push(vC(o,u,e.documentUpdates).next(I=>{m=I.nr,y=I.sr})),!i.isEqual(bt.min())){const I=t.Bs.getLastRemoteSnapshotVersion(o).next(D=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(I)}return oe.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,m,y)).next(()=>m)}).then(o=>(t.Ji=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const u=t.yc.get(o);u&&(mt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.fc=!0:r.modifiedDocuments.size>0?mt(u.fc):r.removedDocuments.size>0&&(mt(u.fc),u.fc=!1))}),yield $h(t,i,e)}catch(i){yield Ac(i)}}),os.apply(this,arguments)}function Ol(n,e,t){const i=nt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,u)=>{const h=u.view.Mu(e);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=nt(o);h.onlineState=u;let m=!1;h.queries.forEach((y,I)=>{for(const D of I.listeners)D.Mu(u)&&(m=!0)}),m&&a(h)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Qp(n,e,t){return B_.apply(this,arguments)}function B_(){return B_=(0,ye.Z)(function*(n,e,t){const i=nt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let u=new Vn(Qe.comparator);u=u.insert(o,Kn.newNoDocument(o,bt.min()));const h=Zt().add(o),m=new Rh(bt.min(),new Map,new Vn(Ht),u,h);yield En(i,m),i.gc=i.gc.remove(o),i.yc.delete(e),Zk(i)}else yield $p(i.localStore,e,!1).then(()=>p0(i,e,t)).catch(Ac)}),B_.apply(this,arguments)}function jk(n,e){return jC.apply(this,arguments)}function jC(){return jC=(0,ye.Z)(function*(n,e){const t=nt(n),i=e.batch.batchId;try{const r=yield function DS(n,e){const t=nt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,h,m,y){const I=m.batch,D=I.keys();let R=oe.resolve();return D.forEach(V=>{R=R.next(()=>y.getEntry(h,V)).next(j=>{const W=m.docVersions.get(V);mt(null!==W),j.version.compareTo(W)<0&&(I.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),y.addEntry(j)))})}),R.next(()=>u.mutationQueue.removeMutationBatch(h,I))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Zt();for(let m=0;m<u.mutationResults.length;++m)u.mutationResults[m].transformResults.length>0&&(h=h.add(u.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);Gk(t,i,null),$k(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield $h(t,r)}catch(r){yield Ac(r)}}),jC.apply(this,arguments)}function Cj(n,e,t){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,ye.Z)(function*(n,e,t){const i=nt(n);try{const r=yield function(o,u){const h=nt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return h.mutationQueue.lookupMutationBatch(m,u).next(I=>(mt(null!==I),y=I.keys(),h.mutationQueue.removeMutationBatch(m,I))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>h.localDocuments.getDocuments(m,y))})}(i.localStore,e);Gk(i,e,t),$k(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield $h(i,r)}catch(r){yield Ac(r)}}),Hk.apply(this,arguments)}function zk(){return zk=(0,ye.Z)(function*(n,e){const t=nt(n);Hh(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=nt(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=V_(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),zk.apply(this,arguments)}function $k(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Gk(n,e,t){const i=nt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function p0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||MF(n,i)})}function MF(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(o0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Zk(n))}function qk(n,e,t){for(const i of t)i instanceof E?(n.Ic.addReference(i.key,e),Tj(n,i)):i instanceof T?(Ue("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||MF(n,i.key)):dt()}function Tj(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Ue("SyncEngine","New document in limbo: "+t),n.mc.add(i),Zk(n))}function Zk(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qe(dn.fromString(e)),i=n.Ac.next();n.yc.set(i,new U(t)),n.gc=n.gc.insert(t,i),Wp(n.remoteStore,new Gs(xs(Sh(t.path)),i,"TargetPurposeLimboResolution",Dr.ct))}}function $h(n,e,t){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,ye.Z)(function*(n,e,t){const i=nt(n),r=[],o=[],u=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,m)=>{u.push(i.Rc(m,e,t).then(y=>{if((y||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,y?.fromCache?"not-current":"current"),y){r.push(y);const I=IS.Li(m.targetId,y);o.push(I)}}))}),yield Promise.all(u),i.dc.nu(r),yield(h=(0,ye.Z)(function*(m,y){const I=nt(m);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>oe.forEach(y,R=>oe.forEach(R.Fi,V=>I.persistence.referenceDelegate.addReference(D,R.targetId,V)).next(()=>oe.forEach(R.Bi,V=>I.persistence.referenceDelegate.removeReference(D,R.targetId,V)))))}catch(D){if(!vo(D))throw D;Ue("LocalStore","Failed to update sequence numbers: "+D)}for(const D of y){const R=D.targetId;if(!D.fromCache){const V=I.Ji.get(R),W=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);I.Ji=I.Ji.insert(R,W)}}}),function(m,y){return h.apply(this,arguments)})(i.localStore,o))}),Wk.apply(this,arguments)}function xj(n,e){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,ye.Z)(function*(n,e){const t=nt(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const i=yield xS(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(u=>{u.forEach(h=>{h.reject(new Re(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield $h(t,i.er)}var r}),Kk.apply(this,arguments)}function Dj(n,e){const t=nt(n),i=t.yc.get(e);if(i&&i.fc)return Zt().add(i.key);{let r=Zt();const o=t._c.get(e);if(!o)return r;for(const u of o){const h=t.wc.get(u);r=r.unionWith(h.view.nc)}return r}}function Sj(n,e){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,ye.Z)(function*(n,e){const t=nt(n),i=yield F_(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&qk(t,e.targetId,r.cc),r}),Yk.apply(this,arguments)}function Aj(n,e){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,ye.Z)(function*(n,e){const t=nt(n);return RS(t.localStore,e).then(i=>$h(t,i))}),Qk.apply(this,arguments)}function Mj(n,e,t,i){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,ye.Z)(function*(n,e,t,i){const r=nt(n),o=yield function(u,h){const m=nt(u),y=nt(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",I=>y.Sn(I,h).next(D=>D?m.localDocuments.getDocuments(I,D):oe.resolve(null)))}(r.localStore,e);var h;null!==o?("pending"===t?yield L_(r.remoteStore):"acknowledged"===t||"rejected"===t?(Gk(r,e,i||null),$k(r,e),h=e,nt(nt(r.localStore).mutationQueue).Cn(h)):dt(),yield $h(r,o)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),Jk.apply(this,arguments)}function Xk(){return Xk=(0,ye.Z)(function*(n,e){const t=nt(n);if(iO(t),rO(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield RF(t,i.toArray());t.vc=!0,yield QS(t.remoteStore,!0);for(const o of r)Wp(t.remoteStore,o)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(p0(t,u),$p(t.localStore,u,!0))),o0(t.remoteStore,u)}),yield r,yield RF(t,i),function(o){const u=nt(o);u.yc.forEach((h,m)=>{o0(u.remoteStore,m)}),u.Ic.Ts(),u.yc=new Map,u.gc=new Vn(Qe.comparator)}(t),t.vc=!1,yield QS(t.remoteStore,!1)}}),Xk.apply(this,arguments)}function RF(n,e,t){return eO.apply(this,arguments)}function eO(){return eO=(0,ye.Z)(function*(n,e,t){const i=nt(n),r=[],o=[];for(const u of e){let h;const m=i._c.get(u);if(m&&0!==m.length){h=yield zp(i.localStore,xs(m[0]));for(const y of m){const I=i.wc.get(y),D=yield Sj(i,I);D.snapshot&&o.push(D.snapshot)}}else{const y=yield MS(i.localStore,u);h=yield zp(i.localStore,y),yield Le(i,kF(y),u,!1,h.resumeToken)}r.push(h)}return i.dc.nu(o),r}),eO.apply(this,arguments)}function kF(n){return CD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function kj(n){const e=nt(n);return nt(nt(e.localStore).persistence).$i()}function Oj(n,e,t,i){return tO.apply(this,arguments)}function tO(){return tO=(0,ye.Z)(function*(n,e,t,i){const r=nt(n);if(r.vc)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=yield RS(r.localStore,TD(o[0])),h=Rh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ir.EMPTY_BYTE_STRING);yield $h(r,u,h);break}case"rejected":yield $p(r.localStore,e,!0),p0(r,e,i);break;default:dt()}}),tO.apply(this,arguments)}function Pj(n,e,t){return nO.apply(this,arguments)}function nO(){return nO=(0,ye.Z)(function*(n,e,t){const i=iO(n);if(i.vc){for(const r of e){if(i._c.has(r)){Ue("SyncEngine","Adding an already active target "+r);continue}const o=yield MS(i.localStore,r),u=yield zp(i.localStore,o);yield Le(i,kF(o),u.targetId,!1,u.resumeToken),Wp(i.remoteStore,u)}for(const r of t)i._c.has(r)&&(yield $p(i.localStore,r,!1).then(()=>{o0(i.remoteStore,r),p0(i,r)}).catch(Ac))}}),nO.apply(this,arguments)}function iO(n){const e=nt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=En.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qp.bind(null,e),e.dc.nu=AF.bind(null,e.eventManager),e.dc.Pc=s.bind(null,e.eventManager),e}function rO(n){const e=nt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cj.bind(null,e),e}class HC{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.serializer=r0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return yC(this.persistence,new Qb,e.initialUser,this.serializer)}createPersistence(e){return new bS(qb.zs,this.serializer)}createSharedClientState(e){return new VS}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sO extends HC{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield rO(i.Vc.syncEngine),yield L_(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return yC(this.persistence,new Qb,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new fS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new yF(t,this.persistence);return new Yx(e.asyncQueue,i)}createPersistence(e){const t=Yb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ds.withCacheSize(this.cacheSizeBytes):Ds.DEFAULT;return new CS(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,n0(),jh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new VS}}class OF extends sO{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof Gp&&(i.sharedClientState.syncEngine={jr:Mj.bind(null,r),zr:Oj.bind(null,r),Wr:Pj.bind(null,r),$i:kj.bind(null,r),Qr:Aj.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,ye.Z)(function*(u){yield function Rj(n,e){return Xk.apply(this,arguments)}(i.Vc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=n0();if(!Gp.D(t))throw new Re(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Yb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Gp(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class m0{initialize(e,t){var i=this;return(0,ye.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Ol(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=xj.bind(null,i.syncEngine),yield QS(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new SF}createDatastore(e){const t=r0(e.databaseInfo.databaseId),i=new DC(e.databaseInfo);return new Ok(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=h=>Ol(this.syncEngine,h,0),u=IC.D()?new IC:new Mk,new HS(t,i,r,o,u);var t,i,r,o,u}createSyncEngine(e,t){return function(i,r,o,u,h,m,y){const I=new Z(i,r,o,u,h,m);return y&&(I.vc=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const i=nt(t);Ue("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Zp(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function PF(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class nA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Lj{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Wi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const o=yield e.$c(r);return new d(JSON.parse(o),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ye.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class Vj{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Re(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ye.Z)(function*(o,u){const h=nt(o),m=Vp(h.serializer)+"/documents",y={documents:u.map(V=>C_(h.serializer,V))},I=yield h.vo("BatchGetDocuments",m,y,u.length),D=new Map;I.forEach(V=>{const j=function EF(n,e){return"found"in e?function(t,i){mt(!!i.found);const r=Ml(t,i.found.name),o=Pi(i.found.updateTime),u=i.found.createTime?Pi(i.found.createTime):bt.min(),h=new Mr({mapValue:{fields:i.found.fields}});return Kn.newFoundDocument(r,o,u,h)}(n,e):"missing"in e?function(t,i){mt(!!i.missing),mt(!!i.readTime);const r=Ml(t,i.missing),o=Pi(i.readTime);return Kn.newNoDocument(r,o)}(n,e):dt()}(h.serializer,V);D.set(j.key.toString(),j)});const R=[];return u.forEach(V=>{const j=D.get(V.toString());mt(!!j),R.push(j)}),R}),function(o,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Mh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=Qe.fromPath(r);e.mutations.push(new XE(o,e.precondition(o)))}),yield(i=(0,ye.Z)(function*(r,o){const u=nt(r),h=Vp(u.serializer)+"/documents",m={writes:o.map(y=>T_(u.serializer,y))};yield u.Io("Commit",h,m)}),function(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=bt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Re(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(bt.min())?ai.exists(!1):ai.updateTime(t):ai.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bt.min()))throw new Re(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ai.updateTime(t)}return ai.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Uj{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new US(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ye.Z)(function*(){const t=new Vj(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Uc(o)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!n_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ab(t)}return!1}}class Bj{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=nr.UNAUTHENTICATED,this.clientId=Wx.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ye.Z)(function*(h){Ue("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ue("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Re(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=V_(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function iA(n,e){return oO.apply(this,arguments)}function oO(){return oO=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ye.Z)(function*(o){i.isEqual(o)||(yield xS(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),oO.apply(this,arguments)}function aO(n,e){return lO.apply(this,arguments)}function lO(){return lO=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cO(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>KS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>KS(e.remoteStore,o)),n._onlineComponents=e}),lO.apply(this,arguments)}function NF(n){return"FirebaseError"===n.name?n.code===de.FAILED_PRECONDITION||n.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function cO(n){return uO.apply(this,arguments)}function uO(){return uO=(0,ye.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield iA(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!NF(t))throw t;yo("Error using user provided cache. Falling back to memory cache: "+t),yield iA(n,new HC)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield iA(n,new HC);return n._offlineComponents}),uO.apply(this,arguments)}function rA(n){return dO.apply(this,arguments)}function dO(){return dO=(0,ye.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield aO(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield aO(n,new m0))),n._onlineComponents}),dO.apply(this,arguments)}function FF(n){return cO(n).then(e=>e.persistence)}function sA(n){return cO(n).then(e=>e.localStore)}function LF(n){return rA(n).then(e=>e.remoteStore)}function hO(n){return rA(n).then(e=>e.syncEngine)}function g0(n){return fO.apply(this,arguments)}function fO(){return fO=(0,ye.Z)(function*(n){const e=yield rA(n),t=e.eventManager;return t.onListen=J.bind(null,e.syncEngine),t.onUnlisten=wt.bind(null,e.syncEngine),t}),fO.apply(this,arguments)}function UF(n,e,t={}){const i=new Wi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,o,u,h,m){const y=new nA({next:D=>{o.enqueueAndForget(()=>tA(r,I));const R=D.docs.has(u);!R&&D.fromCache?m.reject(new Re(de.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&D.fromCache&&h&&"server"===h.source?m.reject(new Re(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(D)},error:D=>m.reject(D)}),I=new c(Sh(u.path),y,{includeMetadataChanges:!0,Ku:!0});return XS(r,I)}(yield g0(n),n.asyncQueue,e,t,i)})),i.promise}function BF(n,e,t={}){const i=new Wi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,o,u,h,m){const y=new nA({next:D=>{o.enqueueAndForget(()=>tA(r,I)),D.fromCache&&"server"===h.source?m.reject(new Re(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(D)},error:D=>m.reject(D)}),I=new c(u,y,{includeMetadataChanges:!0,Ku:!0});return XS(r,I)}(yield g0(n),n.asyncQueue,e,t,i)})),i.promise}function jF(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const HF=new Map;function pO(n,e,t){if(!t)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zF(n,e,t,i){if(!0===e&&!0===i)throw new Re(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $F(n){if(!Qe.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GF(n){if(Qe.isDocumentKey(n))throw new Re(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=oA(n);throw new Re(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qF(n,e){if(e<=0)throw new Re(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ZF{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Re(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Re(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=jF(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Re(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Re(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Re(de.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zC{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Re(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Hx;switch(t.type){case"firstParty":return new qx(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Re(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=HF.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),HF.delete(e),t.terminate())}(this),Promise.resolve()}}class fi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new od(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fi(this.firestore,e,this._key)}}class As{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new As(this.firestore,e,this._query)}}class od extends As{constructor(e,t,i){super(e,t,Sh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fi(this.firestore,null,new Qe(e))}withConverter(e){return new od(this.firestore,e,this._path)}}function KF(n,e,...t){if(n=(0,F.m9)(n),pO("collection","path",e),n instanceof zC){const i=dn.fromString(e,...t);return GF(i),new od(n,null,i)}{if(!(n instanceof fi||n instanceof od))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dn.fromString(e,...t));return GF(i),new od(n.firestore,null,i)}}function aA(n,e,...t){if(n=(0,F.m9)(n),1===arguments.length&&(e=Wx.A()),pO("doc","path",e),n instanceof zC){const i=dn.fromString(e,...t);return $F(i),new fi(n,null,new Qe(i))}{if(!(n instanceof fi||n instanceof od))throw new Re(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dn.fromString(e,...t));return $F(i),new fi(n.firestore,n instanceof od?n.converter:null,new Qe(i))}}function YF(n,e){return n=(0,F.m9)(n),e=(0,F.m9)(e),(n instanceof fi||n instanceof od)&&(e instanceof fi||e instanceof od)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function mO(n,e){return n=(0,F.m9)(n),e=(0,F.m9)(e),n instanceof As&&e instanceof As&&n.firestore===e.firestore&&p_(n._query,e._query)&&n.converter===e.converter}class Yj{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new US(this,"async_queue_retry"),this.Xc=()=>{const t=jh();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=jh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=jh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Wi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!vo(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Ri("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=JS.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&dt()}verifyOperationInProgress(){}sa(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function gO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Qj{constructor(){this._progressObserver={},this._taskCompletionResolver=new Wi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class pi extends zC{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new Yj,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||QF(this),this._firestoreClient.terminate()}}function ur(n){return n._firestoreClient||QF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function QF(n){var e,t,i;const r=n._freezeSettings(),o=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new $R(n._databaseId,h,n._persistenceKey,(y=r).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,jF(y.experimentalLongPollingOptions),y.useFetchStreams));var h,y;n._firestoreClient=new Bj(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function JF(n,e,t){const i=new Wi;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield iA(n,t),yield aO(n,e),i.resolve()}catch(r){const o=r;if(!NF(o))throw o;yo("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function XF(n){if(n._initialized||n._terminated)throw new Re(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ad{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ad(ir.fromBase64String(e))}catch(t){throw new Re(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ad(ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Re(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ki(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class j_{constructor(e){this._methodName=e}}class lA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const lH=/^__.*__$/;class cH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Al(e,this.data,this.fieldMask,t,this.fieldTransforms):new Np(e,this.data,t,this.fieldTransforms)}}class eL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Al(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class cA{constructor(e,t,i,r,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new cA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return hA(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(tL(this.ca)&&lH.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class uH{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||r0(e)}ya(e,t,i,r=!1){return new cA({ca:e,methodName:t,ga:i,path:ki.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H_(n){const e=n._freezeSettings(),t=r0(n._databaseId);return new uH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function uA(n,e,t,i,r,o={}){const u=n.ya(o.merge||o.mergeFields?2:0,e,t,r);bO("Data must be an object, but it was:",u,i);const h=rL(i,u);let m,y;if(o.merge)m=new wo(u.fieldMask),y=u.fieldTransforms;else if(o.mergeFields){const I=[];for(const D of o.mergeFields){const R=qC(e,D,t);if(!u.contains(R))throw new Re(de.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);oL(I,R)||I.push(R)}m=new wo(I),y=u.fieldTransforms.filter(D=>m.covers(D.field))}else m=null,y=u.fieldTransforms;return new cH(new Mr(h),m,y)}class GC extends j_{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof GC}}function nL(n,e,t){return new cA({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _O extends j_{_toFieldTransform(e){return new Qu(e.path,new y_)}isEqual(e){return e instanceof _O}}class dH extends j_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=nL(this,e,!0),i=this.pa.map(o=>z_(o,t)),r=new Yu(i);return new Qu(e.path,r)}isEqual(e){return this===e}}class hH extends j_{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=nL(this,e,!0),i=this.pa.map(o=>z_(o,t)),r=new Ah(i);return new Qu(e.path,r)}isEqual(e){return this===e}}class fH extends j_{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Op(e.serializer,KE(e.serializer,this.Ia));return new Qu(e.path,t)}isEqual(e){return this===e}}function yO(n,e,t,i){const r=n.ya(1,e,t);bO("Data must be an object, but it was:",r,i);const o=[],u=Mr.empty();Rc(i,(m,y)=>{const I=dA(e,m,t);y=(0,F.m9)(y);const D=r.da(I);if(y instanceof GC)o.push(I);else{const R=z_(y,D);null!=R&&(o.push(I),u.set(I,R))}});const h=new wo(o);return new eL(u,h,r.fieldTransforms)}function vO(n,e,t,i,r,o){const u=n.ya(1,e,t),h=[qC(e,i,t)],m=[r];if(o.length%2!=0)throw new Re(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<o.length;R+=2)h.push(qC(e,o[R])),m.push(o[R+1]);const y=[],I=Mr.empty();for(let R=h.length-1;R>=0;--R)if(!oL(y,h[R])){const V=h[R];let j=m[R];j=(0,F.m9)(j);const W=u.da(V);if(j instanceof GC)y.push(V);else{const fe=z_(j,W);null!=fe&&(y.push(V),I.set(V,fe))}}const D=new wo(y);return new eL(I,D,u.fieldTransforms)}function iL(n,e,t,i=!1){return z_(t,n.ya(i?4:3,e))}function z_(n,e){if(sL(n=(0,F.m9)(n)))return bO("Unsupported field value:",e,n),rL(n,e);if(n instanceof j_)return function(t,i){if(!tL(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const u of t){let h=z_(u,i.wa(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,F.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return KE(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=oi.fromDate(t);return{timestampValue:Oh(i.serializer,r)}}if(t instanceof oi){const r=new oi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Oh(i.serializer,r)}}if(t instanceof lA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ad)return{bytesValue:zD(i.serializer,t._byteString)};if(t instanceof fi){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Zr(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${oA(t)}`)}(n,e)}function rL(n,e){const t={};return LE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rc(n,(i,r)=>{const o=z_(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function sL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof oi||n instanceof lA||n instanceof ad||n instanceof fi||n instanceof j_)}function bO(n,e,t){if(!sL(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=oA(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function qC(n,e,t){if((e=(0,F.m9)(e))instanceof Gh)return e._internalPath;if("string"==typeof e)return dA(n,e);throw hA("Field path arguments must be of type string or ",n,!1,void 0,t)}const pH=new RegExp("[~\\*/\\[\\]]");function dA(n,e,t){if(e.search(pH)>=0)throw hA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gh(...e.split("."))._internalPath}catch{throw hA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hA(n,e,t,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${i}`),u&&(m+=` in document ${r}`),m+=")"),new Re(de.INVALID_ARGUMENT,h+n+m)}function oL(n,e){return n.some(t=>t.isEqual(e))}class ZC{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mH extends ZC{data(){return super.data()}}function fA(n,e){return"string"==typeof e?dA(n,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}function aL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Re(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wO{}class WC extends wO{}function Jp(n,e,...t){let i=[];e instanceof wO&&i.push(e),i=i.concat(t),function(r){const o=r.filter(h=>h instanceof _0).length,u=r.filter(h=>h instanceof KC).length;if(o>1||o>0&&u>0)throw new Re(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class KC extends WC{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new KC(e,t,i)}_apply(e){const t=this._parse(e);return dL(e._query,t),new As(e.firestore,e.converter,$E(e._query,t))}_parse(e){const t=H_(e.firestore);return function(r,o,u,h,m,y,I){let D;if(m.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){uL(I,y);const R=[];for(const V of I)R.push(cL(h,r,V));D={arrayValue:{values:R}}}else D=cL(h,r,I)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||uL(I,y),D=iL(u,"where",I,"in"===y||"not-in"===y);return rn.create(m,y,D)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class _0 extends wO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const u=r.getFlattenedFilters();for(const h of u)dL(o,h),o=$E(o,h)}(e._query,t),new As(e.firestore,e.converter,$E(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class EO extends WC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new EO(e,t)}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Re(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Dp(r,o);return function(h,m){if(null===Cb(h)){const y=f_(h);null!==y&&hL(0,y,m.field)}}(i,u),u}(e._query,this._field,this._direction);return new As(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Dl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class pA extends WC{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new pA(e,t,i)}_apply(e){return new As(e.firestore,e.converter,Tb(e._query,this._limit,this._limitType))}}class mA extends WC{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new mA(e,t,i)}_apply(e){const t=lL(e,this.type,this._docOrFields,this._inclusive);return new As(e.firestore,e.converter,(r=t,new Dl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class gA extends WC{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new gA(e,t,i)}_apply(e){const t=lL(e,this.type,this._docOrFields,this._inclusive);return new As(e.firestore,e.converter,(r=t,new Dl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function lL(n,e,t,i){if(t[0]=(0,F.m9)(t[0]),t[0]instanceof ZC)return function(r,o,u,h,m){if(!h)throw new Re(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const I of Ku(r))if(I.field.isKeyField())y.push(Th(o,h.key));else{const D=h.data.field(I.field);if(qu(D))throw new Re(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const R=I.field.canonicalString();throw new Re(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}y.push(D)}return new Wu(y,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=H_(n.firestore);return function(o,u,h,m,y,I){const D=o.explicitOrderBy;if(y.length>D.length)throw new Re(de.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let V=0;V<y.length;V++){const j=y[V];if(D[V].field.isKeyField()){if("string"!=typeof j)throw new Re(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof j}`);if(!Ib(o)&&-1!==j.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${j}' contains a slash.`);const W=o.path.child(dn.fromString(j));if(!Qe.isDocumentKey(W))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${W}' is not because it contains an odd number of segments.`);const fe=new Qe(W);R.push(Th(u,fe))}else{const W=iL(h,m,j);R.push(W)}}return new Wu(R,I)}(n._query,n.firestore._databaseId,r,e,t,i)}}function cL(n,e,t){if("string"==typeof(t=(0,F.m9)(t))){if(""===t)throw new Re(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ib(e)&&-1!==t.indexOf("/"))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(dn.fromString(t));if(!Qe.isDocumentKey(i))throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Th(n,new Qe(i))}if(t instanceof fi)return Th(n,t._key);throw new Re(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oA(t)}.`)}function uL(n,e){if(!Array.isArray(n)||0===n.length)throw new Re(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dL(n,e){if(e.isInequality()){const i=f_(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Re(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=Cb(n);null!==o&&hL(0,r,o)}const t=function(i,r){for(const o of i)for(const u of o.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Re(de.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function hL(n,e,t){if(!t.isEqual(e))throw new Re(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class CO{convertValue(e,t="none"){switch(kc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Tl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Rc(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new lA(Oi(e.latitude),Oi(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=hb(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(l_(e));default:return null}}convertTimestamp(e){const t=Gu(e);return new oi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=dn.fromString(e);mt(lC(i));const r=new Zu(i.get(1),i.get(3)),o=new Qe(i.popFirst(5));return r.isEqual(t)||Ri(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function _A(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class IH extends CO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ad(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,t)}}class $_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qh extends ZC{constructor(e,t,i,r,o,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new YC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(fA("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class YC extends qh{data(e={}){return super.data(e)}}class Xp{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $_(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new YC(this._firestore,this._userDataWriter,i.key,i,new $_(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new YC(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $_(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new YC(i._firestore,i._userDataWriter,u.doc.key,u.doc,new $_(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,y=-1;return 0!==u.type&&(m=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),y=o.indexOf(u.doc.key)),{type:xH(u.type),doc:h,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function pL(n,e){return n instanceof qh&&e instanceof qh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Xp&&e instanceof Xp&&n._firestore===e._firestore&&mO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class em extends CO{constructor(e){super(),this.firestore=e}convertBytes(e){return new ad(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new fi(this.firestore,null,t)}}function mL(n,e,t){n=hn(n,fi);const i=hn(n.firestore,pi),r=_A(n.converter,e,t);return y0(i,[uA(H_(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,ai.none())])}function gL(n,e,t,...i){n=hn(n,fi);const r=hn(n.firestore,pi),o=H_(r);let u;return u="string"==typeof(e=(0,F.m9)(e))||e instanceof Gh?vO(o,"updateDoc",n._key,e,t,i):yO(o,"updateDoc",n._key,e),y0(r,[u.toMutation(n._key,ai.exists(!0))])}function _L(n,...e){var t,i,r;n=(0,F.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||gO(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(gO(e[u])){const D=e[u];e[u]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[u+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[u+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let m,y,I;if(n instanceof fi)y=hn(n.firestore,pi),I=Sh(n._key.path),m={next:D=>{e[u]&&e[u](IO(y,n,D))},error:e[u+1],complete:e[u+2]};else{const D=hn(n,As);y=hn(D.firestore,pi),I=D._query;const R=new em(y);m={next:V=>{e[u]&&e[u](new Xp(y,R,D,V))},error:e[u+1],complete:e[u+2]},aL(n._query)}return function(D,R,V,j){const W=new nA(j),fe=new c(R,W,V);return D.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return XS(yield g0(D),fe)})),()=>{W.Dc(),D.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return tA(yield g0(D),fe)}))}}(ur(y),I,h,m)}function y0(n,e){return function(t,i){const r=new Wi;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function Lt(n,e,t){return Wt.apply(this,arguments)}(yield hO(t),i,r)})),r.promise}(ur(n),e)}function IO(n,e,t){const i=t.docs.get(e._key),r=new em(n);return new qh(n,r,e._key,i,new $_(t.hasPendingWrites,t.fromCache),e.converter)}const $H={maxAttempts:5};class yL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=H_(e)}set(e,t,i){this._verifyNotCommitted();const r=tm(e,this._firestore),o=_A(r.converter,t,i),u=uA(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,ai.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=tm(e,this._firestore);let u;return u="string"==typeof(t=(0,F.m9)(t))||t instanceof Gh?vO(this._dataReader,"WriteBatch.update",o._key,t,i,r):yO(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,ai.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=tm(e,this._firestore);return this._mutations=this._mutations.concat(new Mh(t._key,ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Re(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tm(n,e){if((n=(0,F.m9)(n)).firestore!==e)throw new Re(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class GH extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=H_(e)}get(e){const t=tm(e,this._firestore),i=new IH(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return dt();const o=r[0];if(o.isFoundDocument())return new ZC(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new ZC(this._firestore,i,t._key,null,t.converter);throw dt()})}set(e,t,i){const r=tm(e,this._firestore),o=_A(r.converter,t,i),u=uA(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const o=tm(e,this._firestore);let u;return u="string"==typeof(t=(0,F.m9)(t))||t instanceof Gh?vO(this._dataReader,"Transaction.update",o._key,t,i,r):yO(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=tm(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=tm(e,this._firestore),i=new em(this._firestore);return super.get(e).then(r=>new qh(this._firestore,i,t._key,r._document,new $_(!1,!1),t.converter))}}function TO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function bL(){if(typeof Uint8Array>"u")throw new Re("unimplemented","Uint8Arrays are not available in this environment.")}function wL(){if(!function vF(){return typeof atob<"u"}())throw new Re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Il=uo.SDK_VERSION,(0,uo._registerComponent)(new Bs.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),u=new pi(new $x(t.getProvider("auth-internal")),new Zx(t.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zu(h.options.projectId,m)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,uo.registerVersion)(Bx,"3.13.0",n),(0,uo.registerVersion)(Bx,"3.13.0","esm2017")}();class QC{constructor(e){this._delegate=e}static fromBase64String(e){return wL(),new QC(ad.fromBase64String(e))}static fromUint8Array(e){return bL(),new QC(ad.fromUint8Array(e))}toBase64(){return wL(),this._delegate.toBase64()}toUint8Array(){return bL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xO(n){return function e4(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class t4{enableIndexedDbPersistence(e,t){return function Xj(n,e){XF(n=hn(n,pi));const t=ur(n);if(t._uninitializedComponentsProvider)throw new Re(de.FAILED_PRECONDITION,"SDK cache is already specified.");yo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new m0;return JF(t,r,new sO(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function eH(n){XF(n=hn(n,pi));const e=ur(n);if(e._uninitializedComponentsProvider)throw new Re(de.FAILED_PRECONDITION,"SDK cache is already specified.");yo("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new m0;return JF(e,i,new OF(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function tH(n){if(n._initialized&&!n._terminated)throw new Re(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Wi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(i){if(!qr.D())return Promise.resolve();const r=i+"main";yield qr.delete(r)}),function(i){return t.apply(this,arguments)})(Yb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class EL{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Zu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&yo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function WF(n,e,t,i={}){var r;const o=(n=hn(n,zC))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==u&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),i.mockUserToken){let h,m;if("string"==typeof i.mockUserToken)h=i.mockUserToken,m=nr.MOCK_USER;else{h=(0,F.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Re(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new nr(y)}n._authCredentials=new zx(new Jg(h,m))}}(this._delegate,e,t,i)}enableNetwork(){return function iH(n){return function jj(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield FF(n),t=yield LF(n);return e.setNetworkEnabled(!0),function(i){const r=nt(i);return r.vu.delete(0),qp(r)}(t)}))}(ur(n=hn(n,pi)))}(this._delegate)}disableNetwork(){return function rH(n){return function Hj(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield FF(n),t=yield LF(n);return e.setNetworkEnabled(!1),(i=(0,ye.Z)(function*(r){const o=nt(r);o.vu.add(0),yield Zp(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(ur(n=hn(n,pi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,zF("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function nH(n){return function(e){const t=new Wi;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function Ij(n,e){return zk.apply(this,arguments)}(yield hO(e),t)})),t.promise}(ur(n=hn(n,pi)))}(this._delegate)}onSnapshotsInSync(e){return function NH(n,e){return function Gj(n,e){const t=new nA(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield g0(n),r=t,nt(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield g0(n),r=t,void nt(i).ku.delete(r);var i,r}))}}(ur(n=hn(n,pi)),gO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new v0(this,KF(this._delegate,e))}catch(t){throw Eo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Pl(this,aA(this._delegate,e))}catch(t){throw Eo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Co(this,function Kj(n,e){if(n=hn(n,zC),pO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Re(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new As(n,null,(t=e,new Dl(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Eo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function qH(n,e,t){n=hn(n,pi);const i=Object.assign(Object.assign({},$H),t);return function(r){if(r.maxAttempts<1)throw new Re(de.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,u){const h=new Wi;return r.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const m=yield function VF(n){return rA(n).then(e=>e.datastore)}(r);new Uj(r.asyncQueue,m,u,o,h).run()})),h.promise}(ur(n),r=>e(new GH(n,r)),i)}(this._delegate,t=>e(new CL(this,t)))}batch(){return ur(this._delegate),new IL(new yL(this._delegate,e=>y0(this._delegate,e)))}loadBundle(e){return function sH(n,e){const t=ur(n=hn(n,pi)),i=new Qj;return function qj(n,e,t,i){const r=function(o,u){let h;return h="string"==typeof o?iC().encode(o):o,m=function(m,y){if(m instanceof Uint8Array)return PF(m,y);if(m instanceof ArrayBuffer)return PF(new Uint8Array(m),y);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new Lj(m,u);var m}(t,r0(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function Nj(n,e,t){const i=nt(n);var r;(r=(0,ye.Z)(function*(o,u,h){try{const m=yield u.getMetadata();if(yield function(R,V){const j=nt(R),W=Pi(V.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",fe=>j.qs.getBundleMetadata(fe,V.id)).then(fe=>!!fe&&fe.createTime.compareTo(W)>=0)}(o.localStore,m))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(R=m).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);h._updateProgress(v(m));const y=new g(m,o.localStore,u.serializer);let I=yield u.bc();for(;I;){const R=yield y.zu(I);R&&h._updateProgress(R),I=yield u.bc()}const D=yield y.complete();return yield $h(o,D.Ju,void 0),yield function(R,V){const j=nt(R);return j.persistence.runTransaction("Save bundle","readwrite",W=>j.qs.saveBundleMetadata(W,V))}(o.localStore,m),h._completeWith(D.progress),Promise.resolve(D.Hu)}catch(m){return yo("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var R}),function(o,u,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield hO(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function oH(n,e){return function Zj(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,i){const r=nt(t);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield sA(n),e)}))}(ur(n=hn(n,pi)),e).then(t=>t?new As(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Co(this,t):null)}}class yA extends CO{constructor(e){super(),this.firestore=e}convertBytes(e){return new QC(new ad(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Pl.forKey(t,this.firestore,null)}}class CL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yA(e)}get(e){const t=q_(e);return this._delegate.get(t).then(i=>new JC(this._firestore,new qh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=q_(e);return i?(TO("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=q_(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=q_(e);return this._delegate.delete(t),this}}class IL{constructor(e){this._delegate=e}set(e,t,i){const r=q_(e);return i?(TO("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=q_(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=q_(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class G_{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new YC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new XC(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=G_.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new G_(e,new yA(e),t),r.set(t,o)),o}}G_.INSTANCES=new WeakMap;class Pl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yA(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Pl(t,new fi(t._delegate,i,new Qe(e)))}static forKey(e,t,i){return new Pl(t,new fi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new v0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new v0(this.firestore,KF(this._delegate,e))}catch(t){throw Eo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,F.m9)(e))instanceof fi&&YF(this._delegate,e)}set(e,t){t=TO("DocumentReference.set",t);try{return t?mL(this._delegate,e,t):mL(this._delegate,e)}catch(i){throw Eo(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?gL(this._delegate,e):gL(this._delegate,e,t,...i)}catch(r){throw Eo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function OH(n){return y0(hn(n.firestore,pi),[new Mh(n._key,ai.none())])}(this._delegate)}onSnapshot(...e){const t=TL(e),i=xL(e,r=>new JC(this.firestore,new qh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return _L(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function SH(n){n=hn(n,fi);const e=hn(n.firestore,pi),t=ur(e),i=new em(e);return function zj(n,e){const t=new Wi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,o,u){try{const h=yield function(m,y){const I=nt(m);return I.persistence.runTransaction("read document","readonly",D=>I.localDocuments.getDocument(D,y))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Re(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=V_(h,`Failed to get document '${o} from cache`);u.reject(m)}}),function(r,o,u){return i.apply(this,arguments)})(yield sA(n),e,t);var i})),t.promise}(t,n._key).then(r=>new qh(e,i,n._key,r,new $_(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function AH(n){n=hn(n,fi);const e=hn(n.firestore,pi);return UF(ur(e),n._key,{source:"server"}).then(t=>IO(e,n,t))}(this._delegate):function DH(n){n=hn(n,fi);const e=hn(n.firestore,pi);return UF(ur(e),n._key).then(t=>IO(e,n,t))}(this._delegate),t.then(i=>new JC(this.firestore,new qh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Pl(this.firestore,this._delegate.withConverter(e?G_.getInstance(this.firestore,e):null))}}function Eo(n,e,t){return n.message=n.message.replace(e,t),n}function TL(n){for(const e of n)if("object"==typeof e&&!xO(e))return e;return{}}function xL(n,e){var t,i;let r;return r=xO(n[0])?n[0]:xO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class JC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Pl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return pL(this._delegate,e._delegate)}}class XC extends JC{data(e){const t=this._delegate.data(e);return function jx(n,e){n||dt()}(void 0!==t),t}}class Co{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yA(e)}where(e,t,i){try{return new Co(this.firestore,Jp(this._delegate,function gH(n,e,t){const i=e,r=fA("where",n);return KC._create(r,i,t)}(e,t,i)))}catch(r){throw Eo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Co(this.firestore,Jp(this._delegate,function _H(n,e="asc"){const t=e,i=fA("orderBy",n);return EO._create(i,t)}(e,t)))}catch(i){throw Eo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Co(this.firestore,Jp(this._delegate,function yH(n){return qF("limit",n),pA._create("limit",n,"F")}(e)))}catch(t){throw Eo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Co(this.firestore,Jp(this._delegate,function vH(n){return qF("limitToLast",n),pA._create("limitToLast",n,"L")}(e)))}catch(t){throw Eo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Co(this.firestore,Jp(this._delegate,function bH(...n){return mA._create("startAt",n,!0)}(...e)))}catch(t){throw Eo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Co(this.firestore,Jp(this._delegate,function wH(...n){return mA._create("startAfter",n,!1)}(...e)))}catch(t){throw Eo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Co(this.firestore,Jp(this._delegate,function EH(...n){return gA._create("endBefore",n,!1)}(...e)))}catch(t){throw Eo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Co(this.firestore,Jp(this._delegate,function CH(...n){return gA._create("endAt",n,!0)}(...e)))}catch(t){throw Eo(t,"endAt()","Query.endAt()")}}isEqual(e){return mO(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function RH(n){n=hn(n,As);const e=hn(n.firestore,pi),t=ur(e),i=new em(e);return function $j(n,e){const t=new Wi;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,o,u){try{const h=yield F_(r,o,!0),m=new A(o,h.ir),y=m.sc(h.documents),I=m.applyChanges(y,!1);u.resolve(I.snapshot)}catch(h){const m=V_(h,`Failed to execute query '${o} against cache`);u.reject(m)}}),function(r,o,u){return i.apply(this,arguments)})(yield sA(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Xp(e,i,n,r))}(this._delegate):"server"===e?.source?function kH(n){n=hn(n,As);const e=hn(n.firestore,pi),t=ur(e),i=new em(e);return BF(t,n._query,{source:"server"}).then(r=>new Xp(e,i,n,r))}(this._delegate):function MH(n){n=hn(n,As);const e=hn(n.firestore,pi),t=ur(e),i=new em(e);return aL(n._query),BF(t,n._query).then(r=>new Xp(e,i,n,r))}(this._delegate),t.then(i=>new DO(this.firestore,new Xp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=TL(e),i=xL(e,r=>new DO(this.firestore,new Xp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return _L(this._delegate,t,i)}withConverter(e){return new Co(this.firestore,this._delegate.withConverter(e?G_.getInstance(this.firestore,e):null))}}class r4{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new XC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class DO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Co(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new XC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new r4(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new XC(this._firestore,i))})}isEqual(e){return pL(this._delegate,e._delegate)}}class v0 extends Co{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Pl(this.firestore,e):null}doc(e){try{return new Pl(this.firestore,void 0===e?aA(this._delegate):aA(this._delegate,e))}catch(t){throw Eo(t,"doc()","CollectionReference.doc()")}}add(e){return function PH(n,e){const t=hn(n.firestore,pi),i=aA(n),r=_A(n.converter,e);return y0(t,[uA(H_(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ai.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Pl(this.firestore,t))}isEqual(e){return YF(this._delegate,e._delegate)}withConverter(e){return new v0(this.firestore,this._delegate.withConverter(e?G_.getInstance(this.firestore,e):null))}}function q_(n){return hn(n,fi)}class SO{constructor(...e){this._delegate=new Gh(...e)}static documentId(){return new SO(ki.keyField().canonicalString())}isEqual(e){return(e=(0,F.m9)(e))instanceof Gh&&this._delegate._internalPath.isEqual(e._internalPath)}}class Z_{constructor(e){this._delegate=e}static serverTimestamp(){const e=function WH(){return new _O("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Z_(e)}static delete(){const e=function ZH(){return new GC("deleteField")}();return e._methodName="FieldValue.delete",new Z_(e)}static arrayUnion(...e){const t=function KH(...n){return new dH("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Z_(t)}static arrayRemove(...e){const t=function YH(...n){return new hH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Z_(t)}static increment(e){const t=function QH(n){return new fH("increment",n)}(e);return t._methodName="FieldValue.increment",new Z_(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const s4={Firestore:EL,GeoPoint:lA,Timestamp:oi,Blob:QC,Transaction:CL,WriteBatch:IL,DocumentReference:Pl,DocumentSnapshot:JC,Query:Co,QueryDocumentSnapshot:XC,QuerySnapshot:DO,CollectionReference:v0,FieldPath:SO,FieldValue:Z_,setLogLevel:function n4(n){!function DR(n){$u.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function DL(n,e){return function l4(n,e=gl.z){return new Fn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function AO(n,e){return DL(n,e).pipe((0,tt.U)(t=>({payload:t,type:"query"})))}function vA(n,e){return AO(n,e).pipe(Vs(void 0),Eg(),(0,tt.U)(([t,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const m=r.find(I=>I.doc.ref.isEqual(u.ref)),y=t?.payload.docs.find(I=>I.ref.isEqual(u.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(u.metadata)||!m&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function SL(n,e,t){return vA(n,t).pipe(Vr((i,r)=>function u4(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function d4(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return MO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return MO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return MO(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),(0,Tc.x)(),(0,tt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function MO(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function AL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function a4(n){(function o4(n,e){n.INTERNAL.registerComponent(new Bs.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},s4)))})(n,(e,t)=>new EL(e,t,new t4)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(yv.Z);class ML{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=vA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,tt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Vs(void 0),Eg(),hi(([i,r])=>r.length>0||!i),(0,tt.U)(([i,r])=>r),Zn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=AL(e);return SL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}valueChanges(e={}){return AO(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Zn.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(Zn.iC)}add(e){return this.ref.add(e)}doc(e){return new RL(this.ref.doc(e),this.afs)}}class RL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=PL(i,t);return new ML(r,o,this.afs)}snapshotChanges(){return function c4(n,e){return DL(n,e).pipe(Vs(void 0),Eg(),(0,tt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ln.D)(this.ref.get(e)).pipe(Zn.iC)}}class h4{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?vA(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),hi(t=>t.length>0),Zn.iC):vA(this.query,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Vr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=AL(e);return SL(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zn.iC)}valueChanges(e={}){return AO(this.query,this.afs.schedulers.outsideAngular).pipe((0,tt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Zn.iC)}get(e){return(0,Ln.D)(this.query.get(e)).pipe(Zn.iC)}}const kL=new l.OlP("angularfire2.enableFirestorePersistence"),OL=new l.OlP("angularfire2.firestore.persistenceSettings"),f4=new l.OlP("angularfire2.firestore.settings"),p4=new l.OlP("angularfire2.firestore.use-emulator");function PL(n,e=(t=>t)){return{query:e(n),ref:n}}let nm=(()=>{class n{constructor(t,i,r,o,u,h,m,y,I,D,R,V,j,W,fe,je,Ge){this.schedulers=m;const Xe=(0,Cs.on)(t,h,i),ct=I;D&&gv(Xe,h,R,j,W,fe,V,je),[this.firestore,this.persistenceEnabled$]=(0,Cs.cc)(`${Xe.name}.firestore`,"AngularFirestore",Xe.name,()=>{const Rt=h.runOutsideAngular(()=>Xe.firestore());if(o&&Rt.settings(o),ct&&Rt.useEmulator(...ct),r&&!to(u)){const Vt=()=>{try{return(0,Ln.D)(Rt.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(gn){return typeof console<"u"&&console.warn(gn),(0,ut.of)(!1)}};return[Rt,h.runOutsideAngular(Vt)]}return[Rt,(0,ut.of)(!1)]},[o,ct,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:u}=PL(r,i),h=this.schedulers.ngZone.run(()=>o);return new ML(h,u,this)}collectionGroup(t,i){const r=i||(u=>u),o=this.firestore.collectionGroup(t);return new h4(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new RL(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cs.Dh),l.LFG(Cs.xv,8),l.LFG(kL,8),l.LFG(f4,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Zn.HU),l.LFG(OL,8),l.LFG(p4,8),l.LFG(Go,8),l.LFG(hv,8),l.LFG(fv,8),l.LFG(jt,8),l.LFG(pv,8),l.LFG(mv,8),l.LFG(Mu,8),l.LFG(wg,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),m4=(()=>{class n{constructor(){zw.Z.registerVersion("angularfire",Zn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:kL,useValue:!0},{provide:OL,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[nm]}),n})(),W_=(()=>{class n{constructor(t,i){this.afAuth=t,this.firestore=i,this.userData={uid:"",username:"",email:"",password:"",favorites:[""],avatar:""},this.username="",this.userEmail="",this.avatar="",this.afAuth.authState.subscribe(r=>{this.currentUser=r,console.log("Current User:",r)})}addUser(t){return this.firestore.collection("users").add({avatar:t.avatar,uid:t.uid,username:t.username.toUpperCase(),email:t.email.toUpperCase(),favorites:t.favorites})}getCurrentUser(){return this.currentUser}createUser(t){return this.firestore.collection("users").add(t)}getCurrentUserData(){const t=this.getCurrentUser();t&&this.getUserDocumentId(t.uid).then(i=>{i&&this.firestore.collection("users").doc(i).valueChanges().subscribe(r=>{r&&(this.avatar=r.avatar,this.username=r.username,this.userEmail=r.email,this.userId=r.uid)})})}getUserDocumentIdByEmail(t){const r=this.firestore.collection("users").ref.where("email","==",t);return new Fn.y(o=>{r.get().then(u=>{u.empty?o.next(null):u.forEach(h=>{o.next(h.id)}),o.complete()})})}getUserDocumentId(t){return this.firestore.collection("users").ref.where("uid","==",t).get().then(o=>{if(o.empty)return null;{let u=null;return o.forEach(h=>{u=h.id}),u}})}updateUserFavorites(t,i){this.firestore.collection("users").doc(t).update({favorites:i}).then(()=>{console.log("Favorites updated successfully.")}).catch(o=>{console.error("Error updating favorites:",o)})}aggiungiAlbumPreferito(t,i){const r=this.firestore.collection("users").doc(t);r.get().subscribe(o=>{if(o.exists){const u=o.data();u&&(u.favorites||(u.favorites=[]),u.favorites.includes(i)||(u.favorites.push(i),r.update({favorites:u.favorites})))}else console.log("Documento utente non esiste.")})}updateAvatar(t,i){const r=this.firestore.collection("users").doc(t);r.get().subscribe(o=>{if(o.exists){const u=o.data();u&&(u.avatar=i,r.update(u).then(()=>{console.log("Avatar aggiornato con successo")}).catch(h=>{console.error("Errore durante l'aggiornamento dell'avatar:",h)}))}else console.log("Documento utente non esiste.")})}getCurrentUserId(){return this.afAuth.authState.pipe((0,tt.U)(t=>t?t.uid:null))}getUsernameFromDatabase(){if(this.currentUser){const t=this.currentUser.id;console.log(t),this.firestore.collection("users").doc(t).get().subscribe(r=>{if(r.exists){const o=r.data();this.username=o.username}})}return this.username}getUsers(){return this.firestore.collection("users").valueChanges()}rimuoviAlbumPreferito(t,i){this.firestore.collection("users").doc(t).get().subscribe(r=>{if(r.exists){const o=r.data();if(o&&o.favorites){const u=o.favorites.indexOf(i);-1!==u?(o.favorites.splice(u,1),this.firestore.collection("users").doc(t).update({favorites:o.favorites}).then(()=>{console.log("Album rimosso dai preferiti con successo.")}).catch(h=>{console.error("Errore durante la rimozione dai preferiti:",h)})):console.log("Album ID non trovato nei preferiti.")}else console.log("L'array dei preferiti dell'utente non \xe8 definito.")}else console.log("Il documento utente non esiste.")})}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Go),l.LFG(nm))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const NL="@firebase/database";let RO="";function LL(n){RO=n}class y4{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,F.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,F.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class v4{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,F.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const VL=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new y4(e)}}catch{}return new v4},K_=VL("localStorage"),kO=VL("sessionStorage"),b0=new ho.Yd("@firebase/database"),UL=function(){let n=1;return function(){return n++}}(),BL=function(n){const e=(0,F.dS)(n),t=new F.gQ;t.update(e);const i=t.digest();return F.US.encodeByteArray(i)},eI=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=eI.apply(null,i):e+="object"==typeof i?(0,F.Wl)(i):i,e+=" "}return e};let Y_=null,jL=!0;const HL=function(n,e){(0,F.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(b0.logLevel=ho.in.VERBOSE,Y_=b0.log.bind(b0),e&&kO.set("logging_enabled",!0)):"function"==typeof n?Y_=n:(Y_=null,kO.remove("logging_enabled"))},as=function(...n){if(!0===jL&&(jL=!1,null===Y_&&!0===kO.get("logging_enabled")&&HL(!0)),Y_){const e=eI.apply(null,n);Y_(e)}},tI=function(n){return function(...e){as(n,...e)}},OO=function(...n){const e="FIREBASE INTERNAL ERROR: "+eI(...n);b0.error(e)},ld=function(...n){const e=`FIREBASE FATAL ERROR: ${eI(...n)}`;throw b0.error(e),new Error(e)},qs=function(...n){const e="FIREBASE WARNING: "+eI(...n);b0.warn(e)},bA=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},im="[MIN_NAME]",Zh="[MAX_NAME]",Q_=function(n,e){if(n===e)return 0;if(n===im||e===Zh)return-1;if(e===im||n===Zh)return 1;{const t=GL(n),i=GL(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},E4=function(n,e){return n===e?0:n<e?-1:1},nI=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(e))},PO=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,F.Wl)(e[i]),t+=":",t+=PO(n[e[i]]);return t+="}",t},zL=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function ls(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const $L=function(n){(0,F.hu)(!bA(n),"Invalid JSON number");const i=1023;let r,o,u,h,m;0===n?(o=0,u=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,u=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(o=0,u=Math.round(n/Math.pow(2,-1074))));const y=[];for(m=52;m;m-=1)y.push(u%2?1:0),u=Math.floor(u/2);for(m=11;m;m-=1)y.push(o%2?1:0),o=Math.floor(o/2);y.push(r?1:0),y.reverse();const I=y.join("");let D="";for(m=0;m<64;m+=8){let R=parseInt(I.substr(m,8),2).toString(16);1===R.length&&(R="0"+R),D+=R}return D.toLowerCase()},x4=new RegExp("^-?(0*)\\d{1,10}$"),GL=function(n){if(x4.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},w0=function(n){try{n()}catch(e){setTimeout(()=>{throw qs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},iI=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class M4{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){qs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class R4{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(as("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qs(e)}}let rI=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const YL=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,XL="websocket",e2="long_polling";class FO{constructor(e,t,i,r,o=!1,u="",h=!1,m=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=K_.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&K_.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function t2(n,e,t){let i;if((0,F.hu)("string"==typeof e,"typeof type must == string"),(0,F.hu)("object"==typeof t,"typeof params must == object"),e===XL)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==e2)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function k4(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return ls(t,(o,u)=>{r.push(o+"="+u)}),i+r.join("&")}class O4{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,F.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,F.p$)(this.counters_)}}const LO={},VO={};function UO(n){const e=n.toString();return LO[e]||(LO[e]=new O4),LO[e]}class N4{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&w0(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class rm{constructor(e,t,i,r,o,u,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tI(e),this.stats_=UO(t),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),t2(t,e2,m))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new N4(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new BO((...o)=>{const[u,h,m,y,I]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=h,this.password=m;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[u,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&YL.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){rm.forceAllow_=!0}static forceDisallow(){rm.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!rm.forceAllow_&&(rm.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,F.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,F.h$)(t),r=zL(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,F.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class BO{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=UL(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=BO.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){as("frame writing exception"),h.stack&&as(h.stack),as(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||as("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const u=this.pendingSegs.shift();i=i+"&seg"+r+"="+u.seg+"&ts"+r+"="+u.ts+"&d"+r+"="+u.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,F.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{as("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let EA=null;typeof MozWebSocket<"u"?EA=MozWebSocket:typeof WebSocket<"u"&&(EA=WebSocket);let E0=(()=>{class n{constructor(t,i,r,o,u,h,m){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tI(this.connId),this.stats_=UO(i),this.connURL=n.connectionURL_(i,h,m,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,u){const h={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&YL.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),o&&(h.ac=o),u&&(h.p=u),t2(t,XL,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,K_.set("previous_websocket_failure",!0);try{let r;if((0,F.Yr)()){r={headers:{"User-Agent":`Firebase/5/${RO}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,h=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new EA(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==EA&&!n.forceDisallow_}static previouslyFailed(){return K_.isInMemoryStorage||!0===K_.get("previous_websocket_failure")}markConnectionHealthy(){K_.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,F.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,F.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=zL(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),c2=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[rm,E0]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=E0&&E0.isAvailable();let r=i&&!E0.previouslyFailed();if(t.webSocketOnly&&(i||qs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[E0];else{const o=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class g2{constructor(e,t,i,r,o,u,h,m,y,I){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=m,this.onKill_=y,this.lastSessionId=I,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tI("c:"+this.id+":"),this.transportManager_=new c2(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=iI(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=nI("t",e),i=nI("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=nI("t",e),i=nI("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=nI("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?OO("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):OO("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&qs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),iI(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):iI(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(K_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class _2{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class y2{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,F.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){(0,F.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class CA extends y2{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new CA}getInitialEvent(e){return(0,F.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Pn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Cn(){return new Pn("")}function sn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function sm(n){return n.pieces_.length-n.pieceNum_}function Qn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Pn(n.pieces_,e)}function HO(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function sI(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function w2(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Pn(e,0)}function Ni(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Pn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Pn(t,0)}function on(n){return n.pieceNum_>=n.pieces_.length}function Io(n,e){const t=sn(n),i=sn(e);if(null===t)return e;if(t===i)return Io(Qn(n),Qn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function i6(n,e){const t=sI(n,0),i=sI(e,0);for(let r=0;r<t.length&&r<i.length;r++){const o=Q_(t[r],i[r]);if(0!==o)return o}return t.length===i.length?0:t.length<i.length?-1:1}function zO(n,e){if(sm(n)!==sm(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function Nl(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(sm(n)>sm(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class r6{constructor(e,t){this.errorPrefix_=t,this.parts_=sI(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);E2(this)}}function E2(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+J_(n))}function J_(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class $O extends y2{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new $O}getInitialEvent(e){return(0,F.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const oI=1e3;let TA,X_=(()=>{class n extends _2{constructor(t,i,r,o,u,h,m,y){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=tI("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=oI,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$O.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&CA.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,u={r:o,a:t,b:i};this.log_((0,F.Wl)(u)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new F.BH,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;"ok"===h.s?i.resolve(m):i.reject(m)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),(0,F.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(h).set(u,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r};t.tag&&(u.q=i._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,m=>{const y=m.d,I=m.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",m),"ok"!==I&&this.removeListen_(r,o),t.onComplete&&t.onComplete(I,y))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,F.r3)(t,"w")){const r=(0,F.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();qs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,F.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,F.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const u=o.s,h=o.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,F.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const u={p:t};o&&(u.q=r,u.t=o),this.sendRequest("n",u)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const u={p:i,d:r};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,u){this.initConnection_();const h={p:i,d:r};void 0!==u&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,F.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):OO("Unrecognized action received from server: "+(0,F.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=oI,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=oI,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=oI),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,ye.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let m=!1,y=null;const I=function(){y?y.close():(m=!0,o())};t.realtime_={close:I,sendRequest:function(V){(0,F.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(V)}};const R=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[V,j]=yield Promise.all([t.authTokenProvider_.getToken(R),t.appCheckTokenProvider_.getToken(R)]);m?as("getToken() completed but was canceled"):(as("getToken() completed. Creating connection."),t.authToken_=V&&V.accessToken,t.appCheckToken_=j&&j.token,y=new g2(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,W=>{qs(W+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(V){t.log_("Failed to get token: "+V),m||(t.repoInfo_.nodeAdmin&&qs(V),I())}}})()}interrupt(t){as("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){as("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=oI,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(u=>PO(u)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Pn(t).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(i),u.delete(i),0===u.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){as("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){as("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+RO.replace(/\./g,"-")]=1,(0,F.uI)()?t["framework.cordova"]=1:(0,F.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=CA.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class an{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new an(e,t)}}class IA{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new an(im,e),r=new an(im,t);return 0!==this.compare(i,r)}minPost(){return an.MIN}}class T2 extends IA{static get __EMPTY_NODE(){return TA}static set __EMPTY_NODE(e){TA=e}compare(e,t){return Q_(e.name,t.name)}isDefinedOn(e){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return an.MIN}maxPost(){return new an(Zh,TA)}makePost(e,t){return(0,F.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new an(e,TA)}toString(){return".key"}}const cd=new T2;class xA{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,r&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let qO,Pc=(()=>{class n{constructor(t,i,r,o,u){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??Yo.EMPTY_NODE,this.right=u??Yo.EMPTY_NODE}copy(t,i,r,o,u){return new n(t??this.key,i??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===u?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Yo.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Yo.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Yo{constructor(e,t=Yo.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Yo(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Pc.BLACK,null,null))}remove(e){return new Yo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pc.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new xA(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new xA(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new xA(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new xA(this.root_,null,this.comparator_,!0,e)}}function h6(n,e){return Q_(n.name,e.name)}function GO(n,e){return Q_(n,e)}Yo.EMPTY_NODE=new class d6{copy(e,t,i,r,o){return this}insert(e,t,i){return new Pc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const x2=function(n){return"number"==typeof n?"number:"+$L(n):"string:"+n},D2=function(n){if(n.isLeafNode()){const e=n.val();(0,F.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,F.r3)(e,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===qO||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===qO||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let S2,A2,M2,C0=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),D2(this.priorityNode_)}static set __childrenNodeConstructor(t){S2=t}static get __childrenNodeConstructor(){return S2}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return on(t)?this:".priority"===sn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=sn(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,F.hu)(".priority"!==r||1===sm(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qn(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+x2(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?$L(this.value_):this.value_,this.lazyHash_=BL(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),u=n.VALUE_TYPE_ORDER.indexOf(r);return(0,F.hu)(o>=0,"Unknown leaf type: "+i),(0,F.hu)(u>=0,"Unknown leaf type: "+r),o===u?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const li=new class g6 extends IA{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?Q_(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return an.MIN}maxPost(){return new an(Zh,new C0("[PRIORITY-POST]",M2))}makePost(e,t){const i=A2(e);return new an(t,new C0("[PRIORITY-POST]",i))}toString(){return".priority"}},_6=Math.log(2);class y6{constructor(e){this.count=parseInt(Math.log(e+1)/_6,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const DA=function(n,e,t,i){n.sort(e);const r=function(m,y){const I=y-m;let D,R;if(0===I)return null;if(1===I)return D=n[m],R=t?t(D):D,new Pc(R,D.node,Pc.BLACK,null,null);{const V=parseInt(I/2,10)+m,j=r(m,V),W=r(V+1,y);return D=n[V],R=t?t(D):D,new Pc(R,D.node,Pc.BLACK,j,W)}},h=function(m){let y=null,I=null,D=n.length;const R=function(j,W){const fe=D-j,je=D;D-=j;const Ge=r(fe+1,je),Xe=n[fe],ct=t?t(Xe):Xe;V(new Pc(ct,Xe.node,W,null,Ge))},V=function(j){y?(y.left=j,y=j):(I=j,y=j)};for(let j=0;j<m.count;++j){const W=m.nextBitIsOne(),fe=Math.pow(2,m.count-(j+1));W?R(fe,Pc.BLACK):(R(fe,Pc.BLACK),R(fe,Pc.RED))}return I}(new y6(n.length));return new Yo(i||e,h)};let ZO;const I0={};class Wh{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,F.hu)(I0&&li,"ChildrenNode.ts has not been loaded"),ZO=ZO||new Wh({".priority":I0},{".priority":li}),ZO}get(e){const t=(0,F.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Yo?t:null}hasIndex(e){return(0,F.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,F.hu)(e!==cd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(an.Wrap);let h,u=o.getNext();for(;u;)r=r||e.isDefinedOn(u.node),i.push(u),u=o.getNext();h=r?DA(i,e.getCompare()):I0;const m=e.toString(),y=Object.assign({},this.indexSet_);y[m]=e;const I=Object.assign({},this.indexes_);return I[m]=h,new Wh(I,y)}addToIndexes(e,t){const i=(0,F.UI)(this.indexes_,(r,o)=>{const u=(0,F.DV)(this.indexSet_,o);if((0,F.hu)(u,"Missing index implementation for "+o),r===I0){if(u.isDefinedOn(e.node)){const h=[],m=t.getIterator(an.Wrap);let y=m.getNext();for(;y;)y.name!==e.name&&h.push(y),y=m.getNext();return h.push(e),DA(h,u.getCompare())}return I0}{const h=t.get(e.name);let m=r;return h&&(m=m.remove(new an(e.name,h))),m.insert(e,e.node)}});return new Wh(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,F.UI)(this.indexes_,r=>{if(r===I0)return r;{const o=t.get(e.name);return o?r.remove(new an(e.name,o)):r}});return new Wh(i,this.indexSet_)}}let aI,Yt=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&D2(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return aI||(aI=new n(new Yo(GO),null,Wh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||aI}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?aI:i}}getChild(t){const i=sn(t);return null===i?this:this.getImmediateChild(i).getChild(Qn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new an(t,i);let o,u;i.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),u=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?aI:this.priorityNode_;return new n(o,h,u)}}updateChild(t,i){const r=sn(t);if(null===r)return i;{(0,F.hu)(".priority"!==sn(t)||1===sm(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Qn(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,u=!0;if(this.forEachChild(li,(h,m)=>{i[h]=m.val(t),r++,u&&n.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!t&&u&&o<2*r){const h=[];for(const m in i)h[m]=i[m];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+x2(this.getPriority().val())+":"),this.forEachChild(li,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":BL(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new an(t,i));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new an(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new an(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,an.Wrap);let u=o.peek();for(;null!=u&&i.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,an.Wrap);let u=o.peek();for(;null!=u&&i.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===lI?-1:0}withIndex(t){if(t===cd||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===cd||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(li),o=i.getIterator(li);let u=r.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=r.getNext(),h=o.getNext()}return null===u&&null===h}return!1}return!1}}resolveIndex_(t){return t===cd?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const lI=new class v6 extends Yt{constructor(){super(new Yo(GO),Yt.EMPTY_NODE,Wh.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Yt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(an,{MIN:{value:new an(im,Yt.EMPTY_NODE)},MAX:{value:new an(Zh,lI)}}),T2.__EMPTY_NODE=Yt.EMPTY_NODE,C0.__childrenNodeConstructor=Yt,function f6(n){qO=n}(lI),function m6(n){M2=n}(lI);const b6=!0;function Qi(n,e=null){if(null===n)return Yt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,F.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new C0(n,Qi(e));if(n instanceof Array||!b6){let t=Yt.EMPTY_NODE;return ls(n,(i,r)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const o=Qi(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Qi(e))}{const t=[];let i=!1;if(ls(n,(u,h)=>{if("."!==u.substring(0,1)){const m=Qi(h);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),t.push(new an(u,m)))}}),0===t.length)return Yt.EMPTY_NODE;const o=DA(t,h6,u=>u.name,GO);if(i){const u=DA(t,li.getCompare());return new Yt(o,Qi(e),new Wh({".priority":u},{".priority":li}))}return new Yt(o,Qi(e),Wh.Default)}}!function p6(n){A2=n}(Qi);class WO extends IA{constructor(e){super(),this.indexPath_=e,(0,F.hu)(!on(e)&&".priority"!==sn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?Q_(e.name,t.name):o}makePost(e,t){const i=Qi(e),r=Yt.EMPTY_NODE.updateChild(this.indexPath_,i);return new an(t,r)}maxPost(){const e=Yt.EMPTY_NODE.updateChild(this.indexPath_,lI);return new an(Zh,e)}toString(){return sI(this.indexPath_,0).join("/")}}const KO=new class w6 extends IA{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Q_(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return an.MIN}maxPost(){return an.MAX}makePost(e,t){const i=Qi(e);return new an(t,i)}toString(){return".value"}};function R2(n){return{type:"value",snapshotNode:n}}function T0(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function cI(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function uI(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class YO{constructor(e){this.index_=e}updateChild(e,t,i,r,o,u){(0,F.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=u&&(i.isEmpty()?e.hasChild(t)?u.trackChildChange(cI(t,h)):(0,F.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(T0(t,i)):u.trackChildChange(uI(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(li,(r,o)=>{t.hasChild(r)||i.trackChildChange(cI(r,o))}),t.isLeafNode()||t.forEachChild(li,(r,o)=>{if(e.hasChild(r)){const u=e.getImmediateChild(r);u.equals(o)||i.trackChildChange(uI(r,o,u))}else i.trackChildChange(T0(r,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Yt.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class dI{constructor(e){this.indexedFilter_=new YO(e.getIndex()),this.index_=e.getIndex(),this.startPost_=dI.getStartPost_(e),this.endPost_=dI.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,o,u){return this.matches(new an(t,i))||(i=Yt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,o,u)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Yt.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Yt.EMPTY_NODE);const o=this;return t.forEachChild(li,(u,h)=>{o.matches(new an(u,h))||(r=r.updateImmediateChild(u,Yt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class C6{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new dI(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,o,u){return this.rangedFilter_.matches(new an(t,i))||(i=Yt.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,o,u):this.fullLimitUpdateChild_(e,t,i,o,u)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Yt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let o;r=Yt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;o.hasNext()&&u<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;r=r.updateImmediateChild(h.name,h.node),u++}}}else{let o;r=t.withIndex(this.index_),r=r.updatePriority(Yt.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let u=0;for(;o.hasNext();){const h=o.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:r=r.updateImmediateChild(h.name,Yt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,o){let u;if(this.reverse_){const D=this.index_.getCompare();u=(R,V)=>D(V,R)}else u=this.index_.getCompare();const h=e;(0,F.hu)(h.numChildren()===this.limit_,"");const m=new an(t,i),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),I=this.rangedFilter_.matches(m);if(h.hasChild(t)){const D=h.getImmediateChild(t);let R=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=R&&(R.name===t||h.hasChild(R.name));)R=r.getChildAfterChild(this.index_,R,this.reverse_);const V=null==R?1:u(R,m);if(I&&!i.isEmpty()&&V>=0)return o?.trackChildChange(uI(t,i,D)),h.updateImmediateChild(t,i);{o?.trackChildChange(cI(t,D));const W=h.updateImmediateChild(t,Yt.EMPTY_NODE);return null!=R&&this.rangedFilter_.matches(R)?(o?.trackChildChange(T0(R.name,R.node)),W.updateImmediateChild(R.name,R.node)):W}}return i.isEmpty()?e:I&&u(y,m)>=0?(null!=o&&(o.trackChildChange(cI(y.name,y.node)),o.trackChildChange(T0(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(y.name,Yt.EMPTY_NODE)):e}}class SA{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=li}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:im}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===li}copy(){const e=new SA;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function QO(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function JO(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function AA(n,e){const t=n.copy();return t.index_=e,t}function k2(n){const e={};if(n.isDefault())return e;let t;if(n.index_===li?t="$priority":n.index_===KO?t="$value":n.index_===cd?t="$key":((0,F.hu)(n.index_ instanceof WO,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,F.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,F.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,F.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,F.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,F.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function O2(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==li&&(e.i=n.index_.toString()),e}class MA extends _2{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=tI("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,F.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const u=MA.getListenId_(e,i),h={};this.listens_[u]=h;const m=k2(e._queryParams);this.restRequest_(o+".json",m,(y,I)=>{let D=I;if(404===y&&(D=null,y=null),null===y&&this.onDataUpdate_(o,D,!1,i),(0,F.DV)(this.listens_,u)===h){let R;R=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(R,null)}})}unlisten(e,t){const i=MA.getListenId_(e,t);delete this.listens_[i]}get(e){const t=k2(e._queryParams),i=e._path.toString(),r=new F.BH;return this.restRequest_(i+".json",t,(o,u)=>{let h=u;404===o&&(h=null,o=null),null===o?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,F.xO)(t);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=(0,F.cI)(h.responseText)}catch{qs("Failed to parse JSON response for "+u+": "+h.responseText)}i(null,m)}else 401!==h.status&&404!==h.status&&qs("Got unsuccessful REST response for "+u+" Status: "+h.status),i(h.status);i=null}},h.open("GET",u,!0),h.send()})}}class A6{constructor(){this.rootNode_=Yt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function RA(){return{value:null,children:new Map}}function x0(n,e,t){if(on(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=sn(e);n.children.has(i)||n.children.set(i,RA()),x0(n.children.get(i),e=Qn(e),t)}}function XO(n,e){if(on(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(li,(i,r)=>{x0(n,new Pn(i),r)}),XO(n,e)}}if(n.children.size>0){const t=sn(e);return e=Qn(e),n.children.has(t)&&XO(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function eP(n,e,t){null!==n.value?t(e,n.value):function M6(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{eP(r,new Pn(e.toString()+"/"+i),t)})}class R6{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ls(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class P6{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new R6(e);const i=1e4+2e4*Math.random();iI(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;ls(e,(r,o)=>{o>0&&(0,F.r3)(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),iI(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ud=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(ud||{});function iP(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class kA{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=ud.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(on(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Pn(e));return new kA(Cn(),t,this.revert)}}return(0,F.hu)(sn(this.path)===e,"operationForChild called for unrelated child."),new kA(Qn(this.path),this.affectedTree,this.revert)}}class hI{constructor(e,t){this.source=e,this.path=t,this.type=ud.LISTEN_COMPLETE}operationForChild(e){return on(this.path)?new hI(this.source,Cn()):new hI(this.source,Qn(this.path))}}class ey{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=ud.OVERWRITE}operationForChild(e){return on(this.path)?new ey(this.source,Cn(),this.snap.getImmediateChild(e)):new ey(this.source,Qn(this.path),this.snap)}}class D0{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=ud.MERGE}operationForChild(e){if(on(this.path)){const t=this.children.subtree(new Pn(e));return t.isEmpty()?null:t.value?new ey(this.source,Cn(),t.value):new D0(this.source,Cn(),t)}return(0,F.hu)(sn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new D0(this.source,Qn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class om{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(on(e))return this.isFullyInitialized()&&!this.filtered_;const t=sn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class N6{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function fI(n,e,t,i,r,o){const u=i.filter(h=>h.type===t);u.sort((h,m)=>function V6(n,e,t){if(null==e.childName||null==t.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new an(e.childName,e.snapshotNode),r=new an(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,m)),u.forEach(h=>{const m=function L6(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,o);r.forEach(y=>{y.respondsTo(h.type)&&e.push(y.createEvent(m,n.query_))})})}function OA(n,e){return{eventCache:n,serverCache:e}}function pI(n,e,t,i){return OA(new om(e,t,i),n.serverCache)}function N2(n,e,t,i){return OA(n.eventCache,new om(e,t,i))}function PA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ty(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let rP;class ci{constructor(e,t=(()=>(rP||(rP=new Yo(E4)),rP))()){this.value=e,this.children=t}static fromObject(e){let t=new ci(null);return ls(e,(i,r)=>{t=t.set(new Pn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Cn(),value:this.value};if(on(e))return null;{const i=sn(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Qn(e),t);return null!=o?{path:Ni(new Pn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(on(e))return this;{const t=sn(e),i=this.children.get(t);return null!==i?i.subtree(Qn(e)):new ci(null)}}set(e,t){if(on(e))return new ci(t,this.children);{const i=sn(e),o=(this.children.get(i)||new ci(null)).set(Qn(e),t),u=this.children.insert(i,o);return new ci(this.value,u)}}remove(e){if(on(e))return this.children.isEmpty()?new ci(null):new ci(null,this.children);{const t=sn(e),i=this.children.get(t);if(i){const r=i.remove(Qn(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new ci(null):new ci(this.value,o)}return this}}get(e){if(on(e))return this.value;{const t=sn(e),i=this.children.get(t);return i?i.get(Qn(e)):null}}setTree(e,t){if(on(e))return t;{const i=sn(e),o=(this.children.get(i)||new ci(null)).setTree(Qn(e),t);let u;return u=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new ci(this.value,u)}}fold(e){return this.fold_(Cn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Ni(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Cn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(on(e))return null;{const o=sn(e),u=this.children.get(o);return u?u.findOnPath_(Qn(e),Ni(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Cn(),t)}foreachOnPath_(e,t,i){if(on(e))return this;{this.value&&i(t,this.value);const r=sn(e),o=this.children.get(r);return o?o.foreachOnPath_(Qn(e),Ni(t,r),i):new ci(null)}}foreach(e){this.foreach_(Cn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Ni(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Nc{constructor(e){this.writeTree_=e}static empty(){return new Nc(new ci(null))}}function mI(n,e,t){if(on(e))return new Nc(new ci(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const u=Io(r,e);return o=o.updateChild(u,t),new Nc(n.writeTree_.set(r,o))}{const r=new ci(t),o=n.writeTree_.setTree(e,r);return new Nc(o)}}}function sP(n,e,t){let i=n;return ls(t,(r,o)=>{i=mI(i,Ni(e,r),o)}),i}function F2(n,e){if(on(e))return Nc.empty();{const t=n.writeTree_.setTree(e,new ci(null));return new Nc(t)}}function oP(n,e){return null!=ny(n,e)}function ny(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Io(t.path,e)):null}function L2(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(li,(i,r)=>{e.push(new an(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new an(i,r.value))}),e}function am(n,e){if(on(e))return n;{const t=ny(n,e);return new Nc(null!=t?new ci(t):n.writeTree_.subtree(e))}}function aP(n){return n.writeTree_.isEmpty()}function S0(n,e){return V2(Cn(),n.writeTree_,e)}function V2(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?((0,F.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=V2(Ni(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Ni(n,".priority"),i)),t}}function NA(n,e){return z2(e,n)}function $6(n,e){if(n.snap)return Nl(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Nl(Ni(n.path,t),e))return!0;return!1}function q6(n){return n.visible}function U2(n,e,t){let i=Nc.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const u=o.path;let h;if(o.snap)Nl(t,u)?(h=Io(t,u),i=mI(i,h,o.snap)):Nl(u,t)&&(h=Io(u,t),i=mI(i,Cn(),o.snap.getChild(h)));else{if(!o.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(Nl(t,u))h=Io(t,u),i=sP(i,h,o.children);else if(Nl(u,t))if(h=Io(u,t),on(h))i=sP(i,Cn(),o.children);else{const m=(0,F.DV)(o.children,sn(h));if(m){const y=m.getChild(Qn(h));i=mI(i,Cn(),y)}}}}}return i}function B2(n,e,t,i,r){if(i||r){const o=am(n.visibleWrites,e);return!r&&aP(o)?t:r||null!=t||oP(o,Cn())?S0(U2(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(Nl(y.path,e)||Nl(e,y.path))},e),t||Yt.EMPTY_NODE):null}{const o=ny(n.visibleWrites,e);if(null!=o)return o;{const u=am(n.visibleWrites,e);return aP(u)?t:null!=t||oP(u,Cn())?S0(u,t||Yt.EMPTY_NODE):null}}}function FA(n,e,t,i){return B2(n.writeTree,n.treePath,e,t,i)}function lP(n,e){return function Z6(n,e,t){let i=Yt.EMPTY_NODE;const r=ny(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(li,(o,u)=>{i=i.updateImmediateChild(o,u)}),i;if(t){const o=am(n.visibleWrites,e);return t.forEachChild(li,(u,h)=>{const m=S0(am(o,new Pn(u)),h);i=i.updateImmediateChild(u,m)}),L2(o).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}return L2(am(n.visibleWrites,e)).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}(n.writeTree,n.treePath,e)}function j2(n,e,t,i){return function W6(n,e,t,i,r){(0,F.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Ni(e,t);if(oP(n.visibleWrites,o))return null;{const u=am(n.visibleWrites,o);return aP(u)?r.getChild(t):S0(u,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function LA(n,e){return function Y6(n,e){return ny(n.visibleWrites,e)}(n.writeTree,Ni(n.treePath,e))}function cP(n,e,t){return function K6(n,e,t,i){const r=Ni(e,t),o=ny(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?S0(am(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function H2(n,e){return z2(Ni(n.treePath,e),n.writeTree)}function z2(n,e){return{treePath:n,writeTree:e}}class ez{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,F.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,uI(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,cI(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,T0(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw(0,F.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,uI(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const $2=new class tz{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class uP{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new om(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cP(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ty(this.viewCache_),o=function X6(n,e,t,i,r,o){return function Q6(n,e,t,i,r,o,u){let h;const m=am(n.visibleWrites,e),y=ny(m,Cn());if(null!=y)h=y;else{if(null==t)return[];h=S0(m,t)}if(h=h.withIndex(u),h.isEmpty()||h.isLeafNode())return[];{const I=[],D=u.getCompare(),R=o?h.getReverseIteratorFrom(i,u):h.getIteratorFrom(i,u);let V=R.getNext();for(;V&&I.length<r;)0!==D(V,i)&&I.push(V),V=R.getNext();return I}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function G2(n,e,t,i,r,o){const u=e.eventCache;if(null!=LA(i,t))return e;{let h,m;if(on(t))if((0,F.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=ty(e),D=lP(i,y instanceof Yt?y:Yt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),D,o)}else{const y=FA(i,ty(e));h=n.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{const y=sn(t);if(".priority"===y){(0,F.hu)(1===sm(t),"Can't have a priority with additional path components");const I=u.getNode();m=e.serverCache.getNode();const D=j2(i,t,I,m);h=null!=D?n.filter.updatePriority(I,D):u.getNode()}else{const I=Qn(t);let D;if(u.isCompleteForChild(y)){m=e.serverCache.getNode();const R=j2(i,t,u.getNode(),m);D=null!=R?u.getNode().getImmediateChild(y).updateChild(I,R):u.getNode().getImmediateChild(y)}else D=cP(i,y,e.serverCache);h=null!=D?n.filter.updateChild(u.getNode(),y,D,I,r,o):u.getNode()}}return pI(e,h,u.isFullyInitialized()||on(t),n.filter.filtersNodes())}}function VA(n,e,t,i,r,o,u,h){const m=e.serverCache;let y;const I=u?n.filter:n.filter.getIndexedFilter();if(on(t))y=I.updateFullNode(m.getNode(),i,null);else if(I.filtersNodes()&&!m.isFiltered()){const V=m.getNode().updateChild(t,i);y=I.updateFullNode(m.getNode(),V,null)}else{const V=sn(t);if(!m.isCompleteForPath(t)&&sm(t)>1)return e;const j=Qn(t),fe=m.getNode().getImmediateChild(V).updateChild(j,i);y=".priority"===V?I.updatePriority(m.getNode(),fe):I.updateChild(m.getNode(),V,fe,j,$2,null)}const D=N2(e,y,m.isFullyInitialized()||on(t),I.filtersNodes());return G2(n,D,t,r,new uP(r,D,o),h)}function dP(n,e,t,i,r,o,u){const h=e.eventCache;let m,y;const I=new uP(r,e,o);if(on(t))y=n.filter.updateFullNode(e.eventCache.getNode(),i,u),m=pI(e,y,!0,n.filter.filtersNodes());else{const D=sn(t);if(".priority"===D)y=n.filter.updatePriority(e.eventCache.getNode(),i),m=pI(e,y,h.isFullyInitialized(),h.isFiltered());else{const R=Qn(t),V=h.getNode().getImmediateChild(D);let j;if(on(R))j=i;else{const W=I.getCompleteChild(D);j=null!=W?".priority"===HO(R)&&W.getChild(w2(R)).isEmpty()?W:W.updateChild(R,i):Yt.EMPTY_NODE}m=V.equals(j)?e:pI(e,n.filter.updateChild(h.getNode(),D,j,R,I,u),h.isFullyInitialized(),n.filter.filtersNodes())}}return m}function q2(n,e){return n.eventCache.isCompleteForChild(e)}function Z2(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function hP(n,e,t,i,r,o,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y,m=e;y=on(t)?i:new ci(null).setTree(t,i);const I=e.serverCache.getNode();return y.children.inorderTraversal((D,R)=>{if(I.hasChild(D)){const j=Z2(0,e.serverCache.getNode().getImmediateChild(D),R);m=VA(n,m,new Pn(D),j,r,o,u,h)}}),y.children.inorderTraversal((D,R)=>{const V=!e.serverCache.isCompleteForChild(D)&&null===R.value;if(!I.hasChild(D)&&!V){const W=Z2(0,e.serverCache.getNode().getImmediateChild(D),R);m=VA(n,m,new Pn(D),W,r,o,u,h)}}),m}class uz{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new YO(i.getIndex()),o=function I6(n){return n.loadsAllData()?new YO(n.getIndex()):n.hasLimit()?new C6(n):new dI(n)}(i);this.processor_=function nz(n){return{filter:n}}(o);const u=t.serverCache,h=t.eventCache,m=r.updateFullNode(Yt.EMPTY_NODE,u.getNode(),null),y=o.updateFullNode(Yt.EMPTY_NODE,h.getNode(),null),I=new om(m,u.isFullyInitialized(),r.filtersNodes()),D=new om(y,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=OA(D,I),this.eventGenerator_=new N6(this.query_)}get query(){return this.query_}}function fz(n,e){const t=ty(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!on(e)&&!t.getImmediateChild(sn(e)).isEmpty())?t.getChild(e):null}function W2(n){return 0===n.eventRegistrations_.length}function K2(n,e,t){const i=[];if(t){(0,F.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const u=o.createCancelEvent(t,r);u&&i.push(u)})}if(e){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const u=n.eventRegistrations_[o];if(u.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(u)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function Y2(n,e,t,i){e.type===ud.MERGE&&null!==e.source.queryId&&((0,F.hu)(ty(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(PA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function rz(n,e,t,i,r){const o=new ez;let u,h;if(t.type===ud.OVERWRITE){const y=t;y.source.fromUser?u=dP(n,e,y.path,y.snap,i,r,o):((0,F.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered()&&!on(y.path),u=VA(n,e,y.path,y.snap,i,r,h,o))}else if(t.type===ud.MERGE){const y=t;y.source.fromUser?u=function oz(n,e,t,i,r,o,u){let h=e;return i.foreach((m,y)=>{const I=Ni(t,m);q2(e,sn(I))&&(h=dP(n,h,I,y,r,o,u))}),i.foreach((m,y)=>{const I=Ni(t,m);q2(e,sn(I))||(h=dP(n,h,I,y,r,o,u))}),h}(n,e,y.path,y.children,i,r,o):((0,F.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered(),u=hP(n,e,y.path,y.children,i,r,h,o))}else if(t.type===ud.ACK_USER_WRITE){const y=t;u=y.revert?function cz(n,e,t,i,r,o){let u;if(null!=LA(i,t))return e;{const h=new uP(i,e,r),m=e.eventCache.getNode();let y;if(on(t)||".priority"===sn(t)){let I;if(e.serverCache.isFullyInitialized())I=FA(i,ty(e));else{const D=e.serverCache.getNode();(0,F.hu)(D instanceof Yt,"serverChildren would be complete if leaf node"),I=lP(i,D)}y=n.filter.updateFullNode(m,I,o)}else{const I=sn(t);let D=cP(i,I,e.serverCache);null==D&&e.serverCache.isCompleteForChild(I)&&(D=m.getImmediateChild(I)),y=null!=D?n.filter.updateChild(m,I,D,Qn(t),h,o):e.eventCache.getNode().hasChild(I)?n.filter.updateChild(m,I,Yt.EMPTY_NODE,Qn(t),h,o):m,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=FA(i,ty(e)),u.isLeafNode()&&(y=n.filter.updateFullNode(y,u,o)))}return u=e.serverCache.isFullyInitialized()||null!=LA(i,Cn()),pI(e,y,u,n.filter.filtersNodes())}}(n,e,y.path,i,r,o):function az(n,e,t,i,r,o,u){if(null!=LA(r,t))return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(null!=i.value){if(on(t)&&m.isFullyInitialized()||m.isCompleteForPath(t))return VA(n,e,t,m.getNode().getChild(t),r,o,h,u);if(on(t)){let y=new ci(null);return m.getNode().forEachChild(cd,(I,D)=>{y=y.set(new Pn(I),D)}),hP(n,e,t,y,r,o,h,u)}return e}{let y=new ci(null);return i.foreach((I,D)=>{const R=Ni(t,I);m.isCompleteForPath(R)&&(y=y.set(I,m.getNode().getChild(R)))}),hP(n,e,t,y,r,o,h,u)}}(n,e,y.path,y.affectedTree,i,r,o)}else{if(t.type!==ud.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+t.type);u=function lz(n,e,t,i,r){const o=e.serverCache;return G2(n,N2(e,o.getNode(),o.isFullyInitialized()||on(t),o.isFiltered()),t,i,$2,r)}(n,e,t.path,i,o)}const m=o.getChanges();return function sz(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=PA(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(R2(PA(e)))}}(e,u,m),{viewCache:u,changes:m}}(n.processor_,r,e,t,i);return function iz(n,e){(0,F.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,F.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,Q2(n,o.changes,o.viewCache.eventCache.getNode(),null)}function Q2(n,e,t,i){return function F6(n,e,t,i){const r=[],o=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&o.push(function E6(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),fI(n,r,"child_removed",e,i,t),fI(n,r,"child_added",e,i,t),fI(n,r,"child_moved",o,i,t),fI(n,r,"child_changed",e,i,t),fI(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let UA,jA;class J2{constructor(){this.views=new Map}}function fP(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return(0,F.hu)(null!=o,"SyncTree gave us an op for an invalid query."),Y2(o,e,t,i)}{let o=[];for(const u of n.views.values())o=o.concat(Y2(u,e,t,i));return o}}function X2(n,e,t,i,r){const u=n.views.get(e._queryIdentifier);if(!u){let h=FA(t,r?i:null),m=!1;h?m=!0:i instanceof Yt?(h=lP(t,i),m=!1):(h=Yt.EMPTY_NODE,m=!1);const y=OA(new om(h,m,!1),new om(i,r,!1));return new uz(e,y)}return u}function eV(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function lm(n,e){let t=null;for(const i of n.views.values())t=t||fz(i,e);return t}function tV(n,e){return e._queryParams.loadsAllData()?BA(n):n.views.get(e._queryIdentifier)}function nV(n,e){return null!=tV(n,e)}function cm(n){return null!=BA(n)}function BA(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let Cz=1;class iV{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ci(null),this.pendingWriteTree_=function J6(){return{visibleWrites:Nc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pP(n,e,t,i,r){return function B6(n,e,t,i,r){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=mI(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?A0(n,new ey({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function um(n,e,t=!1){const i=function H6(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function z6(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,F.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,u=n.allWrites.length-1;for(;r&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=t&&$6(h,i.path)?r=!1:Nl(i.path,h.path)&&(o=!0)),u--}return!!r&&(o?(function G6(n){n.visibleWrites=U2(n.allWrites,q6,Cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=F2(n.visibleWrites,i.path):ls(i.children,m=>{n.visibleWrites=F2(n.visibleWrites,Ni(i.path,m))}),!0))}(n.pendingWriteTree_,e)){let o=new ci(null);return null!=i.snap?o=o.set(Cn(),!0):ls(i.children,u=>{o=o.set(new Pn(u),!0)}),A0(n,new kA(i.path,o,t))}return[]}function gI(n,e,t){return A0(n,new ey({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function HA(n,e,t,i,r=!1){const o=e._path,u=n.syncPointTree_.get(o);let h=[];if(u&&("default"===e._queryIdentifier||nV(u,e))){const m=function bz(n,e,t,i){const r=e._queryIdentifier,o=[];let u=[];const h=cm(n);if("default"===r)for(const[m,y]of n.views.entries())u=u.concat(K2(y,t,i)),W2(y)&&(n.views.delete(m),y.query._queryParams.loadsAllData()||o.push(y.query));else{const m=n.views.get(r);m&&(u=u.concat(K2(m,t,i)),W2(m)&&(n.views.delete(r),m.query._queryParams.loadsAllData()||o.push(m.query)))}return h&&!cm(n)&&o.push(new(function _z(){return(0,F.hu)(UA,"Reference.ts has not been loaded"),UA}())(e._repo,e._path)),{removed:o,events:u}}(u,e,t,i);(function yz(n){return 0===n.views.size})(u)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const y=m.removed;if(h=m.events,!r){const I=-1!==y.findIndex(R=>R._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(o,(R,V)=>cm(V));if(I&&!D){const R=n.syncPointTree_.subtree(o);if(!R.isEmpty()){const V=function Mz(n){return n.fold((e,t,i)=>{if(t&&cm(t))return[BA(t)];{let r=[];return t&&(r=eV(t)),ls(i,(o,u)=>{r=r.concat(u)}),r}})}(R);for(let j=0;j<V.length;++j){const W=V[j],fe=W.query,je=aV(n,W);n.listenProvider_.startListening(yI(fe),_I(n,fe),je.hashFn,je.onComplete)}}}!D&&y.length>0&&!i&&(I?n.listenProvider_.stopListening(yI(e),null):y.forEach(R=>{const V=n.queryToTagMap.get($A(R));n.listenProvider_.stopListening(yI(R),V)}))}!function Rz(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=$A(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,y)}return h}function rV(n,e,t,i){const r=gP(n,i);if(null!=r){const o=_P(r),u=o.path,h=o.queryId,m=Io(u,e);return yP(n,u,new ey(iP(h),m,t))}return[]}function mP(n,e,t,i=!1){const r=e._path;let o=null,u=!1;n.syncPointTree_.foreachOnPath(r,(R,V)=>{const j=Io(R,r);o=o||lm(V,j),u=u||cm(V)});let m,h=n.syncPointTree_.get(r);h?(u=u||cm(h),o=o||lm(h,Cn())):(h=new J2,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=o?m=!0:(m=!1,o=Yt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((V,j)=>{const W=lm(j,Cn());W&&(o=o.updateImmediateChild(V,W))}));const y=nV(h,e);if(!y&&!e._queryParams.loadsAllData()){const R=$A(e);(0,F.hu)(!n.queryToTagMap.has(R),"View does not exist, but we have a tag");const V=function kz(){return Cz++}();n.queryToTagMap.set(R,V),n.tagToQueryMap.set(V,R)}let D=function vz(n,e,t,i,r,o){const u=X2(n,e,i,r,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),function pz(n,e){n.eventRegistrations_.push(e)}(u,t),function mz(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(li,(o,u)=>{i.push(T0(o,u))}),t.isFullyInitialized()&&i.push(R2(t.getNode())),Q2(n,i,t.getNode(),e)}(u,t)}(h,e,t,NA(n.pendingWriteTree_,r),o,m);if(!y&&!u&&!i){const R=tV(h,e);D=D.concat(function Oz(n,e,t){const i=e._path,r=_I(n,e),o=aV(n,t),u=n.listenProvider_.startListening(yI(e),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,F.hu)(!cm(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((y,I,D)=>{if(!on(y)&&I&&cm(I))return[BA(I).query];{let R=[];return I&&(R=R.concat(eV(I).map(V=>V.query))),ls(D,(V,j)=>{R=R.concat(j)}),R}});for(let y=0;y<m.length;++y){const I=m[y];n.listenProvider_.stopListening(yI(I),_I(n,I))}}return u}(n,e,R))}return D}function zA(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(u,h)=>{const y=lm(h,Io(u,e));if(y)return y});return B2(r,e,o,t,!0)}function A0(n,e){return sV(e,n.syncPointTree_,null,NA(n.pendingWriteTree_,Cn()))}function sV(n,e,t,i){if(on(n.path))return oV(n,e,t,i);{const r=e.get(Cn());null==t&&null!=r&&(t=lm(r,Cn()));let o=[];const u=sn(n.path),h=n.operationForChild(u),m=e.children.get(u);if(m&&h){const y=t?t.getImmediateChild(u):null,I=H2(i,u);o=o.concat(sV(h,m,y,I))}return r&&(o=o.concat(fP(r,n,i,t))),o}}function oV(n,e,t,i){const r=e.get(Cn());null==t&&null!=r&&(t=lm(r,Cn()));let o=[];return e.children.inorderTraversal((u,h)=>{const m=t?t.getImmediateChild(u):null,y=H2(i,u),I=n.operationForChild(u);I&&(o=o.concat(oV(I,h,m,y)))}),r&&(o=o.concat(fP(r,n,i,t))),o}function aV(n,e){const t=e.query,i=_I(n,t);return{hashFn:()=>(function dz(n){return n.viewCache_.serverCache.getNode()}(e)||Yt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Dz(n,e,t){const i=gP(n,t);if(i){const r=_P(i),o=r.path,u=r.queryId,h=Io(o,e);return yP(n,o,new hI(iP(u),h))}return[]}(n,t._path,i):function xz(n,e){return A0(n,new hI({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const o=function T4(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return HA(n,t,null,o)}}}}function _I(n,e){const t=$A(e);return n.queryToTagMap.get(t)}function $A(n){return n._path.toString()+"$"+n._queryIdentifier}function gP(n,e){return n.tagToQueryMap.get(e)}function _P(n){const e=n.indexOf("$");return(0,F.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Pn(n.substr(0,e))}}function yP(n,e,t){const i=n.syncPointTree_.get(e);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),fP(i,t,NA(n.pendingWriteTree_,e),null)}function yI(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Ez(){return(0,F.hu)(jA,"Reference.ts has not been loaded"),jA}())(n._repo,n._path):n}class vP{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new vP(t)}node(){return this.node_}}class bP{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ni(this.path_,e);return new bP(this.syncTree_,t)}node(){return zA(this.syncTree_,this.path_)}}const Pz=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},lV=function(n,e,t){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Nz(n[".sv"],e,t):"object"==typeof n[".sv"]?Fz(n[".sv"],e):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Nz=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},Fz=function(n,e,t){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,F.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const u=r.getValue();return"number"!=typeof u?i:u+i},cV=function(n,e,t,i){return EP(e,new bP(t,n),i)},wP=function(n,e,t){return EP(n,new vP(e),t)};function EP(n,e,t){const i=n.getPriority().val(),r=lV(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const u=n,h=lV(u.getValue(),e,t);return h!==u.getValue()||r!==u.getPriority().val()?new C0(h,Qi(r)):n}{const u=n;return o=u,r!==u.getPriority().val()&&(o=o.updatePriority(new C0(r))),u.forEachChild(li,(h,m)=>{const y=EP(m,e.getImmediateChild(h),t);y!==m&&(o=o.updateImmediateChild(h,y))}),o}}class CP{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function GA(n,e){let t=e instanceof Pn?e:new Pn(e),i=n,r=sn(t);for(;null!==r;){const o=(0,F.DV)(i.node.children,r)||{children:{},childCount:0};i=new CP(r,i,o),t=Qn(t),r=sn(t)}return i}function iy(n){return n.node.value}function IP(n,e){n.node.value=e,TP(n)}function uV(n){return n.node.childCount>0}function qA(n,e){ls(n.node.children,(t,i)=>{e(new CP(t,n,i))})}function dV(n,e,t,i){t&&!i&&e(n),qA(n,r=>{dV(r,e,!0,i)}),t&&i&&e(n)}function vI(n){return new Pn(null===n.parent?n.name:vI(n.parent)+"/"+n.name)}function TP(n){null!==n.parent&&function Uz(n,e,t){const i=function Lz(n){return void 0===iy(n)&&!uV(n)}(t),r=(0,F.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,TP(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,TP(n))}(n.parent,n.name,n)}const Bz=/[\[\].#$\/\u0000-\u001F\u007F]/,jz=/[\[\].#$\u0000-\u001F\u007F]/,xP=10485760,ZA=function(n){return"string"==typeof n&&0!==n.length&&!Bz.test(n)},hV=function(n){return"string"==typeof n&&0!==n.length&&!jz.test(n)},bI=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!bA(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},dd=function(n,e,t,i){i&&void 0===e||wI((0,F.gK)(n,"value"),e,t)},wI=function(n,e,t){const i=t instanceof Pn?new r6(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+J_(i));if("function"==typeof e)throw new Error(n+"contains a function "+J_(i)+" with contents = "+e.toString());if(bA(e))throw new Error(n+"contains "+e.toString()+" "+J_(i));if("string"==typeof e&&e.length>xP/3&&(0,F.ug)(e)>xP)throw new Error(n+"contains a string greater than "+xP+" utf8 bytes "+J_(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(ls(e,(u,h)=>{if(".value"===u)r=!0;else if(".priority"!==u&&".sv"!==u&&(o=!0,!ZA(u)))throw new Error(n+" contains an invalid key ("+u+") "+J_(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function s6(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,F.ug)(e),E2(n)})(i,u),wI(n,h,i),function o6(n){const e=n.parts_.pop();n.byteLength_-=(0,F.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+J_(i)+" in addition to actual children.")}},fV=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,F.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];ls(e,(u,h)=>{const m=new Pn(u);if(wI(r,h,Ni(t,m)),".priority"===HO(m)&&!bI(h))throw new Error(r+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(m)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=sI(i);for(let u=0;u<o.length;u++)if((".priority"!==o[u]||u!==o.length-1)&&!ZA(o[u]))throw new Error(n+"contains an invalid key ("+o[u]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(i6);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&Nl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},DP=function(n,e,t){if(!t||void 0!==e){if(bA(e))throw new Error((0,F.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!bI(e))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},EI=function(n,e,t,i){if(!(i&&void 0===t||ZA(t)))throw new Error((0,F.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},CI=function(n,e,t,i){if(!(i&&void 0===t||hV(t)))throw new Error((0,F.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},$z=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),CI(n,e,t,i)},Fl=function(n,e){if(".info"===sn(e))throw new Error(n+" failed = Can't modify data under /.info/")},pV=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!ZA(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hV(n)}(t))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Gz{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function WA(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!zO(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function mV(n,e,t){WA(n,t),gV(n,i=>zO(i,e))}function Pa(n,e,t){WA(n,t),gV(n,i=>Nl(i,e)||Nl(e,i))}function gV(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(qz(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function qz(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Y_&&as("event: "+t.toString()),w0(i)}}}const _V="repo_interrupt",Zz=25;class Wz{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gz,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=RA(),this.transactionQueueTree_=new CP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function yV(n){const t=n.infoData_.getNode(new Pn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function II(n){return Pz({timestamp:yV(n)})}function vV(n,e,t,i,r){n.dataUpdateCount++;const o=new Pn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(r)if(i){const m=(0,F.UI)(t,y=>Qi(y));u=function Sz(n,e,t,i){const r=gP(n,i);if(r){const o=_P(r),u=o.path,h=o.queryId,m=Io(u,e),y=ci.fromObject(t);return yP(n,u,new D0(iP(h),m,y))}return[]}(n.serverSyncTree_,o,m,r)}else{const m=Qi(t);u=rV(n.serverSyncTree_,o,m,r)}else if(i){const m=(0,F.UI)(t,y=>Qi(y));u=function Tz(n,e,t){const i=ci.fromObject(t);return A0(n,new D0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,m)}else{const m=Qi(t);u=gI(n.serverSyncTree_,o,m)}let h=o;u.length>0&&(h=R0(n,o)),Pa(n.eventQueue_,h,u)}function bV(n,e){SP(n,"connected",e),!1===e&&function Xz(n){M0(n,"onDisconnectEvents");const e=II(n),t=RA();eP(n.onDisconnect_,Cn(),(r,o)=>{const u=cV(r,o,n.serverSyncTree_,e);x0(t,r,u)});let i=[];eP(t,Cn(),(r,o)=>{i=i.concat(gI(n.serverSyncTree_,r,o));const u=kP(n,r);R0(n,u)}),n.onDisconnect_=RA(),Pa(n.eventQueue_,Cn(),i)}(n)}function SP(n,e,t){const i=new Pn("/.info/"+e),r=Qi(t);n.infoData_.updateSnapshot(i,r);const o=gI(n.infoSyncTree_,i,r);Pa(n.eventQueue_,i,o)}function KA(n){return n.nextWriteId_++}function AP(n,e,t,i,r){M0(n,"set",{path:e.toString(),value:t,priority:i});const o=II(n),u=Qi(t,i),h=zA(n.serverSyncTree_,e),m=wP(u,h,o),y=KA(n),I=pP(n.serverSyncTree_,e,m,y,!0);WA(n.eventQueue_,I),n.server_.put(e.toString(),u.val(!0),(R,V)=>{const j="ok"===R;j||qs("set at "+e+" failed: "+R);const W=um(n.serverSyncTree_,y,!j);Pa(n.eventQueue_,e,W),dm(0,r,R,V)});const D=kP(n,e);R0(n,D),Pa(n.eventQueue_,D,[])}function e$(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&XO(n.onDisconnect_,e),dm(0,t,i,r)})}function wV(n,e,t,i){const r=Qi(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(o,u)=>{"ok"===o&&x0(n.onDisconnect_,e,r),dm(0,i,o,u)})}function MP(n,e,t){let i;i=".info"===sn(e._path)?HA(n.infoSyncTree_,e,t):HA(n.serverSyncTree_,e,t),mV(n.eventQueue_,e._path,i)}function EV(n){n.persistentConnection_&&n.persistentConnection_.interrupt(_V)}function M0(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),as(t,...e)}function dm(n,e,t,i){e&&w0(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let o=r;i&&(o+=": "+i);const u=new Error(o);u.code=r,e(u)}})}function RP(n,e,t){return zA(n.serverSyncTree_,e,t)||Yt.EMPTY_NODE}function YA(n,e=n.transactionQueueTree_){if(e||QA(n,e),iy(e)){const t=IV(n,e);(0,F.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function o$(n,e,t){const i=t.map(y=>y.currentWriteId),r=RP(n,e,i);let o=r;const u=r.hash();for(let y=0;y<t.length;y++){const I=t[y];(0,F.hu)(0===I.status,"tryToSendTransactionQueue_: items in queue should all be run."),I.status=1,I.retryCount++;const D=Io(e,I.path);o=o.updateChild(D,I.currentOutputSnapshotRaw)}const h=o.val(!0),m=e;n.server_.put(m.toString(),h,y=>{M0(n,"transaction put response",{path:m.toString(),status:y});let I=[];if("ok"===y){const D=[];for(let R=0;R<t.length;R++)t[R].status=2,I=I.concat(um(n.serverSyncTree_,t[R].currentWriteId)),t[R].onComplete&&D.push(()=>t[R].onComplete(null,!0,t[R].currentOutputSnapshotResolved)),t[R].unwatcher();QA(n,GA(n.transactionQueueTree_,e)),YA(n,n.transactionQueueTree_),Pa(n.eventQueue_,e,I);for(let R=0;R<D.length;R++)w0(D[R])}else{if("datastale"===y)for(let D=0;D<t.length;D++)t[D].status=3===t[D].status?4:0;else{qs("transaction at "+m.toString()+" failed: "+y);for(let D=0;D<t.length;D++)t[D].status=4,t[D].abortReason=y}R0(n,e)}},u)}(n,vI(e),t)}else uV(e)&&qA(e,t=>{YA(n,t)})}function R0(n,e){const t=CV(n,e),i=vI(t);return function a$(n,e,t){if(0===e.length)return;const i=[];let r=[];const u=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],y=Io(t,m.path);let D,I=!1;if((0,F.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)I=!0,D=m.abortReason,r=r.concat(um(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=Zz)I=!0,D="maxretry",r=r.concat(um(n.serverSyncTree_,m.currentWriteId,!0));else{const R=RP(n,m.path,u);m.currentInputSnapshot=R;const V=e[h].update(R.val());if(void 0!==V){wI("transaction failed: Data returned ",V,m.path);let j=Qi(V);"object"==typeof V&&null!=V&&(0,F.r3)(V,".priority")||(j=j.updatePriority(R.getPriority()));const fe=m.currentWriteId,je=II(n),Ge=wP(j,R,je);m.currentOutputSnapshotRaw=j,m.currentOutputSnapshotResolved=Ge,m.currentWriteId=KA(n),u.splice(u.indexOf(fe),1),r=r.concat(pP(n.serverSyncTree_,m.path,Ge,m.currentWriteId,m.applyLocally)),r=r.concat(um(n.serverSyncTree_,fe,!0))}else I=!0,D="nodata",r=r.concat(um(n.serverSyncTree_,m.currentWriteId,!0))}Pa(n.eventQueue_,t,r),r=[],I&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===D?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(D),!1,null)))}QA(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)w0(i[h]);YA(n,n.transactionQueueTree_)}(n,IV(n,t),i),i}function CV(n,e){let t,i=n.transactionQueueTree_;for(t=sn(e);null!==t&&void 0===iy(i);)i=GA(i,t),t=sn(e=Qn(e));return i}function IV(n,e){const t=[];return TV(n,e,t),t.sort((i,r)=>i.order-r.order),t}function TV(n,e,t){const i=iy(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);qA(e,r=>{TV(n,r,t)})}function QA(n,e){const t=iy(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,IP(e,t.length>0?t:void 0)}qA(e,i=>{QA(n,i)})}function kP(n,e){const t=vI(CV(n,e)),i=GA(n.transactionQueueTree_,e);return function Vz(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{OP(n,r)}),OP(n,i),dV(i,r=>{OP(n,r)}),t}function OP(n,e){const t=iy(e);if(t){const i=[];let r=[],o=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,F.hu)(o===u-1,"All SENT items should be at beginning of queue."),o=u,t[u].status=3,t[u].abortReason="set"):((0,F.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),r=r.concat(um(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&i.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===o?IP(e,void 0):t.length=o+1,Pa(n.eventQueue_,vI(e),r);for(let u=0;u<i.length;u++)w0(i[u])}}const PP=function(n,e){const t=u$(n),i=t.namespace;return"firebase.com"===t.domain&&ld(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&ld("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new FO(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Pn(t.pathString)}},u$=function(n){let e="",t="",i="",r="",o="",u=!0,h="https",m=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(h=n.substring(0,y-1),n=n.substring(y+2));let I=n.indexOf("/");-1===I&&(I=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),e=n.substring(0,Math.min(I,D)),I<D&&(r=function l$(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(I,D)));const R=function c$(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):qs(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,D)));y=e.indexOf(":"),y>=0?(u="https"===h||"wss"===h,m=parseInt(e.substring(y+1),10)):y=e.length;const V=e.slice(0,y);if("localhost"===V.toLowerCase())t="localhost";else if(V.split(".").length<=2)t=V;else{const j=e.indexOf(".");i=e.substring(0,j).toLowerCase(),t=e.substring(j+1),o=i}"ns"in R&&(o=R.ns)}return{host:e,port:m,domain:t,subdomain:i,secure:u,scheme:h,pathString:r,namespace:o}},xV="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",d$=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const o=new Array(8);for(r=7;r>=0;r--)o[r]=xV.charAt(t%64),t=Math.floor(t/64);(0,F.hu)(0===t,"Cannot push at time == 0");let u=o.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=xV.charAt(e[r]);return(0,F.hu)(20===u.length,"nextPushId: Length should be 20."),u}}();class DV{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class SV{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class NP{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class AV{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new F.BH;return e$(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Fl("OnDisconnect.remove",this._path);const e=new F.BH;return wV(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Fl("OnDisconnect.set",this._path),dd("OnDisconnect.set",e,this._path,!1);const t=new F.BH;return wV(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Fl("OnDisconnect.setWithPriority",this._path),dd("OnDisconnect.setWithPriority",e,this._path,!1),DP("OnDisconnect.setWithPriority",t,!1);const i=new F.BH;return function t$(n,e,t,i,r){const o=Qi(t,i);n.server_.onDisconnectPut(e.toString(),o.val(!0),(u,h)=>{"ok"===u&&x0(n.onDisconnect_,e,o),dm(0,r,u,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){Fl("OnDisconnect.update",this._path),fV("OnDisconnect.update",e,this._path,!1);const t=new F.BH;return function n$(n,e,t,i){if((0,F.xb)(t))return as("onDisconnect().update() called with empty data.  Don't do anything."),void dm(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,o)=>{"ok"===r&&ls(t,(u,h)=>{const m=Qi(h);x0(n.onDisconnect_,Ni(e,u),m)}),dm(0,i,r,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Qo{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return on(this._path)?null:HO(this._path)}get ref(){return new Ll(this._repo,this._path)}get _queryIdentifier(){const e=O2(this._queryParams),t=PO(e);return"{}"===t?"default":t}get _queryObject(){return O2(this._queryParams)}isEqual(e){if(!((e=(0,F.m9)(e))instanceof Qo))return!1;const t=this._repo===e._repo,i=zO(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function n6(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function JA(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function hm(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===cd){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==im)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Zh)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===li){if(null!=e&&!bI(e)||null!=t&&!bI(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof WO||n.getIndex()===KO,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function XA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ll extends Qo{constructor(e,t){super(e,t,new SA,!1)}get parent(){const e=w2(this._path);return null===e?null:new Ll(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class ry{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Pn(e),i=sy(this.ref,e);return new ry(this._node.getChild(t),i,li)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new ry(r,sy(this.ref,i),li)))}hasChild(e){const t=new Pn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function MV(n,e){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==e?sy(n._root,e):n._root}function RV(n,e){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const t=PP(e,n._repo.repoInfo_.nodeAdmin);pV("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ld("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),MV(n,t.path.toString())}function sy(n,e){return null===sn((n=(0,F.m9)(n))._path)?$z("child","path",e,!1):CI("child","path",e,!1),new Ll(n._repo,Ni(n._path,e))}function FP(n,e){n=(0,F.m9)(n),Fl("set",n._path),dd("set",e,n._path,!1);const t=new F.BH;return AP(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function g$(n,e){fV("update",e,n._path,!1);const t=new F.BH;return function Jz(n,e,t,i){M0(n,"update",{path:e.toString(),value:t});let r=!0;const o=II(n),u={};if(ls(t,(h,m)=>{r=!1,u[h]=cV(Ni(e,h),Qi(m),n.serverSyncTree_,o)}),r)as("update() called with empty data.  Don't do anything."),dm(0,i,"ok",void 0);else{const h=KA(n),m=function Iz(n,e,t,i){!function j6(n,e,t,i){(0,F.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=sP(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=ci.fromObject(t);return A0(n,new D0({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,u,h);WA(n.eventQueue_,m),n.server_.merge(e.toString(),t,(y,I)=>{const D="ok"===y;D||qs("update at "+e+" failed: "+y);const R=um(n.serverSyncTree_,h,!D),V=R.length>0?R0(n,e):e;Pa(n.eventQueue_,V,R),dm(0,i,y,I)}),ls(t,y=>{const I=kP(n,Ni(e,y));R0(n,I)}),Pa(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function _$(n){n=(0,F.m9)(n);const e=new NP(()=>{}),t=new TI(e);return function Qz(n,e,t){const i=function Az(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(y,I)=>{const D=Io(y,t);i=i||lm(I,D)});let r=n.syncPointTree_.get(t);r?i=i||lm(r,Cn()):(r=new J2,n.syncPointTree_=n.syncPointTree_.set(t,r));const o=null!=i,u=o?new om(i,!0,!1):null;return function hz(n){return PA(n.viewCache_)}(X2(r,e,NA(n.pendingWriteTree_,e._path),o?u.getNode():Yt.EMPTY_NODE,o))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const o=Qi(r).withIndex(e._queryParams.getIndex());let u;if(mP(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())u=gI(n.serverSyncTree_,e._path,o);else{const h=_I(n.serverSyncTree_,e);u=rV(n.serverSyncTree_,e._path,o,h)}return Pa(n.eventQueue_,e._path,u),HA(n.serverSyncTree_,e,t,null,!0),o},r=>(M0(n,"get for query "+(0,F.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new ry(i,new Ll(n._repo,n._path),n._queryParams.getIndex()))}class TI{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new DV("value",this,new ry(e.snapshotNode,new Ll(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new SV(this,e,t):null}matches(e){return e instanceof TI&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class eM{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new SV(this,e,t):null}createEvent(e,t){(0,F.hu)(null!=e.childName,"Child events should have a childName.");const i=sy(new Ll(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new DV(e.type,this,new ry(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof eM&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function xI(n,e,t,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const m=t,y=(I,D)=>{MP(n._repo,n,h),m(I,D)};y.userCallback=t.userCallback,y.context=t.context,t=y}const u=new NP(t,o||void 0),h="value"===e?new TI(u):new eM(e,u);return function i$(n,e,t){let i;i=".info"===sn(e._path)?mP(n.infoSyncTree_,e,t):mP(n.serverSyncTree_,e,t),mV(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>MP(n._repo,n,h)}function LP(n,e,t,i){return xI(n,"value",e,t,i)}function kV(n,e,t,i){return xI(n,"child_added",e,t,i)}function OV(n,e,t,i){return xI(n,"child_changed",e,t,i)}function PV(n,e,t,i){return xI(n,"child_moved",e,t,i)}function NV(n,e,t,i){return xI(n,"child_removed",e,t,i)}function FV(n,e,t){let i=null;const r=t?new NP(t):null;"value"===e?i=new TI(r):e&&(i=new eM(e,r)),MP(n._repo,n,i)}class Fc{}class LV extends Fc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){dd("endAt",this._value,e._path,!0);const t=JO(e._queryParams,this._value,this._key);if(XA(t),hm(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qo(e._repo,e._path,t,e._orderByCalled)}}class v$ extends Fc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){dd("endBefore",this._value,e._path,!1);const t=function S6(n,e,t){let i;return i=JO(n,e,n.index_===cd||t?t:im),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(XA(t),hm(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qo(e._repo,e._path,t,e._orderByCalled)}}class VV extends Fc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){dd("startAt",this._value,e._path,!0);const t=QO(e._queryParams,this._value,this._key);if(XA(t),hm(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qo(e._repo,e._path,t,e._orderByCalled)}}class E$ extends Fc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){dd("startAfter",this._value,e._path,!1);const t=function D6(n,e,t){let i;return i=QO(n,e,n.index_===cd||t?t:Zh),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(XA(t),hm(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qo(e._repo,e._path,t,e._orderByCalled)}}class I$ extends Fc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qo(e._repo,e._path,function T6(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class x$ extends Fc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qo(e._repo,e._path,function x6(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class S$ extends Fc{constructor(e){super(),this._path=e}_apply(e){JA(e,"orderByChild");const t=new Pn(this._path);if(on(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new WO(t),r=AA(e._queryParams,i);return hm(r),new Qo(e._repo,e._path,r,!0)}}class M$ extends Fc{_apply(e){JA(e,"orderByKey");const t=AA(e._queryParams,cd);return hm(t),new Qo(e._repo,e._path,t,!0)}}class k$ extends Fc{_apply(e){JA(e,"orderByPriority");const t=AA(e._queryParams,li);return hm(t),new Qo(e._repo,e._path,t,!0)}}class P$ extends Fc{_apply(e){JA(e,"orderByValue");const t=AA(e._queryParams,KO);return hm(t),new Qo(e._repo,e._path,t,!0)}}class F$ extends Fc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(dd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new LV(this._value,this._key)._apply(new VV(this._value,this._key)._apply(e))}}function Lc(n,...e){let t=(0,F.m9)(n);for(const i of e)t=i._apply(t);return t}(function gz(n){(0,F.hu)(!UA,"__referenceConstructor has already been defined"),UA=n})(Ll),function wz(n){(0,F.hu)(!jA,"__referenceConstructor has already been defined"),jA=n}(Ll);const VP={};function BV(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||ld("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),as("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,y,u=PP(o,r),h=u.repoInfo;typeof process<"u"&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(m=!0,o=`http://${y}?ns=${h.namespace}`,u=PP(o,r),h=u.repoInfo):m=!u.repoInfo.secure;const I=r&&m?new rI(rI.OWNER):new R4(n.name,n.options,e);pV("Invalid Firebase Database URL",u),on(u.path)||ld("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function j$(n,e,t,i){let r=VP[e.name];r||(r={},VP[e.name]=r);let o=r[n.toURLString()];return o&&ld("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Wz(n,false,t,i),r[n.toURLString()]=o,o}(h,n,I,new M4(n.name,t));return new z$(D,n)}class z${constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Kz(n,e,t){if(n.stats_=UO(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new MA(n.repoInfo_,(i,r,o,u)=>{vV(n,i,r,o,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>bV(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new X_(n.repoInfo_,e,(i,r,o,u)=>{vV(n,i,r,o,u)},i=>{bV(n,i)},i=>{!function Yz(n,e){ls(e,(t,i)=>{SP(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function P4(n,e){const t=n.toString();return VO[t]||(VO[t]=e()),VO[t]}(n.repoInfo_,()=>new P6(n.stats_,n.server_)),n.infoData_=new A6,n.infoSyncTree_=new iV({startListening:(i,r,o,u)=>{let h=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(h=gI(n.infoSyncTree_,i._path,m),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),SP(n,"connected",!1),n.serverSyncTree_=new iV({startListening:(i,r,o,u)=>(n.server_.listen(i,o,r,(h,m)=>{const y=u(h,m);Pa(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ll(this._repo,Cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function B$(n,e){const t=VP[e];(!t||t[n.key]!==n)&&ld(`Database ${e}(${n.repoInfo_}) has already been deleted.`),EV(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ld("Cannot call "+e+" on a deleted database.")}}function jV(){c2.IS_TRANSPORT_INITIALIZED&&qs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function $$(){jV(),rm.forceDisallow()}function G$(){jV(),E0.forceDisallow(),rm.forceAllow()}function W$(n,e){HL(n,e)}const Y$={".sv":"timestamp"};class X${constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}X_.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},X_.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function K$(n){LL(uo.SDK_VERSION),(0,uo._registerComponent)(new Bs.wA("database",(e,{instanceIdentifier:t})=>BV(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,uo.registerVersion)(NL,"0.14.4",n),(0,uo.registerVersion)(NL,"0.14.4","esm2017")}();const r5=new ho.Yd("@firebase/database-compat"),zV=function(n){r5.warn("FIREBASE WARNING: "+n)};class a5{constructor(e){this._delegate=e}cancel(e){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),o=>i(o)),r}update(e,t){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,zV("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class l5{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class fm{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),CI("DataSnapshot.child","path",e,!1),new fm(this._database,this._delegate.child(e))}hasChild(e){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),CI("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new fm(this._database,t)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Na(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ms{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var o;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",t,!1);const u=Ms.getCancelAndContextArgs_("Query.on",i,r),h=(y,I)=>{t.call(u.context,new fm(this.database,y),I)};h.userCallback=t,h.context=u.context;const m=null===(o=u.cancel)||void 0===o?void 0:o.bind(u.context);switch(e){case"value":return LP(this._delegate,h,m),t;case"child_added":return kV(this._delegate,h,m),t;case"child_removed":return NV(this._delegate,h,m),t;case"child_changed":return OV(this._delegate,h,m),t;case"child_moved":return PV(this._delegate,h,m),t;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,F.Wj)("Query.off","callback",t,!0),(0,F.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,FV(this._delegate,e,r)}else FV(this._delegate,e)}get(){return _$(this._delegate).then(e=>new fm(this.database,e))}once(e,t,i,r){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",t,!0);const o=Ms.getCancelAndContextArgs_("Query.once",i,r),u=new F.BH,h=(y,I)=>{const D=new fm(this.database,y);t&&t.call(o.context,D,I),u.resolve(D)};h.userCallback=t,h.context=o.context;const m=y=>{o.cancel&&o.cancel.call(o.context,y),u.reject(y)};switch(e){case"value":LP(this._delegate,h,m,{onlyOnce:!0});break;case"child_added":kV(this._delegate,h,m,{onlyOnce:!0});break;case"child_removed":NV(this._delegate,h,m,{onlyOnce:!0});break;case"child_changed":OV(this._delegate,h,m,{onlyOnce:!0});break;case"child_moved":PV(this._delegate,h,m,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new Ms(this.database,Lc(this._delegate,function T$(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new I$(n)}(e)))}limitToLast(e){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new Ms(this.database,Lc(this._delegate,function D$(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new x$(n)}(e)))}orderByChild(e){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new Ms(this.database,Lc(this._delegate,function A$(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return CI("orderByChild","path",n,!1),new S$(n)}(e)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new Ms(this.database,Lc(this._delegate,function R$(){return new M$}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new Ms(this.database,Lc(this._delegate,function O$(){return new k$}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new Ms(this.database,Lc(this._delegate,function N$(){return new P$}()))}startAt(e=null,t){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new Ms(this.database,Lc(this._delegate,function w$(n=null,e){return EI("startAt","key",e,!0),new VV(n,e)}(e,t)))}startAfter(e=null,t){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new Ms(this.database,Lc(this._delegate,function C$(n,e){return EI("startAfter","key",e,!0),new E$(n,e)}(e,t)))}endAt(e=null,t){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new Ms(this.database,Lc(this._delegate,function y$(n,e){return EI("endAt","key",e,!0),new LV(n,e)}(e,t)))}endBefore(e=null,t){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new Ms(this.database,Lc(this._delegate,function b$(n,e){return EI("endBefore","key",e,!0),new v$(n,e)}(e,t)))}equalTo(e,t){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new Ms(this.database,Lc(this._delegate,function L$(n,e){return EI("equalTo","key",e,!0),new F$(n,e)}(e,t)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Ms))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,F.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,F.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,F.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Na(this.database,new Ll(this._delegate._repo,this._delegate._path))}}class Na extends Ms{constructor(e,t){super(e,new Qo(t._repo,t._path,new SA,!1)),this.database=e,this._delegate=t}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Na(this.database,sy(this._delegate,e))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Na(this.database,e):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Na(this.database,this._delegate.root)}set(e,t){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",t,!0);const i=FP(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,zV("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Fl("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",t,!0);const i=g$(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function m$(n,e,t){if(Fl("setWithPriority",n._path),dd("setWithPriority",e,n._path,!1),DP("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new F.BH;return AP(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),o=>i(o)),r}remove(e){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",e,!0);const t=function f$(n){return Fl("remove",n._path),FP(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,F.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function e5(n,e,t){var i;if(n=(0,F.m9)(n),Fl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,o=new F.BH,h=LP(n,()=>{});return function s$(n,e,t,i,r,o){M0(n,"transaction on "+e);const u={path:e,update:t,onComplete:i,status:null,order:UL(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=RP(n,e,void 0);u.currentInputSnapshot=h;const m=u.update(h.val());if(void 0===m)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{wI("transaction failed: Data returned ",m,u.path),u.status=0;const y=GA(n.transactionQueueTree_,e),I=iy(y)||[];let D;I.push(u),IP(y,I),"object"==typeof m&&null!==m&&(0,F.r3)(m,".priority")?(D=(0,F.DV)(m,".priority"),(0,F.hu)(bI(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(zA(n.serverSyncTree_,e)||Yt.EMPTY_NODE).getPriority().val();const R=II(n),V=Qi(m,D),j=wP(V,h,R);u.currentOutputSnapshotRaw=V,u.currentOutputSnapshotResolved=j,u.currentWriteId=KA(n);const W=pP(n.serverSyncTree_,e,j,u.currentWriteId,u.applyLocally);Pa(n.eventQueue_,e,W),YA(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(m,y,I)=>{let D=null;m?o.reject(m):(D=new ry(I,new Ll(n._repo,n._path),li),o.resolve(new X$(y,D)))},h,r),o.promise}(this._delegate,e,{applyLocally:i}).then(o=>new l5(o.committed,new fm(this.database,o.snapshot)));return t&&r.then(o=>t(null,o.committed,o.snapshot),o=>t(o,!1,null)),r}setPriority(e,t){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",t,!0);const i=function p$(n,e){n=(0,F.m9)(n),Fl("setPriority",n._path),DP("setPriority",e,!1);const t=new F.BH;return AP(n._repo,Ni(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",t,!0);const i=function h$(n,e){n=(0,F.m9)(n),Fl("push",n._path),dd("push",e,n._path,!0);const t=yV(n._repo),i=d$(t),r=sy(n,i),o=sy(n,i);let u;return u=null!=e?FP(o,e).then(()=>o):Promise.resolve(o),r.then=u.then.bind(u),r.catch=u.then.bind(u,void 0),r}(this._delegate,e),r=i.then(u=>new Na(this.database,u));t&&r.then(()=>t(null),u=>t(u));const o=new Na(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Fl("Reference.onDisconnect",this._delegate._path),new a5(new AV(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class DI{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:$$,forceLongPolling:G$}}useEmulator(e,t,i={}){!function HV(n,e,t,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ld("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ld('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new rI(rI.OWNER);else if(i.mockUserToken){const u="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);o=new rI(u)}!function U$(n,e,t,i){n.repoInfo_=new FO(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(this._delegate,e,t,i)}ref(e){if((0,F.Dv)("database.ref",0,1,arguments.length),e instanceof Na){const t=RV(this._delegate,e.toString());return new Na(this,t)}{const t=MV(this._delegate,e);return new Na(this,t)}}refFromURL(e){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=RV(this._delegate,e);return new Na(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function q$(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),EV(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function Z$(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function r$(n){n.persistentConnection_&&n.persistentConnection_.resume(_V)}(n._repo)}(this._delegate)}}DI.ServerValue={TIMESTAMP:function Q$(){return Y$}(),increment:n=>function J$(n){return{".sv":{increment:n}}}(n)};var u5=Object.freeze({__proto__:null,initStandalone:function c5({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){LL(t);const u=new Bs.zt("auth-internal",new Bs.H0("database-standalone"));return u.setComponent(new Bs.wA("auth-internal",()=>i,"PRIVATE")),{instance:new DI(BV(n,u,void 0,e,o),n),namespace:r}}});const d5=DI.ServerValue;function $V(n){return null==n}function GV(n){return"function"==typeof n.set}function qV(n,e){return GV(e)?e:n.ref(e)}function ZV(n,e){if(function f5(n){return"string"==typeof n}(n))return e.stringCase();if(GV(n))return e.firebaseCase();if(function p5(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function SI(n,e,t="on",i=gl.z){return new Fn.y(r=>{let o=null;return o=n[t](e,(u,h)=>{i.schedule(()=>{r.next({snapshot:u,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},u=>{i.schedule(()=>r.error(u))}),"on"===t?{unsubscribe(){null!=o&&n.off(e,o)}}:{unsubscribe(){}}}).pipe((0,tt.U)(r=>{const{snapshot:o,prevKey:u}=r;let h=null;return o.exists()&&(h=o.key),{type:e,payload:o,prevKey:u,key:h}}),(0,Wf.B)())}function WV(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function _5(n,e){const{payload:t,prevKey:i,key:r}=e,o=WV(n,r),u=function g5(n,e){if($V(e))return 0;{const t=WV(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(m=>{const y={payload:m,type:"value",prevKey:h,key:m.key};return h=m.key,n=[...n,y],!1})}return n;case"child_added":if(o>-1){const h=n[o-1];(h&&h.key||null)!==i&&(n=n.filter(m=>m.payload.key!==t.key)).splice(u,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(o>-1){const h=n.splice(o,1)[0];return(n=n.slice()).splice(u,0,h),n}return n;default:return n}}function KV(n){return($V(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function YV(n,e,t){return function m5(n,e,t){return SI(n,"value","once",t).pipe((0,$n.w)(i=>{const r=[(0,ut.of)(i)];return e.forEach(o=>r.push(SI(n,o,"on",t))),(0,Ec.T)(...r).pipe(Vr(_5,[]))}),(0,Tc.x)())}(n,e=KV(e),t)}function QV(n,e,t){const i=(e=KV(e)).map(r=>SI(n,r,"on",t));return(0,Ec.T)(...i)}function JV(n,e){return function(i,r){return ZV(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function w5(n){return function(t){return t?ZV(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function XV(n,e){return function(){return SI(n,"value","on",e)}}!function h5(n){n.INTERNAL.registerComponent(new Bs.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new DI(r,i)},"PUBLIC").setServiceProps({Reference:Na,Query:Ms,Database:DI,DataSnapshot:fm,enableLogging:W$,INTERNAL:u5,ServerValue:d5}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(yv.Z);const I5=new l.OlP("angularfire2.realtimeDatabaseURL"),T5=new l.OlP("angularfire2.database.use-emulator");let UP,eU=(()=>{class n{constructor(t,i,r,o,u,h,m,y,I,D,R,V,j,W,fe){this.schedulers=h;const je=m,Ge=(0,Cs.on)(t,u,i);y&&gv(Ge,u,I,R,V,j,D,W),this.database=(0,Cs.cc)(`${Ge.name}.database.${r}`,"AngularFireDatabase",Ge.name,()=>{const Xe=u.runOutsideAngular(()=>Ge.database(r||void 0));return je&&Xe.useEmulator(...je),Xe},[je])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>qV(this.database,t));let o=r;return i&&(o=i(r)),function E5(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:JV(i,"update"),set:JV(i,"set"),push:r=>i.push(r),remove:w5(i),snapshotChanges:r=>YV(n,r,t).pipe(Zn.iC),stateChanges:r=>QV(n,r,t).pipe(Zn.iC),auditTrail:r=>function y5(n,e,t){return function b5(n,e,t){return function v5(n,e){return SI(n,"value","on",e).pipe((0,tt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function g4(...n){const e=(0,ns.jO)(n);return(0,Di.e)((t,i)=>{const r=n.length,o=new Array(r);let u=n.map(()=>!1),h=!1;for(let m=0;m<r;m++)(0,nl.Xf)(n[m]).subscribe((0,pn.x)(i,y=>{o[m]=y,!h&&!u[m]&&(u[m]=!0,(h=u.every(ms.y))&&(u=null))},cc.Z));t.subscribe((0,pn.x)(i,m=>{if(h){const y=[m,...o];i.next(e?e(...y):y)}}))})}(e),(0,tt.U)(([r,o])=>{const u=r.lastKeyToLoad,h=o.map(m=>m.key);return{actions:o,lastKeyToLoad:u,loadedKeys:h}}),function _4(n){return(0,Di.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,pn.x)(t,o=>(i||(i=!n(o,r++)))&&t.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,tt.U)(r=>r.actions))}(n,QV(n,e).pipe(Vr((r,o)=>[...r,o],[])),t)}(n,r,t).pipe(Zn.iC),valueChanges:(r,o)=>YV(n,r,t).pipe((0,tt.U)(h=>h.map(m=>o&&o.idField?Object.assign(Object.assign({},m.payload.val()),{[o.idField]:m.key}):m.payload.val())),Zn.iC)}}(o,this)}object(t){return function C5(n,e){return{query:n,snapshotChanges:()=>XV(n,e.schedulers.outsideAngular)().pipe(Zn.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>XV(n,e.schedulers.outsideAngular)().pipe(Zn.iC,(0,tt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>qV(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Cs.Dh),l.LFG(Cs.xv,8),l.LFG(I5,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Zn.HU),l.LFG(T5,8),l.LFG(Go,8),l.LFG(hv,8),l.LFG(fv,8),l.LFG(jt,8),l.LFG(pv,8),l.LFG(mv,8),l.LFG(Mu,8),l.LFG(wg,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Vc=(()=>{class n{constructor(t,i,r,o,u,h){this.userService=t,this.firebaseAuth=i,this.db=r,this.router=o,this.firestore=u,this.afAuth=h,this.username="",this.isAuthenticated=!1,this.userEmail="",this.isAuthenticatedSubject=new xi.X(!1),this.isAuthenticated$=this.isAuthenticatedSubject.asObservable(),this.firebaseAuth.setPersistence("local")}login(t,i){this.firebaseAuth.signInWithEmailAndPassword(t,i).then(()=>{this.userEmail=t,localStorage.setItem("token","true"),this.router.navigate([""]),this.isAuthenticatedSubject.next(!0),this.isAuthenticated=!0},r=>{alert("Le informazioni sono errate."),this.router.navigate(["/login"])})}getUserData(t){return this.firestore.doc(t).valueChanges()}getUserDataFromReference(t){return this.firestore.doc(t.path).valueChanges()}registrazione(t,i,r,o,u){this.firebaseAuth.createUserWithEmailAndPassword(i,r).then(h=>{const m=h.user?.uid;m?this.userService.createUser({uid:m,username:t,email:i,favorites:o,avatar:"https://i.ibb.co/Ph8h1Mq/user-avatar2.png"}).then(I=>{this.userService.getUserDocumentIdByEmail(i).subscribe(R=>{null!==R?console.log("L'id del documento non \xe8 stato trovato:",R):console.log("Nessun documento trovato")}),alert("Registrazione avvenuta con successo"),this.isAuthenticated=!0,this.router.navigate(["/login"])}).catch(I=>{console.error("Errore nel creare il doc.",I)}):console.error("UID non disponibile")}).catch(h=>{console.error("Errore:",h),alert("C'\xe8 stato un errore nella this.registrazione. La password deve essere di almeno 6 caratteri.")})}getComments(){return this.firestore.collection("albums").valueChanges()}getAlbums(){return this.firestore.collection("albums").valueChanges()}getAlbumDetails(t){return this.db.object(`/albums/${t}`).valueChanges()}logout(){this.firebaseAuth.signOut().then(()=>{this.isAuthenticated=!1,localStorage.removeItem("token"),this.router.navigate(["/login"]),this.isAuthenticatedSubject.next(!1)},t=>{alert()})}setAuthenticated(t){}viewDashboard(){this.isAuthenticated=!0,this.router.navigate(["/dashboard"])}setUsername(t){this.username=t}getUserId(){return new Promise((t,i)=>{this.afAuth.authState.subscribe(r=>{if(r){const o=r.uid;console.log("UID dell'utente autenticato: "+o),t(o)}else console.log("Nessun utente autenticato."),t(null)})})}getFavoriteAlbumsByIds(t){return this.firestore.collection("albums").valueChanges().pipe((0,tt.U)(r=>r.filter(o=>t.includes(o.id))))}getAlbumsByGenre(t){return this.firestore.collection("albums",i=>i.where("genre","==",t)).valueChanges()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(W_),l.LFG(Go),l.LFG(eU),l.LFG(Cr),l.LFG(nm),l.LFG(Go))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();try{UP=typeof Intl<"u"&&Intl.v8BreakIterator}catch{UP=!1}let k0,Vl=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function lf(n){return n===eo}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!UP)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const tU=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function nU(){if(k0)return k0;if("object"!=typeof document||!document)return k0=new Set(tU),k0;let n=document.createElement("input");return k0=new Set(tU.filter(e=>(n.setAttribute("type",e),n.type===e))),k0}let AI,BP;function O0(n){return function x5(){if(null==AI&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>AI=!0}))}finally{AI=AI||!1}return AI}()?n:!!n.capture}function P0(n){return n.composedPath?n.composedPath()[0]:n.target}function iU(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function nM(n,e=gl.z){return(0,Di.e)((t,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const y=o;o=null,i.next(y)}};function m(){const y=u+n,I=e.now();if(I<y)return r=this.schedule(void 0,y-I),void i.add(r);h()}t.subscribe((0,pn.x)(i,y=>{o=y,u=e.now(),r||(r=e.schedule(m,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}function jP(n){return hi((e,t)=>n<=t)}function Zs(n){return null!=n&&"false"!=`${n}`}function iM(n,e=0){return function Y5(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function rU(n){return Array.isArray(n)?n:[n]}function pm(n){return n instanceof l.SBq?n.nativeElement:n}let sU=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Q5=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=pm(t);return new Fn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Xt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(sU))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),J5=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=Zs(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=iM(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(nM(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Q5),l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),HP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:[sU]})}return n})();const oU=new Set;let ay,X5=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):tG}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function eG(n,e){if(!oU.has(n))try{ay||(ay=document.createElement("style"),e&&(ay.nonce=e),ay.setAttribute("type","text/css"),document.head.appendChild(ay)),ay.sheet&&(ay.sheet.insertRule(`@media ${n} {body{ }}`,0),oU.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Vl),l.LFG(l.Ojb,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tG(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let nG=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Xt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return aU(rU(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=Vo(aU(rU(t)).map(u=>this._registerQuery(u).observable));return o=_s(o.pipe(ar(1)),o.pipe(jP(1),nM(0))),o.pipe((0,tt.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:m,query:y})=>{h.matches=h.matches||m,h.breakpoints[y]=m}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Fn.y(u=>{const h=m=>this._zone.run(()=>u.next(m));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Vs(i),(0,tt.U)(({matches:u})=>({query:t,matches:u})),Ur(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(X5),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aU(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}class sG{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Xt.x,this._typeaheadSubscription=vs.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Xt.x,this.change=new Xt.x,e instanceof l.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,vn.b)(t=>this._pressedLetters.push(t)),nM(e),hi(()=>this._pressedLetters.length>0),(0,tt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,u=this._getItemsArray().length;this._setActiveItemByIndex(o<u?o:u-1,-1);break}return;default:return void((r||iU(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class oG extends sG{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function dU(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function hU(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const hG=new l.OlP("cdk-input-modality-detector-options"),fG={ignoreKeys:[18,17,224,91,16]},N0=O0({passive:!0,capture:!0});let pG=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new xi.X(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=P0(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(dU(u)?"keyboard":"mouse"),this._mostRecentTarget=P0(u))},this._onTouchstart=u=>{hU(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=P0(u))},this._options={...fG,...o},this.modalityDetected=this._modality.pipe(jP(1)),this.modalityChanged=this.modalityDetected.pipe((0,Tc.x)()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,N0),r.addEventListener("mousedown",this._onMousedown,N0),r.addEventListener("touchstart",this._onTouchstart,N0)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,N0),document.removeEventListener("mousedown",this._onMousedown,N0),document.removeEventListener("touchstart",this._onTouchstart,N0))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Vl),l.LFG(l.R0b),l.LFG(le),l.LFG(hG,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const gG=new l.OlP("cdk-focus-monitor-default-options"),rM=O0({passive:!0,capture:!0});let _G=(()=>{class n{constructor(t,i,r,o,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Xt.x,this._rootNodeFocusAndBlurListener=h=>{for(let y=P0(h);y;y=y.parentElement)"focus"===h.type?this._onFocus(h,y):this._onBlur(h,y)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=pm(t);if(!this._platform.isBrowser||1!==r.nodeType)return(0,ut.of)();const o=function S5(n){if(function D5(){if(null==BP){const n=typeof document<"u"?document.head:null;BP=!(!n||!n.createShadowRoot&&!n.attachShadow)}return BP}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new Xt.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=pm(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=pm(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,m])=>this._originChanged(h,i,m)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=P0(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,rM),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,rM)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ur(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rM),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rM),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.R0b),l.LFG(Vl),l.LFG(pG),l.LFG(le,8),l.LFG(gG,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yG=(()=>{class n{constructor(t,i){this._elementRef=t,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new l.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(_G))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();const pU="cdk-high-contrast-black-on-white",mU="cdk-high-contrast-white-on-black",zP="cdk-high-contrast-active";let gU=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,l.f3M)(nG).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(zP,pU,mU),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(zP,pU):2===i&&t.add(zP,mU)}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Vl),l.LFG(le))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vG=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(gU))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[HP]})}return n})();const bG=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function wG(){return(0,l.f3M)(le)}}),EG=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let F0=(()=>{class n{constructor(t){this.value="ltr",this.change=new l.vpe,t&&(this.value=function CG(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?EG.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(bG,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_U=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();const TG=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function IG(){return!0}});let hd=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function A5(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(gU),l.LFG(TG,8),l.LFG(le))};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[_U,_U]})}return n})();function bU(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Zs(e)}constructor(...e){super(...e),this._disabled=!1}}}function wU(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function xG(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Zs(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function DG(n){return class extends n{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let AG=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class MG{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const EU=O0({passive:!0,capture:!0});class RG{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=P0(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const u=o.get(i);u?u.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,EU)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,EU)))}}const CU={enterDuration:225,exitDuration:150},IU=O0({passive:!0,capture:!0}),TU=["mousedown","touchstart"],xU=["mouseup","mouseleave","touchend","touchcancel"];class sM{static#e=this._eventManager=new RG;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=pm(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...CU,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function OG(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,m=t-r.top,y=o.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=h-u+"px",I.style.top=m-u+"px",I.style.height=2*u+"px",I.style.width=2*u+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(I);const D=window.getComputedStyle(I),V=D.transitionDuration,j="none"===D.transitionProperty||"0s"===V||"0s, 0s"===V||0===r.width&&0===r.height,W=new MG(this,I,i,j);I.style.transform="scale3d(1, 1, 1)",W.state=0,i.persistent||(this._mostRecentTransientRipple=W);let fe=null;return!j&&(y||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const je=()=>this._finishRippleTransition(W),Ge=()=>this._destroyRipple(W);I.addEventListener("transitionend",je),I.addEventListener("transitioncancel",Ge),fe={onTransitionEnd:je,onTransitionCancel:Ge}}),this._activeRipples.set(W,fe),(j||!y)&&this._finishRippleTransition(W),W}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...CU,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=pm(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,TU.forEach(i=>{sM._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{xU.forEach(t=>{this._triggerElement.addEventListener(t,this,IU)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=dU(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!hU(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(TU.forEach(t=>sM._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&xU.forEach(t=>e.removeEventListener(t,this,IU)))}}const PG=new l.OlP("mat-ripple-global-options");let DU=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new sM(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Vl),l.Y36(PG,8),l.Y36(l.QbO,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&l.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),NG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[hd,hd]})}return n})();class $P{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class FG extends $P{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class GP extends $P{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class LG extends $P{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class VG{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof FG?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof GP?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof LG?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}let UG=(()=>{class n extends GP{constructor(t,i){super(t,i)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.Rgc),l.Y36(l.s_b))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[l.qOj]})}return n})(),qP=(()=>{class n extends VG{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(le))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]})}return n})(),BG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();var jG=N(4266);const HG=["addListener","removeListener"],zG=["addEventListener","removeEventListener"],$G=["on","off"];function RI(n,e,t,i){if((0,Lr.m)(t)&&(i=t,t=void 0),i)return RI(n,e,t).pipe(_a(i));const[r,o]=function ZG(n){return(0,Lr.m)(n.addEventListener)&&(0,Lr.m)(n.removeEventListener)}(n)?zG.map(u=>h=>n[u](e,h,t)):function GG(n){return(0,Lr.m)(n.addListener)&&(0,Lr.m)(n.removeListener)}(n)?HG.map(SU(n,e)):function qG(n){return(0,Lr.m)(n.on)&&(0,Lr.m)(n.off)}(n)?$G.map(SU(n,e)):[];if(!r&&(0,jG.z)(n))return(0,qi.z)(u=>RI(u,e,t))((0,nl.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Fn.y(u=>{const h=(...m)=>u.next(1<m.length?m:m[0]);return r(h),()=>o(h)})}function SU(n,e){return t=>i=>n[t](e,i)}var WG=N(671);function AU(n=0,e,t=gl.P){let i=-1;return null!=e&&((0,WG.K)(e)?t=e:i=e),new Fn.y(r=>{let o=function KG(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}class MU{}class YG{}const Kh="*";function RU(n,e){return{type:7,name:n,definitions:e,options:{}}}function oM(n,e=null){return{type:4,styles:e,timings:n}}function kU(n,e=null){return{type:2,steps:n,options:e}}function Yh(n){return{type:6,styles:n,offset:null}}function aM(n,e,t){return{type:0,name:n,styles:e,options:t}}function lM(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class kI{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class OU{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}var PU=N(1954);const OI={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=OI;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new vs.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=OI;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=OI;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var NU=N(2631);new class JG extends NU.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class QG extends PU.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=OI.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(OI.cancelAnimationFrame(t),e._scheduled=void 0)}});let WP,e9=1;const cM={};function FU(n){return n in cM&&(delete cM[n],!0)}const t9={setImmediate(n){const e=e9++;return cM[e]=!0,WP||(WP=Promise.resolve()),WP.then(()=>FU(e)&&n()),e},clearImmediate(n){FU(n)}},{setImmediate:n9,clearImmediate:i9}=t9,uM={setImmediate(...n){const{delegate:e}=uM;return(e?.setImmediate||n9)(...n)},clearImmediate(n){const{delegate:e}=uM;return(e?.clearImmediate||i9)(n)},delegate:void 0};new class s9 extends NU.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class r9 extends PU.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=uM.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(uM.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});let KP=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Xt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(function l9(n,e=gl.z){return function a9(n){return(0,Di.e)((e,t)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const y=r;r=null,t.next(y)}u&&t.complete()},m=()=>{o=null,u&&t.complete()};e.subscribe((0,pn.x)(t,y=>{i=!0,r=y,o||(0,nl.Xf)(n(y)).subscribe(o=(0,pn.x)(t,h,m))},()=>{u=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>AU(n,e))}(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Vl),l.LFG(l.R0b),l.LFG(le,8))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function u9(n,e){}const d9=function(n){return{animationDuration:n}},h9=function(n,e){return{value:n,params:e}};function f9(n,e){1&n&&l.Hsn(0)}const LU=["*"],p9=["tabListContainer"],m9=["tabList"],g9=["tabListInner"],_9=["nextPaginator"],y9=["previousPaginator"],v9=["tabBodyWrapper"],b9=["tabHeader"];function w9(n,e){}function E9(n,e){if(1&n&&l.YNc(0,w9,0,0,"ng-template",14),2&n){const t=l.oxw().$implicit;l.Q6J("cdkPortalOutlet",t.templateLabel)}}function C9(n,e){if(1&n&&l._uU(0),2&n){const t=l.oxw().$implicit;l.Oqu(t.textLabel)}}function I9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",6,7),l.NdJ("click",function(){const r=l.CHM(t),o=r.$implicit,u=r.index,h=l.oxw(),m=l.MAs(1);return l.KtG(h._handleClick(o,m,u))})("cdkFocusChange",function(r){const u=l.CHM(t).index,h=l.oxw();return l.KtG(h._tabFocusChanged(r,u))}),l._UZ(2,"span",8)(3,"div",9),l.TgZ(4,"span",10)(5,"span",11),l.YNc(6,E9,1,1,"ng-template",12),l.YNc(7,C9,1,1,"ng-template",null,13,l.W1O),l.qZA()()()}if(2&n){const t=e.$implicit,i=e.index,r=l.MAs(1),o=l.MAs(8),u=l.oxw();l.ekj("mdc-tab--active",u.selectedIndex===i),l.Q6J("id",u._getTabLabelId(i))("ngClass",t.labelClass)("disabled",t.disabled)("fitInkBarToContent",u.fitInkBarToContent),l.uIk("tabIndex",u._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",u._tabs.length)("aria-controls",u._getTabContentId(i))("aria-selected",u.selectedIndex===i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),l.xp6(3),l.Q6J("matRippleTrigger",r)("matRippleDisabled",t.disabled||u.disableRipple),l.xp6(3),l.Q6J("ngIf",t.templateLabel)("ngIfElse",o)}}function T9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-tab-body",15),l.NdJ("_onCentered",function(){l.CHM(t);const r=l.oxw();return l.KtG(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){l.CHM(t);const o=l.oxw();return l.KtG(o._setTabBodyWrapperHeight(r))}),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,r=l.oxw();l.ekj("mat-mdc-tab-body-active",r.selectedIndex===i),l.Q6J("id",r._getTabContentId(i))("ngClass",t.bodyClass)("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),l.uIk("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))("aria-hidden",r.selectedIndex!==i)}}const x9={translateTab:RU("translateTab",[aM("center, void, left-origin-center, right-origin-center",Yh({transform:"none"})),aM("left",Yh({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),aM("right",Yh({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),lM("* => left, * => right, left => center, right => center",oM("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),lM("void => left-origin-center",[Yh({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),oM("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),lM("void => right-origin-center",[Yh({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),oM("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let D9=(()=>{class n extends qP{constructor(t,i,r,o){super(t,i,o),this._host=r,this._centeringSub=vs.w0.EMPTY,this._leavingSub=vs.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Vs(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36((0,l.Gpc)(()=>VU)),l.Y36(le))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[l.qOj]})}return n})(),S9=(()=>{class n{set position(t){this._positionIndex=t,this._computePositionAnimationState()}constructor(t,i,r){this._elementRef=t,this._dir=i,this._dirChangeSubscription=vs.w0.EMPTY,this._translateTabComplete=new Xt.x,this._onCentering=new l.vpe,this._beforeCentering=new l.vpe,this._afterLeavingCenter=new l.vpe,this._onCentered=new l.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe((0,Tc.x)((o,u)=>o.fromState===u.fromState&&o.toState===u.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const i=this._isCenterPosition(t.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const i=this._getLayoutDirection();return"ltr"==i&&t<=0||"rtl"==i&&t>0?"left-origin-center":"right-origin-center"}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(F0,8),l.Y36(l.sBO))};static#t=this.\u0275dir=l.lG2({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}})}return n})(),VU=(()=>{class n extends S9{constructor(t,i,r){super(t,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(F0,8),l.Y36(l.sBO))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(i,r){if(1&i&&l.Gf(qP,5),2&i){let o;l.iGM(o=l.CRH())&&(r._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[l.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(i,r){1&i&&(l.TgZ(0,"div",0,1),l.NdJ("@translateTab.start",function(u){return r._onTranslateTabStarted(u)})("@translateTab.done",function(u){return r._translateTabComplete.next(u)}),l.YNc(2,u9,0,0,"ng-template",2),l.qZA()),2&i&&l.Q6J("@translateTab",l.WLB(3,h9,r._position,l.VKq(1,d9,r.animationDuration)))},dependencies:[D9],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[x9.translateTab]}})}return n})();const A9=new l.OlP("MatTabContent");let M9=(()=>{class n{constructor(t){this.template=t}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matTabContent",""]],features:[l._Bn([{provide:A9,useExisting:n}])]})}return n})();const R9=new l.OlP("MatTabLabel"),UU=new l.OlP("MAT_TAB");let k9=(()=>{class n extends UG{constructor(t,i,r){super(t,i),this._closestTab=r}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(UU,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[l._Bn([{provide:R9,useExisting:n}]),l.qOj]})}return n})();const YP="mdc-tab-indicator--active",BU="mdc-tab-indicator--no-transition";class O9{constructor(e){this._items=e}hide(){this._items.forEach(e=>e.deactivateInkBar())}alignToElement(e){const t=this._items.find(r=>r.elementRef.nativeElement===e),i=this._currentItem;if(t!==i&&(i?.deactivateInkBar(),t)){const r=i?.elementRef.nativeElement.getBoundingClientRect?.();t.activateInkBar(r),this._currentItem=t}}}function P9(n){return class extends n{constructor(...e){super(...e),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){const t=Zs(e);this._fitToContent!==t&&(this._fitToContent=t,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){const t=this.elementRef.nativeElement;if(!e||!t.getBoundingClientRect||!this._inkBarContentElement)return void t.classList.add(YP);const i=t.getBoundingClientRect(),r=e.width/i.width,o=e.left-i.left;t.classList.add(BU),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${r})`),t.getBoundingClientRect(),t.classList.remove(BU),t.classList.add(YP),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(YP)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const e=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=e.createElement("span"),this._inkBarContentElement=e.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const F9=bU(class{}),L9=P9((()=>{class n extends F9{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:n,features:[l.qOj]})}return n})());let jU=(()=>{class n extends L9{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}();static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,r){2&i&&(l.uIk("aria-disabled",!!r.disabled),l.ekj("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[l.qOj]})}return n})();const V9=bU(class{}),HU=new l.OlP("MAT_TAB_GROUP");let U9=(()=>{class n extends V9{get content(){return this._contentPortal}constructor(t,i){super(),this._viewContainerRef=t,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new Xt.x,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new GP(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&t._closestTab===this&&(this._templateLabel=t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.s_b),l.Y36(HU,8))};static#t=this.\u0275dir=l.lG2({type:n,viewQuery:function(i,r){if(1&i&&l.Gf(l.Rgc,7),2&i){let o;l.iGM(o=l.CRH())&&(r._implicitContent=o.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[l.qOj,l.TTD]})}return n})(),zU=(()=>{class n extends U9{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}();static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(i,r,o){if(1&i&&(l.Suo(o,M9,7,l.Rgc),l.Suo(o,k9,5)),2&i){let u;l.iGM(u=l.CRH())&&(r._explicitContent=u.first),l.iGM(u=l.CRH())&&(r.templateLabel=u.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[l._Bn([{provide:UU,useExisting:n}]),l.qOj],ngContentSelectors:LU,decls:1,vars:0,template:function(i,r){1&i&&(l.F$t(),l.YNc(0,f9,1,0,"ng-template"))},encapsulation:2})}return n})();const $U=O0({passive:!0});let H9=(()=>{class n{get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=Zs(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=iM(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}constructor(t,i,r,o,u,h,m){this._elementRef=t,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=o,this._ngZone=u,this._platform=h,this._animationMode=m,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Xt.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Xt.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new l.vpe,this.indexFocused=new l.vpe,u.runOutsideAngular(()=>{RI(t.nativeElement,"mouseleave").pipe(Ur(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){RI(this._previousPaginator.nativeElement,"touchstart",$U).pipe(Ur(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),RI(this._nextPaginator.nativeElement,"touchstart",$U).pipe(Ur(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:(0,ut.of)("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new oG(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(ar(1)).subscribe(r),(0,Ec.T)(t,i,this._items.changes,this._itemsResized()).pipe(Ur(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?ys.E:this._items.changes.pipe(Vs(this._items),(0,$n.w)(t=>new Fn.y(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(o=>i.next(o));return t.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),jP(1),hi(t=>t.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!iU(t))switch(t.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t))}break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){!this._isValidIndex(t)||this.focusIndex===t||!this._keyManager||this._keyManager.setActiveItem(t)}_isValidIndex(t){return!this._items||!!this._items.toArray()[t]}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const i=this._items?this._items.toArray()[t]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:u}=i.elementRef.nativeElement;let h,m;"ltr"==this._getLayoutDirection()?(h=o,m=h+u):(m=this._tabListInner.nativeElement.offsetWidth-o,h=m-u);const y=this.scrollDistance,I=this.scrollDistance+r;h<y?this.scrollDistance-=y-h:m>I&&(this.scrollDistance+=Math.min(m-I,h-y))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=t?t.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),AU(650,100).pipe(Ur((0,Ec.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(t);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(KP),l.Y36(F0,8),l.Y36(l.R0b),l.Y36(Vl),l.Y36(l.QbO,8))};static#t=this.\u0275dir=l.lG2({type:n,inputs:{disablePagination:"disablePagination"}})}return n})(),z9=(()=>{class n extends H9{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Zs(t)}constructor(t,i,r,o,u,h,m){super(t,i,r,o,u,h,m),this._disableRipple=!1}_itemSelected(t){t.preventDefault()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(KP),l.Y36(F0,8),l.Y36(l.R0b),l.Y36(Vl),l.Y36(l.QbO,8))};static#t=this.\u0275dir=l.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[l.qOj]})}return n})(),$9=(()=>{class n extends z9{constructor(t,i,r,o,u,h,m){super(t,i,r,o,u,h,m)}ngAfterContentInit(){this._inkBar=new O9(this._items),super.ngAfterContentInit()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(KP),l.Y36(F0,8),l.Y36(l.R0b),l.Y36(Vl),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(i,r,o){if(1&i&&l.Suo(o,jU,4),2&i){let u;l.iGM(u=l.CRH())&&(r._items=u)}},viewQuery:function(i,r){if(1&i&&(l.Gf(p9,7),l.Gf(m9,7),l.Gf(g9,7),l.Gf(_9,5),l.Gf(y9,5)),2&i){let o;l.iGM(o=l.CRH())&&(r._tabListContainer=o.first),l.iGM(o=l.CRH())&&(r._tabList=o.first),l.iGM(o=l.CRH())&&(r._tabListInner=o.first),l.iGM(o=l.CRH())&&(r._nextPaginator=o.first),l.iGM(o=l.CRH())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,r){2&i&&l.ekj("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[l.qOj],ngContentSelectors:LU,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(i,r){1&i&&(l.F$t(),l.TgZ(0,"button",0,1),l.NdJ("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(u){return r._handlePaginatorPress("before",u)})("touchend",function(){return r._stopInterval()}),l._UZ(2,"div",2),l.qZA(),l.TgZ(3,"div",3,4),l.NdJ("keydown",function(u){return r._handleKeydown(u)}),l.TgZ(5,"div",5,6),l.NdJ("cdkObserveContent",function(){return r._onContentChanges()}),l.TgZ(7,"div",7,8),l.Hsn(9),l.qZA()()(),l.TgZ(10,"button",9,10),l.NdJ("mousedown",function(u){return r._handlePaginatorPress("after",u)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),l._UZ(12,"div",2),l.qZA()),2&i&&(l.ekj("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),l.Q6J("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),l.xp6(3),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode),l.xp6(7),l.ekj("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),l.Q6J("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[DU,J5],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return n})();const GU=new l.OlP("MAT_TABS_CONFIG");let G9=0;const q9=wU(xG(class{constructor(n){this._elementRef=n}}),"primary");let Z9=(()=>{class n extends q9{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=Zs(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=iM(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t+"")?t+"ms":t}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(t){this._contentTabIndex=iM(t,null)}get disablePagination(){return this._disablePagination}set disablePagination(t){this._disablePagination=Zs(t)}get preserveContent(){return this._preserveContent}set preserveContent(t){this._preserveContent=Zs(t)}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),t&&i.add("mat-tabs-with-background",`mat-background-${t}`),this._backgroundColor=t}constructor(t,i,r,o){super(t),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new l.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=vs.w0.EMPTY,this._tabLabelSubscription=vs.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new l.vpe,this.focusChange=new l.vpe,this.animationDone=new l.vpe,this.selectedTabChange=new l.vpe(!0),this._groupId=G9++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=r?.contentTabIndex??null,this.preserveContent=!!r?.preserveContent}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(t));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===t),i||(this.selectedIndexChange.emit(t),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-t,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const t=this._clampTabIndex(this._indexToSelect);if(t===this._selectedIndex){const i=this._tabs.toArray();let r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[t]&&Promise.resolve().then(()=>{i[t].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(t))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Vs(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(t){const i=this._tabHeader;i&&(i.focusIndex=t)}_focusChanged(t){this._lastFocusedTabIndex=t,this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const i=new K9;return i.index=t,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[t]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Ec.T)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,i,r){i.focusIndex=r,t.disabled||(this.selectedIndex=r)}_getTabIndex(t){return t===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(t,i){t&&"mouse"!==t&&"touch"!==t&&(this._tabHeader.focusIndex=i)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(GU,8),l.Y36(l.QbO,8))};static#t=this.\u0275dir=l.lG2({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[l.qOj]})}return n})(),W9=(()=>{class n extends Z9{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(t){this._fitInkBarToContent=Zs(t),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(t){this._stretchTabs=Zs(t)}constructor(t,i,r,o){super(t,i,r,o),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent,this.stretchTabs=!r||null==r.stretchTabs||r.stretchTabs}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(GU,8),l.Y36(l.QbO,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(i,r,o){if(1&i&&l.Suo(o,zU,5),2&i){let u;l.iGM(u=l.CRH())&&(r._allTabs=u)}},viewQuery:function(i,r){if(1&i&&(l.Gf(v9,5),l.Gf(b9,5)),2&i){let o;l.iGM(o=l.CRH())&&(r._tabBodyWrapper=o.first),l.iGM(o=l.CRH())&&(r._tabHeader=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(i,r){2&i&&(l.Udp("--mat-tab-animation-duration",r.animationDuration),l.ekj("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[l._Bn([{provide:HU,useExisting:n}]),l.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(i,r){1&i&&(l.TgZ(0,"mat-tab-header",0,1),l.NdJ("indexFocused",function(u){return r._focusChanged(u)})("selectFocusedIndex",function(u){return r.selectedIndex=u}),l.YNc(2,I9,9,17,"div",2),l.qZA(),l.TgZ(3,"div",3,4),l.YNc(5,T9,1,12,"mat-tab-body",5),l.qZA()),2&i&&(l.Q6J("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),l.xp6(2),l.Q6J("ngForOf",r._tabs),l.xp6(1),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode),l.xp6(2),l.Q6J("ngForOf",r._tabs))},dependencies:[Xo,Ps,Pr,qP,DU,yG,VU,jU,$9],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return n})();class K9{}let Y9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[In,hd,BG,NG,HP,vG,hd]})}return n})();function Q9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",24)(1,"div",25),l._UZ(2,"img",26),l.TgZ(3,"div",27)(4,"h5",28),l._uU(5),l.ALo(6,"uppercase"),l.qZA(),l.TgZ(7,"p",29),l._uU(8),l.ALo(9,"uppercase"),l.qZA()(),l.TgZ(10,"ul",30)(11,"li",31),l._uU(12),l.ALo(13,"uppercase"),l.qZA()(),l.TgZ(14,"div",27)(15,"button",32),l.NdJ("click",function(){const o=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.sendInfo(o.id))}),l._uU(16," MORE INFO "),l.qZA(),l.TgZ(17,"button",33),l.NdJ("click",function(){const o=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.onAggiungiAiPreferitiClick(o.id))}),l.O4$(),l.TgZ(18,"svg",34)(19,"style"),l._uU(20," svg { fill: #000000; } "),l.qZA(),l._UZ(21,"path",35),l.qZA()()()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.uIk("src",t.coverUrl,l.LSH),l.xp6(3),l.Oqu(l.lcZ(6,4,t.title)),l.xp6(3),l.hij(" ",l.lcZ(9,6,t.artist)," "),l.xp6(4),l.Oqu(l.lcZ(13,8,t.genre))}}const dM=function(n){return{"material-symbols-outlined-preferito":n}};function J9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",25),l._UZ(2,"img",26),l.TgZ(3,"div",27)(4,"h5",28),l._uU(5),l.ALo(6,"uppercase"),l.qZA(),l.TgZ(7,"p",29),l._uU(8),l.ALo(9,"uppercase"),l.qZA()(),l.TgZ(10,"ul",30)(11,"li",31),l._uU(12),l.ALo(13,"uppercase"),l.qZA()(),l.TgZ(14,"div",27)(15,"button",32),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit,o=l.oxw();return l.KtG(o.sendInfo(r.id))}),l._uU(16," MORE INFO "),l.qZA(),l.TgZ(17,"button",33),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit,o=l.oxw();return l.KtG(o.onAggiungiAiPreferitiClick(r.id))}),l.TgZ(18,"span",37),l._uU(19," favorite "),l.qZA()()()()()}if(2&n){const t=l.oxw().$implicit;l.xp6(2),l.uIk("src",t.coverUrl,l.LSH),l.xp6(3),l.Oqu(l.lcZ(6,5,t.title)),l.xp6(3),l.hij(" ",l.lcZ(9,7,t.artist)," "),l.xp6(4),l.Oqu(l.lcZ(13,9,t.genre)),l.xp6(6),l.Q6J("ngClass",l.VKq(11,dM,t.isFavourite))}}function X9(n,e){if(1&n&&(l.TgZ(0,"div",24),l.YNc(1,J9,20,13,"div",36),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf","METAL"==t.genre)}}function eq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",25),l._UZ(2,"img",26),l.TgZ(3,"div",27)(4,"h5",28),l._uU(5),l.ALo(6,"uppercase"),l.qZA(),l.TgZ(7,"p",29),l._uU(8),l.ALo(9,"uppercase"),l.qZA()(),l.TgZ(10,"ul",30)(11,"li",31),l._uU(12),l.ALo(13,"uppercase"),l.qZA()(),l.TgZ(14,"div",27)(15,"button",32),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit,o=l.oxw();return l.KtG(o.sendInfo(r.id))}),l._uU(16," MORE INFO "),l.qZA(),l.TgZ(17,"button",33),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit,o=l.oxw();return l.KtG(o.onAggiungiAiPreferitiClick(r.id))}),l.TgZ(18,"span",37),l._uU(19," favorite "),l.qZA()()()()()}if(2&n){const t=l.oxw().$implicit;l.xp6(2),l.uIk("src",t.coverUrl,l.LSH),l.xp6(3),l.Oqu(l.lcZ(6,5,t.title)),l.xp6(3),l.hij(" ",l.lcZ(9,7,t.artist)," "),l.xp6(4),l.Oqu(l.lcZ(13,9,t.genre)),l.xp6(6),l.Q6J("ngClass",l.VKq(11,dM,t.isFavourite))}}function tq(n,e){if(1&n&&(l.TgZ(0,"div",24),l.YNc(1,eq,20,13,"div",36),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf","ROCK"==t.genre)}}function nq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",25),l._UZ(2,"img",26),l.TgZ(3,"div",27)(4,"h5",28),l._uU(5),l.ALo(6,"uppercase"),l.qZA(),l.TgZ(7,"p",29),l._uU(8),l.ALo(9,"uppercase"),l.qZA()(),l.TgZ(10,"ul",30)(11,"li",31),l._uU(12),l.ALo(13,"uppercase"),l.qZA()(),l.TgZ(14,"div",27)(15,"button",32),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit,o=l.oxw();return l.KtG(o.sendInfo(r.id))}),l._uU(16," MORE INFO "),l.qZA(),l.TgZ(17,"button",33),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit,o=l.oxw();return l.KtG(o.onAggiungiAiPreferitiClick(r.id))}),l.TgZ(18,"span",37),l._uU(19," favorite "),l.qZA()()()()()}if(2&n){const t=l.oxw().$implicit;l.xp6(2),l.uIk("src",t.coverUrl,l.LSH),l.xp6(3),l.Oqu(l.lcZ(6,5,t.title)),l.xp6(3),l.hij(" ",l.lcZ(9,7,t.artist)," "),l.xp6(4),l.Oqu(l.lcZ(13,9,t.genre)),l.xp6(6),l.Q6J("ngClass",l.VKq(11,dM,t.isFavourite))}}function iq(n,e){if(1&n&&(l.TgZ(0,"div",24),l.YNc(1,nq,20,13,"div",36),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf","POP"==t.genre)}}function rq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",25),l._UZ(2,"img",26),l.TgZ(3,"div",27)(4,"h5",28),l._uU(5),l.ALo(6,"uppercase"),l.qZA(),l.TgZ(7,"p",29),l._uU(8),l.ALo(9,"uppercase"),l.qZA()(),l.TgZ(10,"ul",30)(11,"li",31),l._uU(12),l.ALo(13,"uppercase"),l.qZA()(),l.TgZ(14,"div",27)(15,"button",32),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit,o=l.oxw();return l.KtG(o.sendInfo(r.id))}),l._uU(16," MORE INFO "),l.qZA(),l.TgZ(17,"button",33),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit,o=l.oxw();return l.KtG(o.onAggiungiAiPreferitiClick(r.id))}),l.TgZ(18,"span",37),l._uU(19," favorite "),l.qZA()()()()()}if(2&n){const t=l.oxw().$implicit;l.xp6(2),l.uIk("src",t.coverUrl,l.LSH),l.xp6(3),l.Oqu(l.lcZ(6,5,t.title)),l.xp6(3),l.hij(" ",l.lcZ(9,7,t.artist)," "),l.xp6(4),l.Oqu(l.lcZ(13,9,t.genre)),l.xp6(6),l.Q6J("ngClass",l.VKq(11,dM,t.isFavourite))}}function sq(n,e){if(1&n&&(l.TgZ(0,"div",24),l.YNc(1,rq,20,13,"div",36),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf","JAZZ"==t.genre)}}let qU=(()=>{class n{constructor(t,i,r,o,u){this.router=t,this.firebaseService=i,this.afAuth=r,this.firestore=o,this.userService=u,this.favoriteAlbums=[],this.album=[],this.albumList=[],this.itemsPerPage=4,this.paginaCorrente=0,this.albumPaginati=[],this.userEmail="",this.newFavoriteAlbums=[],this.sendID=new Xt.x,this.sendID$=this.sendID.asObservable()}ngOnInit(){this.firebaseService.getAlbums().subscribe(t=>{this.albumList=t,this.getLastAlbum(),this.paginazione()}),this.afAuth.authState.subscribe(t=>{t&&(this.userId=t.uid,this.userService.getCurrentUserData())}),this.lastAlbum=this.albumList[this.albumList.length-1]}getLastAlbum(){this.albumList.length>0&&(this.albumList.sort((t,i)=>t.id-i.id),this.lastAlbum=this.albumList[this.albumList.length-1])}onAggiungiAiPreferitiClick(t){this.userService.getCurrentUserId().subscribe(i=>{i?this.userService.getUserDocumentId(i).then(r=>{r?this.userService.aggiungiAlbumPreferito(r,t):console.log("Nessun documento utente trovato per l'UID:",i)}):console.log("Nessun utente autenticato.")})}onRimuoviDaPreferitiClick(t){this.userService.getCurrentUserId().subscribe(i=>{i?this.userService.getUserDocumentId(i).then(r=>{r?this.userService.rimuoviAlbumPreferito(r,t):console.log("Nessun documento utente trovato per l'UID:",i)}):console.log("Nessun utente autenticato.")})}sendInfo(t){console.log("Tentativo di inviare ID:",t),this.sendID.next(t),console.log("ID passato a sendID:",t),this.router.navigateByUrl(`/album/${t}`)}paginazione(){const t=this.paginaCorrente*this.itemsPerPage;this.albumPaginati=this.albumList.slice(t,t+this.itemsPerPage)}paginaSuccessiva(){this.paginaCorrente++,this.paginazione()}paginaPrecedente(){this.paginaCorrente--,this.paginazione()}add(t){}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Cr),l.Y36(Vc),l.Y36(Go),l.Y36(nm),l.Y36(W_))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-tab"]],decls:49,vars:14,consts:[["rel","stylesheet","href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"],[1,"smaller"],["label","ALL"],[1,"card-container"],["class","cicloFor",4,"ngFor","ngForOf"],[1,"prev",3,"disabled","click"],[1,"next",3,"disabled","click"],["label","METAL"],["label","ROCK"],["label","POP"],["label","JAZZ"],[1,"divider_2"],[1,"divider"],[1,"containercard"],[1,"newpost"],[1,"news"],[1,"cardgif"],["alt","Copertina dell'Album",1,"album-cover"],["src","https://s3-us-west-2.amazonaws.com/s.cdpn.io/83141/vinyl.png","alt","Vinile in rotazione",1,"vinylgif"],[1,"banner-container"],["src","./assets/homepage/banner1.png",1,"bkgd-image-style"],["id","vi-video-1-container",1,"video-wrapper"],[1,"embed-container"],["src","https://open.spotify.com/embed/playlist/3geRCUxiWjlkpfWpzpaooK?utm_source=generator&theme=0","width","100%","height","352","frameBorder","0","allowfullscreen","","allow","autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture","loading","lazy",2,"border-radius","12px"],[1,"cicloFor"],[1,"card"],[1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["type","button",1,"btn","btn-light",3,"click"],["type","button",1,"btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 512 512"],["d","M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"],[4,"ngIf"],[1,"material-symbols-outlined",3,"ngClass"]],template:function(i,r){1&i&&(l._UZ(0,"link",0),l.TgZ(1,"div",1)(2,"mat-tab-group")(3,"mat-tab",2)(4,"div",3),l.YNc(5,Q9,22,10,"div",4),l.qZA(),l.TgZ(6,"button",5),l.NdJ("click",function(){return r.paginaPrecedente()}),l._uU(7," \u276e "),l.qZA(),l.TgZ(8,"button",6),l.NdJ("click",function(){return r.paginaSuccessiva()}),l._uU(9," \u276f "),l.qZA()(),l.TgZ(10,"mat-tab",7)(11,"div",3),l.YNc(12,X9,2,1,"div",4),l.qZA()(),l.TgZ(13,"mat-tab",8)(14,"div",3),l.YNc(15,tq,2,1,"div",4),l.qZA()(),l.TgZ(16,"mat-tab",9)(17,"div",3),l.YNc(18,iq,2,1,"div",4),l.qZA()(),l.TgZ(19,"mat-tab",10)(20,"div",3),l.YNc(21,sq,2,1,"div",4),l.qZA()()()(),l.TgZ(22,"div",11)(23,"h3"),l._uU(24,"NOVITA'"),l.qZA(),l._UZ(25,"div",12),l.qZA(),l.TgZ(26,"div",13)(27,"div",14)(28,"h4"),l._uU(29,"Viaggio attraverso i Generi"),l.qZA(),l._uU(30," Da nuovi talenti emergenti a leggende consolidate, il nostro viaggio musicale attraverso i generi non conosce confini. Questo mese, immergetevi in una variet\xe0 di stili, dalle note classiche del jazz alle pulsanti melodie dell'indie rock. Abbiamo selezionato attentamente le novit\xe0 pi\xf9 eccitanti per arricchire la vostra collezione. "),l.qZA(),l.TgZ(31,"div",15),l._uU(32,"NEW!"),l.qZA(),l.TgZ(33,"div",16)(34,"h2"),l._uU(35),l.ALo(36,"uppercase"),l.qZA(),l.TgZ(37,"strong"),l._uU(38,"New release!"),l.qZA(),l.TgZ(39,"p"),l._uU(40),l.ALo(41,"uppercase"),l.qZA(),l._UZ(42,"img",17)(43,"img",18),l.qZA()(),l.TgZ(44,"section",19),l._UZ(45,"img",20),l.TgZ(46,"div",21)(47,"div",22),l._UZ(48,"iframe",23),l.qZA()()()),2&i&&(l.xp6(5),l.Q6J("ngForOf",r.albumPaginati),l.xp6(1),l.Q6J("disabled",0===r.paginaCorrente),l.xp6(2),l.Q6J("disabled",(r.paginaCorrente+1)*r.itemsPerPage>=r.albumList.length),l.xp6(4),l.Q6J("ngForOf",r.albumList),l.xp6(3),l.Q6J("ngForOf",r.albumList),l.xp6(3),l.Q6J("ngForOf",r.albumList),l.xp6(3),l.Q6J("ngForOf",r.albumList),l.xp6(14),l.Oqu(l.lcZ(36,10,null==r.lastAlbum?null:r.lastAlbum.title)),l.xp6(5),l.Oqu(l.lcZ(41,12,null==r.lastAlbum?null:r.lastAlbum.genre)),l.xp6(2),l.uIk("src",null==r.lastAlbum?null:r.lastAlbum.coverUrl,l.LSH))},dependencies:[Xo,Ps,Pr,zU,W9,qc],styles:['@import"https://fonts.googleapis.com/css2?family=Bayon&display=swap";@import"https://fonts.googleapis.com/css?family=Nunito|Playfair+Display:400,700";@import"https://fonts.googleapis.com/css2?family=Oswald:wght@500&display=swap";@import"https://fonts.googleapis.com/css2?family=Yusei+Magic&display=swap";@import"https://fonts.googleapis.com/css?family=Oswald:400";.material-symbols-outlined[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24;color:#000}.material-symbols-outlined-preferito[_ngcontent-%COMP%]{font-variation-settings:"FILL" 0,"wght" 400,"GRAD" 0,"opsz" 24;color:red}.example-label[_ngcontent-%COMP%]{display:table-cell;font-size:14px;margin-left:8px;min-width:120px}.example-button-row[_ngcontent-%COMP%]{display:table-cell;max-width:600px}.example-button-row[_ngcontent-%COMP%]   .mat-mdc-button-base[_ngcontent-%COMP%]{margin:8px 8px 8px 0}.mat-tab[_ngcontent-%COMP%]{width:50%}.example-flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px}.card-title[_ngcontent-%COMP%]{font-size:24px}.divider_2[_ngcontent-%COMP%]{text-align:center}.divider_2[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:40px 0 0;padding:0;font-weight:bolder;font-variant:small-caps}.divider[_ngcontent-%COMP%]{width:70%;box-shadow:-3px -1px 5px #00000048;height:1px;background-color:#4949498e;margin:0 auto}.cicloFor[_ngcontent-%COMP%]{margin-inline:.6rem;margin-top:1rem}#miPiace[_ngcontent-%COMP%]{width:2rem}.card-container[_ngcontent-%COMP%]{margin-top:3%;display:flex;flex-wrap:wrap;overflow-x:auto;justify-content:center;padding-inline:10%}.card[_ngcontent-%COMP%]{margin-top:2px;width:20rem;box-shadow:0 1.2px 2.2px #0000000a,0 2.8px 5.3px #0000000c,0 5.1px 10px #0000000c,0 9.9px 17.9px #0000000d,0 21.9px 33.4px #0000000e,0 50px 80px #0000000f}.banner[_ngcontent-%COMP%]{position:relative;z-index:1;margin:80px auto;width:330px}.banner[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin:0 0 10px;width:100%;height:78px;box-shadow:10px 10px 10px #0000000d;text-align:center;text-transform:uppercase;font-size:3em;line-height:78px;transform:skew(0,-15deg)}.banner-container[_ngcontent-%COMP%]{width:100%;margin-top:2%;max-width:1200px;position:relative;margin-inline:auto}.bkgd-image-style[_ngcontent-%COMP%]{position:relative;width:100%}.video-wrapper[_ngcontent-%COMP%]{width:49.6%;position:absolute;top:0;height:auto}a.play-pause-button[_ngcontent-%COMP%]{width:50px;height:50px}.embed-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;max-width:100%;iframe,object,embed {position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;} &:hover + .video-control {opacity: .5;} iframe #player .controls-wrapper {display: none;}}.video-control[_ngcontent-%COMP%]{opacity:0;position:absolute;width:22.5%;height:40%;top:31%;left:38%;transition:opacity .3s}.video-control[_ngcontent-%COMP%]:hover{opacity:1}.video-control[_ngcontent-%COMP%]:before, .video-control[_ngcontent-%COMP%]:after{content:"";width:100%;height:100%;max-width:131px;background-repeat:no-repeat;background-size:100%;display:block;position:absolute}.video-control[_ngcontent-%COMP%]:before{background-image:url(http://joekang.co/assets/image-hosting/video-buttons-black.png);background-position:53% 98%;background-size:332%}.video-control[_ngcontent-%COMP%]:after{background-image:url(http://joekang.co/assets/image-hosting/video-buttons-black.png);background-position:-292px -292px;background-size:332%}.video-control.paused[_ngcontent-%COMP%]:after, .video-control.playing[_ngcontent-%COMP%]:before{opacity:0}.video-control-show[_ngcontent-%COMP%]{opacity:.5}.audio-control[_ngcontent-%COMP%]{opacity:1;position:absolute;width:6%;height:9%;bottom:3%;left:2%;transition:opacity .3s}.audio-control[_ngcontent-%COMP%]:hover{opacity:1}.audio-control[_ngcontent-%COMP%]:before, .audio-control[_ngcontent-%COMP%]:after{position:absolute;content:"";width:100%;height:100%;max-width:36px;background-repeat:no-repeat;background-size:100%;display:block}.audio-control[_ngcontent-%COMP%]:before{background-image:url(http://joekang.co/assets/image-hosting/video-buttons-black.png);background-position:-1% -2%;background-size:254%}.audio-control[_ngcontent-%COMP%]:after{background-image:url(http://joekang.co/assets/image-hosting/video-buttons-black.png);background-position:69% -1%;background-size:254%}.audio-control.unmuted[_ngcontent-%COMP%]:after, .audio-control.muted[_ngcontent-%COMP%]:before{opacity:0}.title-wrapper[_ngcontent-%COMP%]{text-align:center;margin:3% 0;font-size:2.5vw;span {color: #fff;}}.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:55%;width:auto;margin-top:-1.875rem;padding:1rem;color:#232323;font-weight:700;font-size:3rem;border-radius:3px;-webkit-user-select:none;user-select:none;transition:.4s;border:0px transparent}.next[_ngcontent-%COMP%]{position:absolute;right:0;border-radius:3px}.prev[_ngcontent-%COMP%]:hover, .next[_ngcontent-%COMP%]:hover{background-color:#1c4b82;color:#fff;text-decoration:none}@media (max-width: 768px){.prev[_ngcontent-%COMP%], .next[_ngcontent-%COMP%]{font-size:1rem;width:min-content}}.containercard[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;background-color:#fff;display:flex;flex-flow:row wrap;padding:2%;justify-content:center}.smaller[_ngcontent-%COMP%]{width:80%;margin:auto}.news[_ngcontent-%COMP%]{color:#000;text-align:right;background:rgb(251,251,251);width:6%;font-family:Oswald,sans-serif;font-size:25px;margin:1%;text-shadow:0px -20px #d5d1d1}.cardgif[_ngcontent-%COMP%]{background:rgb(255,255,255);background:linear-gradient(90deg,rgba(255,255,255,1) 0%,rgba(0,0,0,1) 0%,rgba(0,0,0,1) 0%,rgba(0,0,0,1) 2%,rgba(244,244,244,1) 2%,rgba(249,249,249,1) 89%);width:200px;border:1px solid #ccc;padding:10px;text-align:left;box-shadow:0 10px 11px #0000002d}.album-cover[_ngcontent-%COMP%]{max-width:100%;position:relative;height:-moz-fit-content;height:fit-content;z-index:10;margin-left:+130px;margin-top:-100px}.vinylgif[_ngcontent-%COMP%]{margin-top:-174px;animation:_ngcontent-%COMP%_spin 2s linear infinite;position:relative;margin-left:+200px;max-width:170px;max-height:170px;text-shadow:2px 2px solid black}.newpost[_ngcontent-%COMP%]{width:20%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-family:Yusei Magic,sans-serif}@media (max-width: 768px){.news[_ngcontent-%COMP%]{color:transparent;text-align:right;background:rgb(251,251,251);background:transparent;width:0%;text-shadow:none}.cardgif[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content;margin-inline:0;margin-top:10px;width:200px}.album-cover[_ngcontent-%COMP%]{max-width:90%;position:relative;height:-moz-fit-content;height:fit-content;z-index:10;padding:5%}.vinylgif[_ngcontent-%COMP%]{animation:spin 2s linear infinite;position:relative;max-width:100%;max-height:100%;padding:10%;text-shadow:2px 2px solid black;margin-left:180px;margin-top:-169px}.newpost[_ngcontent-%COMP%]{visibility:none;margin:0;width:100%}.containercard[_ngcontent-%COMP%]{justify-content:left}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return n})(),oq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-page-not-found"]],decls:11,vars:0,consts:[[1,"grid","min-h-full","bg-white","mt-6"],[1,"text-center"],[1,"text-base","font-semibold","text-gray-950"],[1,"text-3xl","font-bold","tracking-tight","text-gray-900","sm:text-5xl"],[1,"mt-6","text-base","leading-7","text-gray-600"],[1,"justify-center","gap-x-6"],["href","#",1,"bg-gray-950","rounded-md","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600"]],template:function(i,r){1&i&&(l.TgZ(0,"main",0)(1,"div",1)(2,"p",2),l._uU(3,"404"),l.qZA(),l.TgZ(4,"h1",3),l._uU(5,"Page not found"),l.qZA(),l.TgZ(6,"p",4),l._uU(7,"Sorry, we couldn\u2019t find the page you\u2019re looking for."),l.qZA(),l.TgZ(8,"div",5)(9,"a",6),l._uU(10,"Go back home"),l.qZA()()()())},styles:["img[_ngcontent-%COMP%]{width:100%}"]})}return n})(),hM=(()=>{class n{constructor(t,i){this.firestore=t,this.afirestore=i,this.carousel=["assets/carosello/carosello3.png","assets/carosello/carosello4.png","assets/carosello/carosello5.png"],this.sendTitle=new Xt.x,this.currentSlideIndex=1,this.direction=0,this.currentGenre="All",this.albumInfoSource=new xi.X(null),this.albumInfo$=this.albumInfoSource.asObservable()}setAlbumInfo(t){this.albumInfoSource.next(t)}getAlbumDetail(t){return this.afirestore.collection("albums").doc(t).valueChanges()}getAlbumInfoById(t){return this.afirestore.collection("albums").doc(t).valueChanges().pipe((0,tt.U)(r=>r||null))}getAlbumDetails(t){var i=this;return(0,ye.Z)(function*(){try{const r=yield i.afirestore.collection("albums").doc(t).valueChanges().toPromise();return console.log("Dettaglu album: ",r),r}catch(r){throw console.error("Errore nel ricevere i dettagli dell'album",r),r}})()}getAllAlbums(){return this.afirestore.collection("albums").valueChanges()}rimuoviAlbumPreferito(t,i){this.afirestore.collection("users").doc(t).get().subscribe(r=>{if(r.exists){const o=r.data();if(o&&o.favorites){const u=o.favorites.indexOf(i);-1!==u?(o.favorites.splice(u,1),this.afirestore.collection("users").doc(t).update({favorites:o.favorites}).then(()=>{console.log("Album rimosso dai preferiti con successo.")}).catch(h=>{console.error("Errore durante la rimozione dai preferiti:",h)})):console.log("Album ID non trovato nei preferiti.")}else console.log("L'array dei preferiti dell'utente non \xe8 definito.")}else console.log("Il documento utente non esiste.")})}nextSlide(){this.currentSlideIndex=(this.currentSlideIndex+1)%this.carousel.length}prevSlide(){this.currentSlideIndex=(this.currentSlideIndex-1+this.carousel.length)%this.carousel.length}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Vc),l.LFG(nm))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZU(...n){const e=(0,ns.jO)(n),{args:t,keys:i}=yn(n),r=new Fn.y(o=>{const{length:u}=t;if(!u)return void o.complete();const h=new Array(u);let m=u,y=u;for(let I=0;I<u;I++){let D=!1;(0,nl.Xf)(t[I]).subscribe((0,pn.x)(o,R=>{D||(D=!0,y--),h[I]=R},()=>m--,void 0,()=>{(!m||!D)&&(y||o.next(i?gs(i,h):h),o.complete())}))}});return e?r.pipe(_a(e)):r}let WU=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.Qsj),l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:n})}return n})(),ly=(()=>{class n extends WU{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}();static#t=this.\u0275dir=l.lG2({type:n,features:[l.qOj]})}return n})();const fd=new l.OlP("NgValueAccessor"),lq={provide:fd,useExisting:(0,l.Gpc)(()=>Qh),multi:!0},uq=new l.OlP("CompositionEventMode");let Qh=(()=>{class n extends WU{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function cq(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(uq,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&l.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[l._Bn([lq]),l.qOj]})}return n})();function mm(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function YU(n){return null!=n&&"number"==typeof n.length}const Ws=new l.OlP("NgValidators"),gm=new l.OlP("NgAsyncValidators"),dq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class hq{static min(e){return function QU(n){return e=>{if(mm(e.value)||mm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function JU(n){return e=>{if(mm(e.value)||mm(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return XU(e)}static requiredTrue(e){return function eB(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function tB(n){return mm(n.value)||dq.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function nB(n){return e=>mm(e.value)||!YU(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function iB(n){return e=>YU(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function rB(n){if(!n)return fM;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(mm(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return uB(e)}static composeAsync(e){return dB(e)}}function XU(n){return mm(n.value)?{required:!0}:null}function fM(n){return null}function sB(n){return null!=n}function oB(n){return(0,l.QGY)(n)?(0,Ln.D)(n):n}function aB(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function lB(n,e){return e.map(t=>t(n))}function cB(n){return n.map(e=>function fq(n){return!n.validate}(e)?e:t=>e.validate(t))}function uB(n){if(!n)return null;const e=n.filter(sB);return 0==e.length?null:function(t){return aB(lB(t,e))}}function QP(n){return null!=n?uB(cB(n)):null}function dB(n){if(!n)return null;const e=n.filter(sB);return 0==e.length?null:function(t){return ZU(lB(t,e).map(oB)).pipe((0,tt.U)(aB))}}function JP(n){return null!=n?dB(cB(n)):null}function hB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function fB(n){return n._rawValidators}function pB(n){return n._rawAsyncValidators}function XP(n){return n?Array.isArray(n)?n:[n]:[]}function pM(n,e){return Array.isArray(n)?n.includes(e):n===e}function mB(n,e){const t=XP(e);return XP(n).forEach(r=>{pM(t,r)||t.push(r)}),t}function gB(n,e){return XP(e).filter(t=>!pM(n,t))}class _B{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=QP(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=JP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class To extends _B{get formDirective(){return null}get path(){return null}}class Jh extends _B{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cy=(()=>{class n extends yB{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Jh,2))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]})}return n})(),mM=(()=>{class n extends yB{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(To,10))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]})}return n})();const PI="VALID",_M="INVALID",L0="PENDING",NI="DISABLED";function nN(n){return(yM(n)?n.validators:n)||null}function iN(n,e){return(yM(e)?e.asyncValidators:n)||null}function yM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class EB{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===PI}get invalid(){return this.status===_M}get pending(){return this.status==L0}get disabled(){return this.status===NI}get enabled(){return this.status!==NI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(mB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gB(e,this._rawAsyncValidators))}hasValidator(e){return pM(this._rawValidators,e)}hasAsyncValidator(e){return pM(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=L0,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=NI,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=PI,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===PI||this.status===L0)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?NI:PI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=L0,this._hasOwnPendingAsyncValidator=!0;const t=oB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?NI:this.errors?_M:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(L0)?L0:this._anyControlsHaveStatus(_M)?_M:PI}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yM(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function _q(n){return Array.isArray(n)?QP(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function yq(n){return Array.isArray(n)?JP(n):n||null}(this._rawAsyncValidators)}}class rN extends EB{constructor(e,t,i){super(nN(t),iN(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function wB(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function bB(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const uy=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>FI}),FI="always";function LI(n,e,t=FI){sN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function wq(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&CB(n,e)})}(n,e),function Cq(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Eq(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&CB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function bq(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bM(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),EM(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function wM(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function sN(n,e){const t=fB(n);null!==e.validator?n.setValidators(hB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=pB(n);null!==e.asyncValidator?n.setAsyncValidators(hB(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();wM(e._rawValidators,r),wM(e._rawAsyncValidators,r)}function EM(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=fB(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=pB(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return wM(e._rawValidators,i),wM(e._rawAsyncValidators,i),t}function CB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function IB(n,e){sN(n,e)}function aN(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function TB(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function lN(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Qh?t=o:function xq(n){return Object.getPrototypeOf(n.constructor)===ly}(o)?i=o:r=o}),r||i||t||null}const Sq={provide:To,useExisting:(0,l.Gpc)(()=>dy)},VI=(()=>Promise.resolve())();let dy=(()=>{class n extends To{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new rN({},QP(t),JP(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){VI.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),LI(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){VI.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){VI.then(()=>{const i=this._findContainer(t.path),r=new rN({});IB(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){VI.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){VI.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,TB(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Ws,10),l.Y36(gm,10),l.Y36(uy,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Sq]),l.qOj]})}return n})();function xB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function DB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const cN=class extends EB{constructor(e=null,t,i){super(nN(t),iN(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yM(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=DB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){DB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Rq={provide:Jh,useExisting:(0,l.Gpc)(()=>hy)},MB=(()=>Promise.resolve())();let hy=(()=>{class n extends Jh{constructor(t,i,r,o,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this.control=new cN,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=lN(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),aN(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){LI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){MB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&(0,l.VuI)(i);MB.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function vM(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(To,9),l.Y36(Ws,10),l.Y36(gm,10),l.Y36(fd,10),l.Y36(l.sBO,8),l.Y36(uy,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Rq]),l.qOj,l.TTD]})}return n})(),CM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),kB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();const uN=new l.OlP("NgModelWithFormControlWarning"),Fq={provide:Jh,useExisting:(0,l.Gpc)(()=>dN)};let dN=(()=>{class n extends Jh{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,i,r,o,u){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=u,this.update=new l.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=lN(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&bM(i,this,!1),LI(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}aN(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&bM(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#t=this.\u0275fac=function(i){return new(i||n)(l.Y36(Ws,10),l.Y36(gm,10),l.Y36(fd,10),l.Y36(uN,8),l.Y36(uy,8))};static#n=this.\u0275dir=l.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l._Bn([Fq]),l.qOj,l.TTD]})}return n})();const Lq={provide:To,useExisting:(0,l.Gpc)(()=>IM)};let IM=(()=>{class n extends To{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(EM(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return LI(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){bM(t.control||null,t,!1),function Dq(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,TB(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(bM(i||null,t),(n=>n instanceof cN)(r)&&(LI(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);IB(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Iq(n,e){return EM(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sN(this.form,this),this._oldForm&&EM(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Ws,10),l.Y36(gm,10),l.Y36(uy,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&l.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Lq]),l.qOj,l.TTD]})}return n})(),fy=(()=>{class n{constructor(){this._validator=fM}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):fM,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,features:[l.TTD]})}return n})();const Kq={provide:Ws,useExisting:(0,l.Gpc)(()=>TM),multi:!0};let TM=(()=>{class n extends fy{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.VuI,this.createValidator=t=>XU}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}();static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Kq]),l.qOj]})}return n})(),WB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[kB]})}return n})(),KB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uy,useValue:t.callSetDisabledState??FI}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[WB]})}return n})(),n7=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:uy,useValue:t.callSetDisabledState??FI}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[WB]})}return n})();function i7(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",9)(2,"div"),l._UZ(3,"img",10),l.qZA(),l.TgZ(4,"div",11)(5,"strong"),l._uU(6),l.qZA(),l._uU(7),l.ALo(8,"date"),l._UZ(9,"br"),l.TgZ(10,"div",12),l._uU(11),l.qZA()()()()),2&n){const t=e.$implicit;l.xp6(3),l.Q6J("src",t.user.avatar,l.LSH),l.xp6(3),l.Oqu(t.user.username),l.xp6(1),l.hij(" ha commentato il ",l.xi3(8,4,t.date,"medium"),":"),l.xp6(4),l.Oqu(t.content)}}function r7(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,i7,12,7,"div",2),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Q6J("ngForOf",t.comments)}}function s7(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,r7,2,1,"div",8),l.qZA()),2&n){const t=e.$implicit,i=l.oxw();l.xp6(1),l.Q6J("ngIf",i.receivedId==t.id)}}let o7=(()=>{class n{constructor(t,i){this.firebaseService=t,this.route=i,this.commentName="",this.commentMessage="",this.albumList=[],this.comments=[],this.receivedId=null}ngOnInit(){this.fetchComments()}getKeys(t){return t?Object.keys(t):[]}fetchComments(){this.firebaseService.getAlbums().subscribe(t=>{console.log("Fetched albums:",t),this.albumList=t,this.albumList.forEach(i=>{i.comments&&i.comments.forEach(r=>{this.firebaseService.getUserDataFromReference(r.user).subscribe(u=>{r.user=u,console.log("User data:",u)},u=>{console.error("errore:",u)})})})},t=>{console.error("errore:",t)})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Vc),l.Y36(Da))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-commenti"]],inputs:{receivedId:"receivedId"},decls:12,vars:2,consts:[[1,"comment-list"],[1,"card"],[4,"ngFor","ngForOf"],[1,"comment-form"],[1,"mb-3"],["for","exampleFormControlTextarea1",1,"form-label"],["id","exampleFormControlTextarea1","rows","3",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-dark"],[4,"ngIf"],[1,"card-body"],[2,"width","40px",3,"src"],[2,"margin-left","10px"],[1,"commentarea"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"div",1)(2,"h5"),l._uU(3,"Commenti:"),l.qZA(),l.YNc(4,s7,2,1,"div",2),l.qZA()(),l.TgZ(5,"div",3)(6,"div",4)(7,"label",5),l._uU(8,"Commento"),l.qZA(),l.TgZ(9,"textarea",6),l.NdJ("ngModelChange",function(u){return r.commentMessage=u}),l.qZA(),l.TgZ(10,"button",7),l._uU(11,"Invia Commento"),l.qZA()()()),2&i&&(l.xp6(4),l.Q6J("ngForOf",r.albumList),l.xp6(5),l.Q6J("ngModel",r.commentMessage))},dependencies:[Ps,Pr,Qh,cy,hy,Xs],styles:[".mb-3[_ngcontent-%COMP%]{margin:auto;width:70%}img[_ngcontent-%COMP%]{border-radius:2em}.card[_ngcontent-%COMP%]{margin:auto;width:70%;border:transparent}h5[_ngcontent-%COMP%]{font-size:2em}.no-comments[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-size:1.2em}.card-body[_ngcontent-%COMP%]{padding:0;display:flex;flex-flow:row wrap;align-content:space-between;justify-content:flex-start;align-items:flex-start}.comment-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{margin-left:10px;flex-grow:1}.comment-list[_ngcontent-%COMP%]{padding-top:32px}.commentarea[_ngcontent-%COMP%]{margin-left:3.4em;padding-top:0}.comment-form[_ngcontent-%COMP%]{margin-top:3em}.btn[_ngcontent-%COMP%]{margin-top:10px}"]})}return n})();function a7(n,e){if(1&n&&(l.TgZ(0,"div",5),l._UZ(1,"img",6),l.TgZ(2,"div",7)(3,"time",8),l._uU(4),l.qZA(),l.TgZ(5,"a",9)(6,"h3",10),l._uU(7),l.qZA()(),l.TgZ(8,"h5"),l._uU(9),l.qZA(),l.TgZ(10,"p",11),l._uU(11),l.qZA(),l.TgZ(12,"div",12)(13,"button",13),l._uU(14,"Go back home"),l.qZA()()()()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.uIk("src",t.coverUrl,l.LSH),l.xp6(3),l.hij(" ",t.artist," "),l.xp6(3),l.hij(" ",t.title," "),l.xp6(2),l.Oqu(t.genre),l.xp6(2),l.hij(" ",t.description," ")}}function l7(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,a7,15,5,"div",4),l.qZA()),2&n){const t=e.$implicit,i=l.oxw(2);l.xp6(1),l.Q6J("ngIf",t.id==i.id)}}function c7(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,l7,2,1,"div",3),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.albumList)}}function u7(n,e){1&n&&(l.TgZ(0,"div",14)(1,"div",15),l._uU(2," Impossibile trovare l'album... "),l.qZA()())}let d7=(()=>{class n{constructor(t,i,r){this.servizio=t,this.route=i,this.firebaseService=r,this.id=null,this.albumList=[]}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),console.log("Album ID:",this.id),this.firebaseService.getAlbums().subscribe(t=>{this.albumList=t})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(hM),l.Y36(Da),l.Y36(Vc))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-pagina-disco"]],decls:4,vars:3,consts:[[4,"ngIf","ngIfElse"],["loading",""],[3,"receivedId"],[4,"ngFor","ngForOf"],["class","overflow-hidden rounded-lg shadow transition hover:shadow-lg w-5/6 flex items-center","style","margin:auto; margin-top: 2%;",4,"ngIf"],[1,"overflow-hidden","rounded-lg","shadow","transition","hover:shadow-lg","w-5/6","flex","items-center",2,"margin","auto","margin-top","2%"],[1,"h-64","w-64","w-full","object-cover"],[1,"bg-white","p-4","sm:p-6"],["datetime","2022-10-10",1,"block","text-xs","text-gray-500"],["href","#"],[1,"mt-0.5","text-lg","text-gray-900"],[1,"mt-2","text-sm/relaxed","text-gray-500"],[1,"justify-center","gap-x-6",2,"margin","auto"],["routerLink","/",1,"bg-gray-950","rounded-md","px-3.5","py-2.5","text-sm","font-semibold","text-white","shadow-sm","hover:bg-indigo-500","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-indigo-600"],[1,"card",2,"width","50%","margin-top","6%"],[1,"card-body"]],template:function(i,r){if(1&i&&(l.YNc(0,c7,2,1,"div",0),l.YNc(1,u7,3,0,"ng-template",null,1,l.W1O),l._UZ(3,"app-commenti",2)),2&i){const o=l.MAs(2);l.Q6J("ngIf",null!=r.albumList)("ngIfElse",o),l.xp6(3),l.Q6J("receivedId",r.id)}},dependencies:[Ps,Pr,$f,o7],styles:[".card[_ngcontent-%COMP%]{margin:6% auto auto}.col-md-6[_ngcontent-%COMP%]{margin:auto;width:70%}.cicloFor[_ngcontent-%COMP%]{padding-top:20px}"]})}return n})();function h7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"div",3),l._UZ(2,"img",4),l.TgZ(3,"div",5)(4,"h5",6),l._uU(5),l.qZA(),l.TgZ(6,"p",7),l._uU(7),l.qZA()(),l.TgZ(8,"ul",8)(9,"li",9),l._uU(10),l.qZA()(),l.TgZ(11,"div",5)(12,"button",10),l.NdJ("click",function(){const o=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.onRimuoviDaPreferitiClick(o.id))}),l.O4$(),l.TgZ(13,"svg",11)(14,"style"),l._uU(15,"svg{fill:#000000}"),l.qZA(),l._UZ(16,"path",12),l.qZA()()()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.uIk("src",t.coverUrl,l.LSH),l.xp6(3),l.Oqu(t.title),l.xp6(2),l.Oqu(t.artist),l.xp6(3),l.Oqu(t.genre)}}let f7=(()=>{class n{constructor(t,i,r){this.servizio=t,this.authService=i,this.userService=r}ngOnInit(){const t=this.userService.getCurrentUser();t&&this.userService.getUsers().subscribe(i=>{const r=i.find(o=>o.email===t.email);if(r&&r.favorites){const o=r.favorites;this.authService.getAlbums().subscribe(u=>{this.favoriteAlbums=u.filter(h=>o.includes(h.id)),console.log(this.favoriteAlbums)})}else console.log("Campi mancanti nei dati dell'utente.")})}onRimuoviDaPreferitiClick(t){this.userService.getCurrentUserId().subscribe(i=>{i?this.userService.getUserDocumentId(i).then(r=>{r?this.userService.rimuoviAlbumPreferito(r,t):console.log("Nessun documento utente trovato per l'UID:",i)}):console.log("Nessun utente autenticato.")})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(hM),l.Y36(Vc),l.Y36(W_))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-pagina-preferiti"]],decls:2,vars:1,consts:[[1,"card-container"],["class","cicloFor",4,"ngFor","ngForOf"],[1,"cicloFor"],[1,"card",2,"width","24rem"],[1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"list-group","list-group-flush"],[1,"list-group-item"],["type","button",1,"btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 512 512"],["d","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0),l.YNc(1,h7,17,4,"div",1),l.qZA()),2&i&&(l.xp6(1),l.Q6J("ngForOf",r.favoriteAlbums))},dependencies:[Ps],styles:[".card-container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center}.card[_ngcontent-%COMP%]{margin-top:2px;width:15rem}.cicloFor[_ngcontent-%COMP%]{margin-inline:.6rem;margin-top:1rem}"]})}return n})();class YB{constructor(e,t,i,r,o,u){this.id=e,this.title=t.toUpperCase(),this.artist=i.toUpperCase(),this.genre=r.toUpperCase(),this.coverUrl=o.toUpperCase(),this.description=u}}class gN{}class Uc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Uc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Uc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Uc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class p7{encodeKey(e){return QB(e)}encodeValue(e){return QB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const g7=/%(\d[a-f0-9])/gi,_7={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function QB(n){return encodeURIComponent(n).replace(g7,(e,t)=>_7[t]??e)}function xM(n){return`${n}`}class Xh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new p7,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function m7(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],m=t.get(u)||[];m.push(h),t.set(u,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(xM):[xM(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Xh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(xM(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(xM(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class y7{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function JB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function XB(n){return typeof Blob<"u"&&n instanceof Blob}function e3(n){return typeof FormData<"u"&&n instanceof FormData}class UI{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function v7(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Uc),this.context||(this.context=new y7),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new Xh,this.urlWithParams=t}serializeBody(){return null===this.body?null:JB(this.body)||XB(this.body)||e3(this.body)||function b7(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||e3(this.body)?null:XB(this.body)?this.body.type||null:JB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,y=e.params||this.params;const I=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((D,R)=>D.set(R,e.setHeaders[R]),m)),e.setParams&&(y=Object.keys(e.setParams).reduce((D,R)=>D.set(R,e.setParams[R]),y)),new UI(t,i,o,{params:y,headers:m,context:I,reportProgress:h,responseType:r,withCredentials:u})}}var yN=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(yN||{});class w7{constructor(e,t=200,i="OK"){this.headers=e.headers||new Uc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class BI extends w7{constructor(e={}){super(e),this.type=yN.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new BI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function vN(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let DM=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof UI)o=t;else{let m,y;m=r.headers instanceof Uc?r.headers:new Uc(r.headers),r.params&&(y=r.params instanceof Xh?r.params:new Xh({fromObject:r.params})),o=new UI(t,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=(0,ut.of)(o).pipe(Bo(m=>this.handler.handle(m)));if(t instanceof UI||"events"===r.observe)return u;const h=u.pipe(hi(m=>m instanceof BI));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,tt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,tt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,tt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,tt.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Xh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,vN(r,i))}post(t,i,r={}){return this.request("POST",t,vN(r,i))}put(t,i,r={}){return this.request("PUT",t,vN(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(gN))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const j7=["*"];let MM;function jI(n){return function H7(){if(void 0===MM&&(MM=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(MM=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return MM}()?.createHTML(n)||n}function d3(n){return Error(`Unable to find icon with the name "${n}"`)}function h3(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function f3(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class my{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let RM=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new my(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw f3(r);const h=jI(u);return this._addSvgIconConfig(t,i,new my("",h,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new my(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(l.q3G.HTML,i);if(!o)throw f3(i);const u=jI(o);return this._addSvgIconSetConfig(t,new my("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw h3(t);const r=this._cachedIconsByUrl.get(i);return r?(0,ut.of)(kM(r)):this._loadSvgIconFromConfig(new my(t,null)).pipe((0,vn.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,tt.U)(o=>kM(o)))}getNamedSvgIcon(t,i=""){const r=p3(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):il(d3(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,ut.of)(kM(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,tt.U)(i=>kM(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?(0,ut.of)(r):ZU(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(is(h=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(y)),(0,ut.of)(null)})))).pipe((0,tt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw d3(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,t,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,vn.b)(i=>t.svgText=i),(0,tt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,ut.of)(null):this._fetchIcon(t).pipe((0,vn.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(jI("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(jI("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:u,value:h}=r[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function z7(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!u)throw h3(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const m=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe((0,tt.U)(y=>jI(y)),jo(()=>this._inProgressUrlFetches.delete(u)),(0,Wf.B)());return this._inProgressUrlFetches.set(u,m),m}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(p3(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return G7(o)?new my(o.url,null,o.options):new my(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(DM,8),l.LFG(ps),l.LFG(le,8),l.LFG(l.qLn))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kM(n){return n.cloneNode(!0)}function p3(n,e){return n+":"+e}function G7(n){return!(!n.url||!n.options)}const q7=wU(class{constructor(n){this._elementRef=n}}),Z7=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),W7=new l.OlP("mat-icon-location",{providedIn:"root",factory:function K7(){const n=(0,l.f3M)(le),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),m3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Y7=m3.map(n=>`[${n}]`).join(", "),Q7=/^url\(['"]?#(.*?)['"]?\)$/;let J7=(()=>{class n extends q7{get inline(){return this._inline}set inline(t){this._inline=Zs(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,u,h){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=vs.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(Y7),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)m3.forEach(u=>{const h=i[o],m=h.getAttribute(u),y=m?m.match(Q7):null;if(y){let I=r.get(h);I||(I=[],r.set(h,I)),I.push({name:u,value:y[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(ar(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(RM),l.$8M("aria-hidden"),l.Y36(W7),l.Y36(l.qLn),l.Y36(Z7,8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(l.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),l.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:j7,decls:1,vars:0,template:function(i,r){1&i&&(l.F$t(),l.Hsn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),X7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[hd,hd]})}return n})();const g3=O0({passive:!0});let e8=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ys.E;const i=pm(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Xt.x,u="cdk-text-field-autofilled",h=m=>{"cdk-text-field-autofill-start"!==m.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===m.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,g3),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,g3)}}),o}stopMonitoring(t){const i=pm(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(Vl),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),t8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({})}return n})();class n8{constructor(e){this._box=e,this._destroyed=new Xt.x,this._resizeSubject=new Xt.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Fn.y(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(hi(t=>t.some(i=>i.target===e)),$o({bufferSize:1,refCount:!0}),Ur(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let i8=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,l.f3M)(l.R0b)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new n8(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const r8=["notch"],s8=["matFormFieldNotchedOutline",""],o8=["*"],a8=["textField"],l8=["iconPrefixContainer"],c8=["textPrefixContainer"];function u8(n,e){1&n&&l._UZ(0,"span",19)}function d8(n,e){if(1&n&&(l.TgZ(0,"label",17),l.Hsn(1,1),l.YNc(2,u8,1,0,"span",18),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),l.uIk("for",t._control.id),l.xp6(2),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required)}}function h8(n,e){if(1&n&&l.YNc(0,d8,3,5,"label",16),2&n){const t=l.oxw();l.Q6J("ngIf",t._hasFloatingLabel())}}function f8(n,e){1&n&&l._UZ(0,"div",20)}function p8(n,e){}function m8(n,e){if(1&n&&l.YNc(0,p8,0,0,"ng-template",22),2&n){l.oxw(2);const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function g8(n,e){if(1&n&&(l.TgZ(0,"div",21),l.YNc(1,m8,1,1,"ng-template",9),l.qZA()),2&n){const t=l.oxw();l.Q6J("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),l.xp6(1),l.Q6J("ngIf",!t._forceDisplayInfixLabel())}}function _8(n,e){1&n&&(l.TgZ(0,"div",23,24),l.Hsn(2,2),l.qZA())}function y8(n,e){1&n&&(l.TgZ(0,"div",25,26),l.Hsn(2,3),l.qZA())}function v8(n,e){}function b8(n,e){if(1&n&&l.YNc(0,v8,0,0,"ng-template",22),2&n){l.oxw();const t=l.MAs(1);l.Q6J("ngTemplateOutlet",t)}}function w8(n,e){1&n&&(l.TgZ(0,"div",27),l.Hsn(1,4),l.qZA())}function E8(n,e){1&n&&(l.TgZ(0,"div",28),l.Hsn(1,5),l.qZA())}function C8(n,e){1&n&&l._UZ(0,"div",29)}function I8(n,e){if(1&n&&(l.TgZ(0,"div",30),l.Hsn(1,6),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function T8(n,e){if(1&n&&(l.TgZ(0,"mat-hint",34),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function x8(n,e){if(1&n&&(l.TgZ(0,"div",31),l.YNc(1,T8,2,2,"mat-hint",32),l.Hsn(2,7),l._UZ(3,"div",33),l.Hsn(4,8),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const D8=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],S8=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let wN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]})}return n})();const A8=new l.OlP("MatError");let M8=0,EN=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+M8++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(l.Ikx("id",r.id),l.uIk("align",null),l.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const R8=new l.OlP("MatPrefix"),_3=new l.OlP("MatSuffix");let k8=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[l._Bn([{provide:_3,useExisting:n}])]})}return n})();const y3=new l.OlP("FloatingLabelParent");let v3=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,l.f3M)(i8),this._ngZone=(0,l.f3M)(l.R0b),this._parent=(0,l.f3M)(y3),this._resizeSubscription=new vs.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function O8(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&l.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const b3="mdc-line-ripple--active",OM="mdc-line-ripple--deactivating";let w3=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,u=o.contains(OM);"opacity"===r.propertyName&&u&&o.remove(b3,OM)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(OM),t.add(b3)}deactivate(){this._elementRef.nativeElement.classList.add(OM)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),E3=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&l.Gf(r8,5),2&i){let o;l.iGM(o=l.CRH())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&l.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:s8,ngContentSelectors:o8,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(l.F$t(),l._UZ(0,"div",0),l.TgZ(1,"div",1,2),l.Hsn(3),l.qZA(),l._UZ(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const P8={transitionMessages:RU("transitionMessages",[aM("enter",Yh({opacity:1,transform:"translateY(0%)"})),lM("void => enter",[Yh({opacity:0,transform:"translateY(-5px)"}),oM("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let C3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=l.lG2({type:n})}return n})();const I3=new l.OlP("MatFormField"),N8=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let T3=0,V8=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Zs(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,o,u,h,m,y){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=u,this._defaults=h,this._animationMode=m,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+T3++,this._hintLabelId="mat-mdc-hint-"+T3++,this._subscriptAnimationState="",this._destroyed=new Xt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=!!h?.hideRequiredMarker,h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ur(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ec.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ur(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Ur(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(F0),l.Y36(Vl),l.Y36(N8,8),l.Y36(l.QbO,8),l.Y36(le))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(l.Suo(o,wN,5),l.Suo(o,wN,7),l.Suo(o,C3,5),l.Suo(o,R8,5),l.Suo(o,_3,5),l.Suo(o,A8,5),l.Suo(o,EN,5)),2&i){let u;l.iGM(u=l.CRH())&&(r._labelChildNonStatic=u.first),l.iGM(u=l.CRH())&&(r._labelChildStatic=u.first),l.iGM(u=l.CRH())&&(r._formFieldControl=u.first),l.iGM(u=l.CRH())&&(r._prefixChildren=u),l.iGM(u=l.CRH())&&(r._suffixChildren=u),l.iGM(u=l.CRH())&&(r._errorChildren=u),l.iGM(u=l.CRH())&&(r._hintChildren=u)}},viewQuery:function(i,r){if(1&i&&(l.Gf(a8,5),l.Gf(l8,5),l.Gf(c8,5),l.Gf(v3,5),l.Gf(E3,5),l.Gf(w3,5)),2&i){let o;l.iGM(o=l.CRH())&&(r._textField=o.first),l.iGM(o=l.CRH())&&(r._iconPrefixContainer=o.first),l.iGM(o=l.CRH())&&(r._textPrefixContainer=o.first),l.iGM(o=l.CRH())&&(r._floatingLabel=o.first),l.iGM(o=l.CRH())&&(r._notchedOutline=o.first),l.iGM(o=l.CRH())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&l.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:I3,useExisting:n},{provide:y3,useExisting:n}])],ngContentSelectors:S8,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(l.F$t(D8),l.YNc(0,h8,1,1,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.NdJ("click",function(u){return r._control.onContainerClick(u)}),l.YNc(4,f8,1,0,"div",3),l.TgZ(5,"div",4),l.YNc(6,g8,2,2,"div",5),l.YNc(7,_8,3,0,"div",6),l.YNc(8,y8,3,0,"div",7),l.TgZ(9,"div",8),l.YNc(10,b8,1,1,"ng-template",9),l.Hsn(11),l.qZA(),l.YNc(12,w8,2,0,"div",10),l.YNc(13,E8,2,0,"div",11),l.qZA(),l.YNc(14,C8,1,0,"div",12),l.qZA(),l.TgZ(15,"div",13),l.YNc(16,I8,2,1,"div",14),l.YNc(17,x8,5,2,"div",15),l.qZA()),2&i&&(l.xp6(2),l.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),l.xp6(2),l.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),l.xp6(2),l.Q6J("ngIf",r._hasOutline()),l.xp6(1),l.Q6J("ngIf",r._hasIconPrefix),l.xp6(1),l.Q6J("ngIf",r._hasTextPrefix),l.xp6(2),l.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),l.xp6(2),l.Q6J("ngIf",r._hasTextSuffix),l.xp6(1),l.Q6J("ngIf",r._hasIconSuffix),l.xp6(1),l.Q6J("ngIf",!r._hasOutline()),l.xp6(1),l.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),l.Q6J("ngSwitch",r._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[Pr,Hc,ta,jc,EN,v3,E3,w3],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[P8.transitionMessages]},changeDetection:0})}return n})(),CN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[hd,In,HP,hd]})}return n})();const U8=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),B8=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let j8=0;const H8=DG(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Xt.x}});let z8=(()=>{class n extends H8{get disabled(){return this._disabled}set disabled(t){this._disabled=Zs(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(hq.required)??!1}set required(t){this._required=Zs(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&nU().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Zs(t)}constructor(t,i,r,o,u,h,m,y,I,D){super(h,o,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=y,this._formField=D,this._uid="mat-input-"+j8++,this.focused=!1,this.stateChanges=new Xt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(j=>nU().has(j)),this._iOSKeyupListener=j=>{const W=j.target;!W.value&&0===W.selectionStart&&0===W.selectionEnd&&(W.setSelectionRange(1,1),W.setSelectionRange(0,0))};const R=this._elementRef.nativeElement,V=R.nodeName.toLowerCase();this._inputValueAccessor=m||R,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&I.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=R.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){B8.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(l.SBq),l.Y36(Vl),l.Y36(Jh,10),l.Y36(dy,8),l.Y36(IM,8),l.Y36(AG),l.Y36(U8,10),l.Y36(e8),l.Y36(l.R0b),l.Y36(I3,8))};static#t=this.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&l.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(l.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),l.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),l.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:C3,useExisting:n}]),l.qOj,l.TTD]})}return n})(),$8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[hd,CN,CN,t8,hd]})}return n})(),G8=(()=>{class n{constructor(t,i){this.firestore=t,this.albumService=i}addSong(t){return this.firestore.collection("albums",i=>i.orderBy("id","desc").limit(1)).get().toPromise().then(i=>{let r=0;return i&&!i.empty&&(r=i.docs[0].data().id+1),this.firestore.collection("albums").add({id:r,title:t.title.toUpperCase(),artist:t.artist.toUpperCase(),genre:t.genre.toUpperCase(),coverUrl:t.coverUrl.toUpperCase(),description:t.description})})}getLastAlbumId(t){return this.addSong(t).then(i=>i)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(nm),l.LFG(hM))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),S3=(()=>{class n{constructor(t){this.songService=t,this.song=new YB(0,"","","","","")}addSong(){this.songService.addSong(this.song).then(()=>{this.song=new YB(0,"","","","","")})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(G8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-form-inserire-disco"]],standalone:!0,features:[l.jDz],decls:33,vars:5,consts:[["id","form-info-disco",1,"commentarea"],["appearance","fill"],["matInput","","placeholder","https:/img.album.cover.png/",3,"ngModel","ngModelChange"],["matSuffix",""],["matInput","","placeholder","Titolo",3,"ngModel","ngModelChange"],["matInput","","placeholder","Artists",3,"ngModel","ngModelChange"],["matInput","","placeholder","Genere",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","ngModelChange"],[1,"btn","btn-dark",3,"click"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),l._uU(3,"Copertina Album URL"),l.qZA(),l.TgZ(4,"input",2),l.NdJ("ngModelChange",function(u){return r.song.coverUrl=u}),l.qZA(),l.TgZ(5,"mat-icon",3),l._uU(6,"sentiment_very_satisfied"),l.qZA(),l.TgZ(7,"mat-hint"),l._uU(8,"Inserisci URL dell'Immagine."),l.qZA()(),l.TgZ(9,"mat-form-field",1)(10,"mat-label"),l._uU(11,"Titolo Album"),l.qZA(),l.TgZ(12,"input",4),l.NdJ("ngModelChange",function(u){return r.song.title=u}),l.qZA(),l.TgZ(13,"mat-hint"),l._uU(14,"Inserisci il titolo."),l.qZA()(),l.TgZ(15,"mat-form-field",1)(16,"mat-label"),l._uU(17,"Cantante"),l.qZA(),l.TgZ(18,"input",5),l.NdJ("ngModelChange",function(u){return r.song.artist=u}),l.qZA(),l.TgZ(19,"mat-hint"),l._uU(20,"Nome dell'Artista."),l.qZA()(),l.TgZ(21,"mat-form-field",1)(22,"mat-label"),l._uU(23,"Genre"),l.qZA(),l.TgZ(24,"input",6),l.NdJ("ngModelChange",function(u){return r.song.genre=u}),l.qZA(),l.TgZ(25,"mat-hint"),l._uU(26,"Genere."),l.qZA()(),l.TgZ(27,"mat-form-field")(28,"mat-label"),l._uU(29,"Textarea"),l.qZA(),l.TgZ(30,"textarea",7),l.NdJ("ngModelChange",function(u){return r.song.description=u}),l.qZA()(),l.TgZ(31,"button",8),l.NdJ("click",function(){return r.addSong()}),l._uU(32,"Aggiungi Canzone"),l.qZA()()),2&i&&(l.xp6(4),l.Q6J("ngModel",r.song.coverUrl),l.xp6(8),l.Q6J("ngModel",r.song.title),l.xp6(6),l.Q6J("ngModel",r.song.artist),l.xp6(6),l.Q6J("ngModel",r.song.genre),l.xp6(6),l.Q6J("ngModel",r.song.description))},dependencies:[CN,V8,wN,EN,k8,$8,z8,X7,J7,KB,Qh,cy,hy],styles:["#form-info-disco[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around}.commentarea[_ngcontent-%COMP%]{margin-left:3.4em;padding-top:0}"]})}return n})(),q8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-page-insert-disk"]],decls:2,vars:0,consts:[["id","allpageinsert"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0),l._UZ(1,"app-form-inserire-disco"),l.qZA())},dependencies:[S3],styles:["#allpageinsert[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.card[_ngcontent-%COMP%]{margin:6% auto auto}.col-md-6[_ngcontent-%COMP%]{margin:auto;width:70%}.cicloFor[_ngcontent-%COMP%]{padding-top:20px}"]})}return n})(),Z8=(()=>{class n{constructor(t,i){this.firebase=t,this.afAuth=i,this.loginEmail="",this.registerEmail="",this.loginPassword="",this.registerPassword="",this.seiregistrato=!0,this.dashboardClicked=new l.vpe,i.setPersistence("local")}ngOnInit(){this.firebase.setAuthenticated(null!==this.afAuth.currentUser)}getUser(){}login(){""!=this.loginEmail?""!=this.loginPassword?(this.firebase.login(this.loginEmail,this.loginPassword),this.loginEmail="",this.loginPassword=""):alert("Please enter password"):alert("Please enter email")}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Vc),l.Y36(Go))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-login-material"]],inputs:{isAuthenticated:"isAuthenticated"},outputs:{dashboardClicked:"dashboardClicked"},decls:14,vars:2,consts:[[1,"wrapper"],[1,"form-signin"],["type","email","name","email","placeholder","email address",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"bg-gray-950","hover:bg-gray-950","text-white","font-bold","py-2","px-4","border","border-blue-700","rounded",3,"click"],["routerLink","/registrati",1,"bg-gray-950","hover:bg-gray-950","text-white","font-bold","py-2","px-4","border","border-blue-700","rounded"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"form",1)(2,"h1"),l._uU(3,"Fai il Login:"),l.qZA(),l.TgZ(4,"input",2),l.NdJ("ngModelChange",function(u){return r.loginEmail=u}),l.qZA(),l.TgZ(5,"input",3),l.NdJ("ngModelChange",function(u){return r.loginPassword=u}),l.qZA(),l.TgZ(6,"button",4),l.NdJ("click",function(){return r.login()}),l._uU(7,"Login"),l.qZA(),l._UZ(8,"br"),l.qZA(),l._UZ(9,"br"),l.TgZ(10,"p"),l._uU(11,"Ancora non sei registrato?"),l.qZA(),l.TgZ(12,"button",5),l._uU(13,"Registrati"),l.qZA()()),2&i&&(l.xp6(4),l.Q6J("ngModel",r.loginEmail),l.xp6(1),l.Q6J("ngModel",r.loginPassword))},dependencies:[$f,CM,Qh,cy,mM,hy,dy],styles:["body[_ngcontent-%COMP%]{background:#eee!important}.wrapper[_ngcontent-%COMP%]{margin-top:80px;margin-bottom:80px;text-align:center}.form-signin[_ngcontent-%COMP%]{max-width:380px;padding:15px 35px 45px;margin:0 auto;background-color:#fff;border:1px solid rgba(0,0,0,.1)}.checkbox[_ngcontent-%COMP%]{font-weight:400}.form-control[_ngcontent-%COMP%]{position:relative;font-size:16px;height:auto;padding:10px}input[type=text][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-left-radius:0;border-bottom-right-radius:0}input[type=password][_ngcontent-%COMP%]{margin-bottom:20px;border-top-left-radius:0;border-top-right-radius:0}"]})}return n})(),W8=(()=>{class n{constructor(t,i,r,o,u){this.router=t,this.firebaseService=i,this.afAuth=r,this.firestore=o,this.userService=u,this.onButtonClick=new l.vpe}buttonClick(){this.onButtonClick.emit(!1)}ngOnInit(){const t=this.userService.getCurrentUser();t&&(this.userService.getUsers().subscribe(i=>{const r=i.find(o=>o.email===t.email);r&&r.avatar?(this.avatar=r.avatar,this.userId=r.uid):console.log("Campi mancanti nei dati dell'utente.")}),this.afAuth.authState.subscribe(i=>{i&&(this.userId=i.uid,this.userService.getCurrentUserData())}))}updateAvatar(t){this.userService.getCurrentUserId().subscribe(i=>{i?this.userService.getUserDocumentId(i).then(r=>{r?this.userService.updateAvatar(r,t):console.log("Nessun documento utente trovato per l'UID:",i)}):console.log("Nessun utente autenticato.")})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Cr),l.Y36(Vc),l.Y36(Go),l.Y36(nm),l.Y36(W_))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-profile-picture"]],inputs:{userId:"userId",imageUrl:"imageUrl"},outputs:{onButtonClick:"onButtonClick"},decls:12,vars:1,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],["action","process_image.php","method","POST"],["for","image_url"],["type","text","id","image_url","name","image_url","placeholder","Enter image URL","required","",3,"ngModel","ngModelChange"],[1,"btn","btn-dark",3,"click"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"div",1),l._uU(2," update your profile picture "),l.qZA(),l.TgZ(3,"div",2)(4,"form",3)(5,"label",4),l._uU(6,"From url:"),l.qZA(),l.TgZ(7,"input",5),l.NdJ("ngModelChange",function(u){return r.imageUrl=u}),l.qZA(),l._UZ(8,"br")(9,"br"),l.TgZ(10,"button",6),l.NdJ("click",function(){return r.buttonClick()})("click",function(){return r.updateAvatar(r.imageUrl)}),l._uU(11,"Update"),l.qZA()()()()),2&i&&(l.xp6(7),l.Q6J("ngModel",r.imageUrl))},dependencies:[CM,Qh,cy,mM,TM,hy,dy],styles:[".card[_ngcontent-%COMP%]{width:23%;margin:auto}.card-header[_ngcontent-%COMP%]{font-variant:small-caps}input[_ngcontent-%COMP%]{font-size:18px;padding:10px 10px 10px 5px;display:block;width:300px;border:none;border-bottom:1px solid #757575}input[_ngcontent-%COMP%]:focus{outline:none}"]})}return n})();function K8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"app-profile-picture",12),l.NdJ("uploadavatar",function(r){l.CHM(t);const o=l.oxw();return l.KtG(o.onEvent(r))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("userId",t.currentUserId)("imageUrl",t.userAvatarUrl)}}let Y8=(()=>{class n{constructor(t,i){this.userService=t,this.firebaseService=i,this.userEmail="",this.username="",this.uploadavatar=!1,this.currentUserId="",this.userAvatarUrl=""}ngOnInit(){const t=this.userService.getCurrentUser();t&&this.userService.getUsers().subscribe(i=>{const r=i.find(o=>o.email===t.email);r&&r.username&&r.email&&r.avatar?(this.avatar=r.avatar,this.username=r.username,this.userEmail=r.email,this.userId=r.uid):console.log("Campi mancanti nei dati dell'utente.")})}toggleAvatar(){this.uploadavatar=!this.uploadavatar}onEvent(t){this.uploadavatar=t}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(W_),l.Y36(Vc))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-dashboard"]],decls:18,vars:4,consts:[[1,"card","mb-3",2,"max-width","540px"],[1,"row","g-0"],[1,"col-md-4"],[1,"card-img-top"],["type","submit",1,"btn","btn-light",3,"click"],["src","./assets/dashboard/upload-img.png",1,"upload"],[1,"col-md-8"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-body-secondary"],[3,"userId","imageUrl","uploadavatar",4,"ngIf"],[3,"userId","imageUrl","uploadavatar"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"img",3)(4,"br")(5,"br"),l.TgZ(6,"button",4),l.NdJ("click",function(){return r.uploadavatar=!0}),l._UZ(7,"img",5),l.qZA()(),l.TgZ(8,"div",6)(9,"div",7)(10,"h5",8),l._uU(11),l.qZA(),l.TgZ(12,"p",9),l._uU(13),l.qZA(),l.TgZ(14,"p",9)(15,"small",10),l._uU(16,"Last updated 3 mins ago"),l.qZA()()()()()(),l.YNc(17,K8,1,2,"app-profile-picture",11)),2&i&&(l.xp6(3),l.uIk("src",r.avatar,l.LSH),l.xp6(8),l.hij("Hello, ",r.username,""),l.xp6(2),l.hij("e-mail : ",r.userEmail,""),l.xp6(4),l.Q6J("ngIf",r.uploadavatar))},dependencies:[Pr,W8],styles:[".card-img-top[_ngcontent-%COMP%]{border-radius:100%;width:80px;border:2px solid #54595d}.card[_ngcontent-%COMP%]{margin-top:4%;margin-inline:auto;width:84em;display:flex;flex-flow:row wrap}.card-title[_ngcontent-%COMP%]{font-size:20px}.col-md-4[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]   btn-light[_ngcontent-%COMP%]{width:70%;height:70%;margin-inline:auto}.upload[_ngcontent-%COMP%]{width:20px}"]})}return n})(),Q8=(()=>{class n{constructor(t,i,r,o){this.firebase=t,this.db=i,this.router=r,this.afAuth=o,this.username="",this.userDocId="",this.seiregistrato=!0,this.registerEmail="",this.registerPassword="",this.avatar=" "}register(){""!=this.registerEmail?""==this.registerPassword||this.registerPassword.length<6?alert("Inserisci password valida. La password deve essere maggiore di 6 cifre."):(this.firebase.registrazione(this.username,this.registerEmail,this.registerPassword,[],this.avatar),this.registerEmail="",this.registerPassword=""):alert("Please enter email")}toggleRegistrato(){this.seiregistrato=!this.seiregistrato}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Vc),l.Y36(eU),l.Y36(Cr),l.Y36(Go))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-registrazione"]],features:[l._Bn([W_])],decls:13,vars:3,consts:[[1,"wrapper"],[1,"form-signin"],["type","text","name","username","placeholder","username",1,"form-control",3,"ngModel","ngModelChange"],["type","email","name","email","placeholder","email address",1,"form-control",3,"ngModel","ngModelChange"],["type","password","name","password","placeholder","password",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"bg-gray-950","hover:bg-gray-950","text-white","font-bold","py-2","px-4","border","border-blue-700","rounded",3,"click"],["routerLink","/login",1,"bg-gray-950","hover:bg-gray-950","text-white","font-bold","py-2","px-4","border","border-blue-700","rounded"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"form",1)(2,"h1"),l._uU(3,"Registrati:"),l.qZA(),l.TgZ(4,"input",2),l.NdJ("ngModelChange",function(u){return r.username=u}),l.qZA(),l.TgZ(5,"input",3),l.NdJ("ngModelChange",function(u){return r.registerEmail=u}),l.qZA(),l.TgZ(6,"input",4),l.NdJ("ngModelChange",function(u){return r.registerPassword=u}),l.qZA(),l.TgZ(7,"button",5),l.NdJ("click",function(){return r.register()}),l._uU(8,"Registrati"),l.qZA()(),l.TgZ(9,"p"),l._uU(10,"Sei registrato?"),l.qZA(),l.TgZ(11,"button",6),l._uU(12,"Login"),l.qZA()()),2&i&&(l.xp6(4),l.Q6J("ngModel",r.username),l.xp6(1),l.Q6J("ngModel",r.registerEmail),l.xp6(1),l.Q6J("ngModel",r.registerPassword))},dependencies:[$f,CM,Qh,cy,mM,hy,dy],styles:["body[_ngcontent-%COMP%]{background:#eee!important}.wrapper[_ngcontent-%COMP%]{margin-top:80px;margin-bottom:80px;text-align:center}.form-signin[_ngcontent-%COMP%]{max-width:380px;padding:15px 35px 45px;margin:0 auto;background-color:#fff;border:1px solid rgba(0,0,0,.1)}.checkbox[_ngcontent-%COMP%]{font-weight:400}.form-control[_ngcontent-%COMP%]{position:relative;font-size:16px;height:auto;padding:10px}input[type=text][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-left-radius:0;border-bottom-right-radius:0}input[type=password][_ngcontent-%COMP%]{margin-bottom:20px;border-top-left-radius:0;border-top-right-radius:0}"]})}return n})(),J8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-aboutus"]],decls:103,vars:0,consts:[[1,"content"],["role","list",1,"divide-y","divide-gray-100"],[1,"flex","justify-between","gap-x-6","py-5"],[1,"flex","min-w-0","gap-x-4"],["src","../../../assets/foto_fila/chiara.jpg","alt","",1,"h-12","w-12","flex-none","rounded-full","bg-gray-50"],[1,"min-w-0","flex-auto"],[1,"text-sm","font-semibold","leading-6","text-gray-900"],[1,"mt-1","truncate","text-xs","leading-5","text-gray-500"],["href","https://www.linkedin.com/in/chiara-ferrara-41273a265/"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 448 512"],["d","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"],[1,"hidden","shrink-0","sm:flex","sm:flex-col","sm:items-end"],[1,"text-sm","leading-6","text-gray-900"],["src","../../../assets/foto_fila/gianmarco.jpg","alt","",1,"h-12","w-12","flex-none","rounded-full","bg-gray-50"],["href","https://www.linkedin.com/in/gianmarco-cul%C3%B2-139331253/"],["src","../../../assets/foto_fila/alberto.jpg","alt","",1,"h-12","w-12","flex-none","rounded-full","bg-gray-50"],["href","https://www.linkedin.com/in/alberto-cangialosi-150833265/"],[1,"mt-1","flex","items-center","gap-x-1.5"],["src","../../../assets/foto_fila/fatima.png","alt","",1,"h-12","w-12","flex-none","rounded-full","bg-gray-50"],["href","https://www.linkedin.com/in/fatima-cangialosi-645901207/"],["src","../../../assets/foto_fila/gabriele.jpg","alt","",1,"h-12","w-12","flex-none","rounded-full","bg-gray-50"],["href","https://github.com/Rizaaal"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 496 512"],["d","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"],["src","../../../assets/foto_fila/massimiliano.jpg","alt","",1,"h-12","w-12","flex-none","rounded-full","bg-gray-50"],["href","https://www.linkedin.com/in/massimiliano-corsini/"],["src","../../../assets/foto_fila/stefano.jpg","alt","",1,"h-12","w-12","flex-none","rounded-full","bg-gray-50"],["href","https://www.linkedin.com/in/stefano-cammarata-b4a147218/"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"ul",1)(2,"li",2)(3,"div",3),l._UZ(4,"img",4),l.TgZ(5,"div",5)(6,"p",6),l._uU(7,"Chiara Ferrara"),l.qZA(),l.TgZ(8,"p",7),l._uU(9,"chiara.ferrara@stevejobs.academy"),l.qZA(),l.TgZ(10,"a",8),l.O4$(),l.TgZ(11,"svg",9),l._UZ(12,"path",10),l.qZA()()()(),l.kcU(),l.TgZ(13,"div",11)(14,"p",12),l._uU(15,"Developer"),l.qZA()()(),l.TgZ(16,"li",2)(17,"div",3),l._UZ(18,"img",13),l.TgZ(19,"div",5)(20,"p",6),l._uU(21,"Gianmarco Cul\xf2"),l.qZA(),l.TgZ(22,"p",7),l._uU(23,"gianmarco.c@stevejobs.academy"),l.qZA(),l.TgZ(24,"a",14),l.O4$(),l.TgZ(25,"svg",9),l._UZ(26,"path",10),l.qZA()()()(),l.kcU(),l.TgZ(27,"div",11)(28,"p",12),l._uU(29,"Developer"),l.qZA()()(),l.TgZ(30,"li",2)(31,"div",3),l._UZ(32,"img",15),l.TgZ(33,"div",5)(34,"p",6),l._uU(35,"Alberto Cangialosi"),l.qZA(),l.TgZ(36,"p",7),l._uU(37,"alberto.cangialosi@stevejobs.academy"),l.qZA(),l.TgZ(38,"a",16),l.O4$(),l.TgZ(39,"svg",9),l._UZ(40,"path",10),l.qZA()()()(),l.kcU(),l.TgZ(41,"div",11)(42,"p",12),l._uU(43,"Developer"),l.qZA(),l._UZ(44,"div",17),l.qZA()(),l.TgZ(45,"li",2)(46,"div",3),l._UZ(47,"img",18),l.TgZ(48,"div",5)(49,"p",6),l._uU(50,"Fatima Cangialosi"),l.qZA(),l.TgZ(51,"p",7),l._uU(52,"fatima.cangialosi@stevejobs.academy"),l.qZA(),l.TgZ(53,"a",19),l.O4$(),l.TgZ(54,"svg",9),l._UZ(55,"path",10),l.qZA()()()(),l.kcU(),l.TgZ(56,"div",11)(57,"p",12),l._uU(58,"Developer"),l.qZA()()(),l.TgZ(59,"li",2)(60,"div",3),l._UZ(61,"img",20),l.TgZ(62,"div",5)(63,"p",6),l._uU(64,"Gabriele di Grazia"),l.qZA(),l.TgZ(65,"p",7),l._uU(66,"gabriele.digrazia@stevejobs.academy"),l.qZA(),l.TgZ(67,"a",21),l.O4$(),l.TgZ(68,"svg",22),l._UZ(69,"path",23),l.qZA()()()(),l.kcU(),l.TgZ(70,"div",11)(71,"p",12),l._uU(72,"Developer"),l.qZA()()(),l.TgZ(73,"li",2)(74,"div",3),l._UZ(75,"img",24),l.TgZ(76,"div",5)(77,"p",6),l._uU(78,"Massimiliano Corsini"),l.qZA(),l.TgZ(79,"p",7),l._uU(80,"massimiliano.corsini@stevejobs.academy"),l.qZA(),l.TgZ(81,"a",25),l.O4$(),l.TgZ(82,"svg",9),l._UZ(83,"path",10),l.qZA()()()(),l.kcU(),l.TgZ(84,"div",11)(85,"p",12),l._uU(86,"Developer"),l.qZA(),l._UZ(87,"div",17),l.qZA()(),l.TgZ(88,"li",2)(89,"div",3),l._UZ(90,"img",26),l.TgZ(91,"div",5)(92,"p",6),l._uU(93,"Stefano Cammarata"),l.qZA(),l.TgZ(94,"p",7),l._uU(95,"stefano.cammarata@stevejobs.academy"),l.qZA(),l.TgZ(96,"a",27),l.O4$(),l.TgZ(97,"svg",9),l._UZ(98,"path",10),l.qZA()()()(),l.kcU(),l.TgZ(99,"div",11)(100,"p",12),l._uU(101,"Developer"),l.qZA(),l._UZ(102,"div",17),l.qZA()()()())},styles:[".content[_ngcontent-%COMP%]{width:60%;margin:auto}.linkedin[_ngcontent-%COMP%]{width:10%;height:10%}"]})}return n})();const IN_firebaseConfig={apiKey:"AIzaSyAgsPf8ri_L-QTFX6MJOy_IHl_SHw0FG3c",authDomain:"vinili-165f8.firebaseapp.com",projectId:"vinili-165f8",storageBucket:"vinili-165f8.appspot.com",messagingSenderId:"1093712895302",appId:"1:1093712895302:web:4c2b2847422aa2a997d947"};let X8=(()=>{class n{constructor(t){this.http=t,this.clientId="56337ff0ba5841e79dd2d0d4c717867f",this.clientSecret="6693dc56332445d1ba0ce4b32a4769af",this.getAuth=()=>{let i=new Uc;i=i.set("Authorization","Basic "+btoa(this.clientId+":"+this.clientSecret)),i=i.set("Content-Type","application/x-www-form-urlencoded");let r=new Xh;r=r.set("grant_type","client_credentials");let o=r.toString();return this.http.post("https://accounts.spotify.com/api/token",o,{headers:i}).pipe((0,tt.U)(u=>u))},this.searchMusic=(i,r="artist",o)=>{let u=new Uc;return u=u.set("Authorization","Bearer "+o),this.searchUrl="https://api.spotify.com/v1/search?query="+i+"&offset=0&limit=20&type="+r+"&market=US",this.http.get(this.searchUrl,{headers:u}).pipe((0,tt.U)(h=>h))}}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(DM))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eZ(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div")(2,"div"),l._uU(3),l.qZA()()()),2&n){const t=e.$implicit;l.xp6(3),l.Oqu(t)}}function tZ(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div")(2,"div")(3,"a",4),l._uU(4),l.qZA()(),l._UZ(5,"div"),l.YNc(6,eZ,4,1,"div",3),l.qZA()()),2&n){const t=e.$implicit;l.xp6(3),l.MGl("href","/artist/",t.id,"",l.LSH),l.xp6(1),l.Oqu(t.name),l.xp6(2),l.Q6J("ngForOf",t.genres)}}function nZ(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,tZ,7,3,"div",3),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.results)}}const iZ=[{path:"",component:qU,pathMatch:"full"},{path:"preferiti",component:f7},{path:"album/:id",component:d7},{path:"login",component:Z8},{path:"dashboard",component:Y8},{path:"search",component:(()=>{class n{constructor(t){this.spotify=t,this.query=new cN}ngOnInit(){this.query.valueChanges.pipe(nM(400),(0,Tc.x)(),(0,$n.w)(t=>this.spotify.getAuth().pipe((0,$n.w)(i=>this.spotify.searchMusic(t,"artist",i.access_token))))).subscribe(t=>{console.log(t.artists.items),this.results=t.artists.items})}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(X8))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-search"]],decls:11,vars:2,consts:[["type","text","placeholder","Search for Songs...",3,"formControl"],[1,"search","icon"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"href"]],template:function(i,r){1&i&&(l.TgZ(0,"h1"),l._uU(1,"Works?"),l.qZA(),l.TgZ(2,"div")(3,"h2"),l._uU(4,"Looking For Music?"),l.qZA(),l.TgZ(5,"div"),l._uU(6,"Enter an artist in the search box below to get all list of all theirs songs and albums"),l.qZA(),l.TgZ(7,"div"),l._UZ(8,"input",0)(9,"i",1),l.qZA()(),l.YNc(10,nZ,2,1,"div",2)),2&i&&(l.xp6(8),l.Q6J("formControl",r.query),l.xp6(2),l.Q6J("ngIf",r.results))},dependencies:[Ps,Pr,Qh,cy,dN]})}return n})()},{path:"add-disk",component:q8},{path:"registrati",component:Q8},{path:"about",component:J8},{path:"**",component:oq}];let A3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({imports:[tv.forRoot(iZ),tv]})}return n})();function rZ(n,e){1&n&&(l.TgZ(0,"li",13)(1,"a",4),l._UZ(2,"img",14),l.qZA()())}function sZ(n,e){1&n&&(l.TgZ(0,"li",15),l.O4$(),l.TgZ(1,"svg",16)(2,"style"),l._uU(3,"svg{fill:#000000}"),l.qZA(),l._UZ(4,"path",17),l.qZA()())}function oZ(n,e){1&n&&(l.TgZ(0,"li",18)(1,"a",4),l.O4$(),l.TgZ(2,"svg",16)(3,"style"),l._uU(4,"svg{fill:#000000}"),l.qZA(),l._UZ(5,"path",19),l.qZA()()())}function aZ(n,e){1&n&&(l.O4$(),l.kcU(),l.TgZ(0,"li",20)(1,"a",4),l.O4$(),l.TgZ(2,"svg",21)(3,"style"),l._uU(4,"svg{fill:#000000}"),l.qZA(),l._UZ(5,"path",22),l.qZA()()())}function lZ(n,e){if(1&n){const t=l.EpF();l.O4$(),l.kcU(),l.TgZ(0,"li",18)(1,"a",23),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.logout())}),l._UZ(2,"img",24),l.qZA()()}}let cZ=(()=>{class n{constructor(t,i){this.firebase=t,this.afAuth=i,this.isAuthenticated=!1,this.isLogout=new l.vpe}ngOnInit(){}logout(){this.firebase.logout(),this.isLogout.emit()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Vc),l.Y36(Go))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],inputs:{isAuthenticated:"isAuthenticated"},outputs:{isLogout:"isLogout"},decls:17,vars:5,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["id","logo","routerLink","/","src","assets/loghino.png","alt","I vinili di maurizio","width","2%"],["routerLink","",1,"nav-item","dropdown"],[1,"nav-link"],["src","./assets/navbar/home.png"],["class","nav-item dropdown","routerLink","/preferiti",4,"ngIf"],["class","nav-item dropdown","routerLink","/add-disk",4,"ngIf"],["class","nav-item dropdown","routerLink","/dashboard",4,"ngIf"],["routerLink","/about",1,"nav-item","dropdown"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 640 512"],["d","M96 0C43 0 0 43 0 96V416c0 53 43 96 96 96H544c53 0 96-43 96-96V96c0-53-43-96-96-96H96zM64 96c0-17.7 14.3-32 32-32H544c17.7 0 32 14.3 32 32V416c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V96zm159.8 80a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM96 309.3c0 14.7 11.9 26.7 26.7 26.7h56.1c8-34.1 32.8-61.7 65.2-73.6c-7.5-4.1-16.2-6.4-25.3-6.4H149.3C119.9 256 96 279.9 96 309.3zM461.2 336h56.1c14.7 0 26.7-11.9 26.7-26.7c0-29.5-23.9-53.3-53.3-53.3H421.3c-9.2 0-17.8 2.3-25.3 6.4c32.4 11.9 57.2 39.5 65.2 73.6zM372 289c-3.9-.7-7.9-1-12-1H280c-4.1 0-8.1 .3-12 1c-26 4.4-47.3 22.7-55.9 47c-2.7 7.5-4.1 15.6-4.1 24c0 13.3 10.7 24 24 24H408c13.3 0 24-10.7 24-24c0-8.4-1.4-16.5-4.1-24c-8.6-24.3-29.9-42.6-55.9-47zM512 176a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM320 256a64 64 0 1 0 0-128 64 64 0 1 0 0 128z"],["class","nav-item dropdown","routerLink","/login",4,"ngIf"],["routerLink","/preferiti",1,"nav-item","dropdown"],["src","./assets/navbar/vinyl.png"],["routerLink","/add-disk",1,"nav-item","dropdown"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 448 512"],["d","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"],["routerLink","/dashboard",1,"nav-item","dropdown"],["d","M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z"],["routerLink","/login",1,"nav-item","dropdown"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 512 512"],["d","M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"],[1,"nav-link",3,"click"],["src","https://cdn.icon-icons.com/icons2/2518/PNG/512/logout_icon_151219.png",2,"width","20px","height","20px"]],template:function(i,r){1&i&&(l.TgZ(0,"nav",0)(1,"div",1),l._UZ(2,"img",2),l.TgZ(3,"li",3)(4,"a",4),l._UZ(5,"img",5),l.qZA()(),l.YNc(6,rZ,3,0,"li",6),l.YNc(7,sZ,5,0,"li",7),l.YNc(8,oZ,6,0,"li",8),l.TgZ(9,"li",9)(10,"a",4),l.O4$(),l.TgZ(11,"svg",10)(12,"style"),l._uU(13,"svg{fill:#000000}"),l.qZA(),l._UZ(14,"path",11),l.qZA()()(),l.YNc(15,aZ,6,0,"li",12),l.YNc(16,lZ,3,0,"li",8),l.qZA()()),2&i&&(l.xp6(6),l.Q6J("ngIf",r.isAuthenticated),l.xp6(1),l.Q6J("ngIf",r.isAuthenticated),l.xp6(1),l.Q6J("ngIf",r.isAuthenticated),l.xp6(7),l.Q6J("ngIf",!r.isAuthenticated),l.xp6(1),l.Q6J("ngIf",r.isAuthenticated))},dependencies:[Pr,$f],styles:['@import"https://fonts.googleapis.com/css2?family=Mohave:wght@500&display=swap";@import"https://fonts.googleapis.com/css?family=Raleway:300,500,700";nav[_ngcontent-%COMP%]{font-size:1.2em;font-family:Raleway,sans-serif;position:fixed;z-index:1000;width:100%;background-color:transparent}.dropdown[_ngcontent-%COMP%]{display:flex}.dropdown[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}.navbar-nav[_ngcontent-%COMP%]{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-evenly;align-content:center}.container-fluid[_ngcontent-%COMP%]{justify-content:space-evenly;align-content:center}.collapse[_ngcontent-%COMP%]{display:initial;flex-basis:auto}.nav-item[_ngcontent-%COMP%]{transition:color .2s}a[_ngcontent-%COMP%]:hover, .nav-item[_ngcontent-%COMP%]:hover{color:#0c0c7c;cursor:pointer}img#logo[_ngcontent-%COMP%]:hover{cursor:pointer}@media (max-width: 768px){#logo[_ngcontent-%COMP%]{width:0;visibility:hidden}.nav-link[_ngcontent-%COMP%]{margin-inline:10px}}']})}return n})();const uZ=["nextButton"];let dZ=(()=>{class n{constructor(t,i){this.servizio=t,this.renderer=i,this.sources=[],this.isNext=!0,this.transitionClass="transizione"}get currentImage(){return this.sources[this.servizio.currentSlideIndex]}ngAfterViewInit(){setInterval(()=>{this.changeImageWithTransition()},8e3)}ngOnInit(){this.sources=this.servizio.carousel}changeImageWithTransition(){this.transitionClass="fade-out",setTimeout(()=>{this.simulateButtonClick(this.nextButton),setTimeout(()=>{this.transitionClass=""},800)},800)}simulateButtonClick(t){this.renderer.selectRootElement(t.nativeElement).click()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(hM),l.Y36(l.Qsj))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-carosello"]],viewQuery:function(i,r){if(1&i&&l.Gf(uZ,5),2&i){let o;l.iGM(o=l.CRH())&&(r.nextButton=o.first)}},decls:16,vars:3,consts:[[1,"carousel"],[1,"image-container"],[3,"src"],[1,"prec",3,"click"],["prevButton",""],[1,"succ",3,"click"],["nextButton",""],["id","container"],[1,"learn-more"],["aria-hidden","true",1,"circle"],[1,"icon","arrow"],[1,"button-text"]],template:function(i,r){1&i&&(l.TgZ(0,"body")(1,"div",0)(2,"div",1),l._UZ(3,"img",2),l.qZA(),l.TgZ(4,"button",3,4),l.NdJ("click",function(){return r.servizio.prevSlide()}),l._uU(6,"\u2039"),l.qZA(),l.TgZ(7,"button",5,6),l.NdJ("click",function(){return r.servizio.nextSlide()}),l._uU(9,"\u203a"),l.qZA()(),l.TgZ(10,"div",7)(11,"button",8)(12,"span",9),l._UZ(13,"span",10),l.qZA(),l.TgZ(14,"span",11),l._uU(15,"Learn More"),l.qZA()()()()),2&i&&(l.xp6(2),l.ekj("fade-out","fade-out"===r.transitionClass),l.xp6(1),l.Q6J("src",r.currentImage,l.LSH))},styles:['@import"https://fonts.googleapis.com/css?family=Mukta:700";.carousel[_ngcontent-%COMP%]{max-width:-moz-fit-content;max-width:fit-content;position:relative;background-color:transparent}.image-container[_ngcontent-%COMP%]{width:100%;height:100%}img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;opacity:94%}.image-container[_ngcontent-%COMP%]{transition:opacity .5s ease-in-out}.fade-out[_ngcontent-%COMP%]{opacity:0}.prec[_ngcontent-%COMP%], .succ[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:40%;width:40px;height:40px;border:2px solid transparent;font-size:22px;border-radius:50%;text-align:center;background-color:#fff;margin-inline:2%}.succ[_ngcontent-%COMP%]{right:0;color:#000}.prec[_ngcontent-%COMP%]:hover, .succ[_ngcontent-%COMP%]:hover{background-color:#000;color:#000}.succ[_ngcontent-%COMP%]{color:#000}@media screen and (max-width: 768px){.carousel[_ngcontent-%COMP%]{visibility:hidden;height:-moz-fit-content;height:fit-content}img[_ngcontent-%COMP%]{object-fit:scale-down}.prec[_ngcontent-%COMP%], .succ[_ngcontent-%COMP%]{width:20px;height:20px;padding:0}}body[_ngcontent-%COMP%]{font-family:Mukta,sans-serif;font-size:1rem;line-height:1.5;display:flex;flex-flow:column wrap;align-items:center;justify-content:center;height:60vh;margin:0;background:#f3f8fa;padding:0%}button[_ngcontent-%COMP%]{margin:auto;position:relative;display:inline-block;cursor:pointer;outline:none;border:0;vertical-align:middle;text-decoration:none;background:transparent;padding:0;font-size:inherit;font-family:inherit;width:12rem;height:auto}button[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]{transition:all .45s cubic-bezier(.65,0,.076,1);position:relative;display:block;margin:0;width:3rem;height:3rem;background:#0f0f0f;border-radius:1.625rem}button[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transition:all .45s cubic-bezier(.65,0,.076,1);position:absolute;top:0;bottom:0;margin:auto;background:#fff}button[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .icon.arrow[_ngcontent-%COMP%]{transition:all .45s cubic-bezier(.65,0,.076,1);left:.625rem;width:1.125rem;height:.125rem;background:none}button[_ngcontent-%COMP%]   .circle[_ngcontent-%COMP%]   .icon.arrow[_ngcontent-%COMP%]:before{position:absolute;content:"";top:-.25rem;right:.0625rem;width:.625rem;height:.625rem;border-top:.125rem solid #fff;border-right:.125rem solid #fff;transform:rotate(45deg)}button[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{transition:all .45s cubic-bezier(.65,0,.076,1);position:absolute;inset:0;padding:.75rem 0;color:#282936;font-weight:700;line-height:1.6;text-align:center;text-transform:uppercase}button[_ngcontent-%COMP%]:hover   .circle[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]:hover   .circle[_ngcontent-%COMP%]   .icon.arrow[_ngcontent-%COMP%]{background:#fff;transform:translate(1rem)}button[_ngcontent-%COMP%]:hover   .button-text[_ngcontent-%COMP%]{color:#fff}']})}return n})(),hZ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:37,vars:0,consts:[[1,"footer-distributed"],[1,"footer-left"],["src","../../../assets/logo-footer.png",2,"width","300px"],[1,"footer-links"],["href","../../../index.html",1,"link-1"],["href","#top"],[1,"footer-company-name"],[1,"footer-center"],["href","https://stevejobs.academy/","target","_blank"],["src","../../../assets/logo-sja.png",2,"width","300px"],["href","https://www.topnetwork.it/","target","_blank"],["src","../../../assets/logo-top-bianco.png",2,"width","300px"],[1,"footer-right"],[1,"footer-company-about"],[1,"footer-icons"],["href","https://www.linkedin.com/in/alberto-cangialosi-150833265/","target","_blank"],["src","../../../assets/foto_fila/alberto.jpg",2,"width","35px"],["href","https://www.linkedin.com/in/chiara-ferrara-41273a265/","target","_blank"],["src","../../../assets/foto_fila/chiara.jpg",2,"width","35px"],["href","https://www.linkedin.com/in/fatima-cangialosi-645901207/","target","_blank"],["src","../../../assets/foto_fila/fatima.png",2,"width","35px"],["href","https://github.com/Rizaaal","target","_blank"],["src","../../../assets/foto_fila/gabriele.jpg",2,"width","35px"],["href","https://www.linkedin.com/in/gianmarco-cul%C3%B2-139331253/","target","_blank"],["src","../../../assets/foto_fila/gianmarco.jpg",2,"width","35px"],["href","https://www.linkedin.com/in/massimiliano-corsini/","target","_blank"],["src","../../../assets/foto_fila/massimiliano.jpg",2,"width","35px"],["href","https://www.linkedin.com/in/stefano-cammarata-b4a147218/","target","_blank"],["src","../../../assets/foto_fila/stefano.jpg",2,"width","35px"]],template:function(i,r){1&i&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"img",2),l.TgZ(3,"p",3)(4,"a",4),l._uU(5,"Home"),l.qZA(),l.TgZ(6,"a",5),l._uU(7,"Sali in cima"),l.qZA()(),l.TgZ(8,"p",6),l._uU(9,"I Vinili di Maurizio \xa9 2024 - Tutti i diritti riservati"),l.qZA()(),l.TgZ(10,"div",7)(11,"div")(12,"a",8),l._UZ(13,"img",9),l.qZA(),l._UZ(14,"br"),l.TgZ(15,"a",10),l._UZ(16,"img",11),l.qZA()()(),l.TgZ(17,"div",12)(18,"p",13)(19,"span"),l._uU(20,"Progetto I Vinili di Maurizio"),l.qZA(),l._uU(21," Questo progetto \xe8 stato realizzato da Chiara Ferrara, Gabriele Di Grazia, Alberto Cangialosi, Gianmarco Cul\xf2, Massimiliano Corsini, Fatima Cangialosi, Stefano Cammarata a scopi educativi. "),l.qZA(),l.TgZ(22,"div",14)(23,"a",15),l._UZ(24,"img",16),l.qZA(),l.TgZ(25,"a",17),l._UZ(26,"img",18),l.qZA(),l.TgZ(27,"a",19),l._UZ(28,"img",20),l.qZA(),l.TgZ(29,"a",21),l._UZ(30,"img",22),l.qZA(),l.TgZ(31,"a",23),l._UZ(32,"img",24),l.qZA(),l.TgZ(33,"a",25),l._UZ(34,"img",26),l.qZA(),l.TgZ(35,"a",27),l._UZ(36,"img",28),l.qZA()()()())},styles:['.footer-distributed[_ngcontent-%COMP%]{background:#1b2e40;box-shadow:0 1px 1px #0000001f;box-sizing:border-box;width:100%;text-align:left;font:700 16px sans-serif;padding:55px 50px;margin-top:100px}.footer-distributed[_ngcontent-%COMP%]   .footer-left[_ngcontent-%COMP%], .footer-distributed[_ngcontent-%COMP%]   .footer-center[_ngcontent-%COMP%], .footer-distributed[_ngcontent-%COMP%]   .footer-right[_ngcontent-%COMP%]{display:inline-block;vertical-align:top}.footer-distributed[_ngcontent-%COMP%]   .footer-left[_ngcontent-%COMP%]{width:40%}.footer-distributed[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font: 36px Open Sans,cursive;margin:0}.footer-distributed[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#20b2aa}.footer-distributed[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]{color:#fff;margin:20px 0 12px;padding:0}.footer-distributed[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;line-height:1.8;font-weight:400;text-decoration:none;color:inherit}.footer-distributed[_ngcontent-%COMP%]   .footer-company-name[_ngcontent-%COMP%]{color:#fff;font-size:14px;font-weight:400;margin:0}.footer-distributed[_ngcontent-%COMP%]   .footer-center[_ngcontent-%COMP%]{width:35%}.footer-distributed[_ngcontent-%COMP%]   .footer-center[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-color:#33383b;color:#fff;font-size:25px;width:38px;height:38px;border-radius:50%;text-align:center;line-height:42px;margin:10px 15px;vertical-align:middle}.footer-distributed[_ngcontent-%COMP%]   .footer-center[_ngcontent-%COMP%]   i.fa-envelope[_ngcontent-%COMP%]{font-size:17px;line-height:38px}.footer-distributed[_ngcontent-%COMP%]   .footer-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;color:#fff;font-weight:400;vertical-align:middle;margin:0}.footer-distributed[_ngcontent-%COMP%]   .footer-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-weight:400;font-size:14px;line-height:2}.footer-distributed[_ngcontent-%COMP%]   .footer-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#20b2aa;text-decoration:none}.footer-distributed[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{content:"-";font-weight:300;font-size:20px;left:0;color:#fff;display:inline-block;padding-right:5px;padding-left:5px}.footer-distributed[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   .link-1[_ngcontent-%COMP%]:before{content:none}.footer-distributed[_ngcontent-%COMP%]   .footer-right[_ngcontent-%COMP%]{width:20%}.footer-distributed[_ngcontent-%COMP%]   .footer-company-about[_ngcontent-%COMP%]{line-height:20px;color:#fff;font-size:13px;font-weight:400;margin:0}.footer-distributed[_ngcontent-%COMP%]   .footer-company-about[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#fff;font-size:14px;font-weight:700;margin-bottom:20px}.footer-distributed[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]{margin-top:25px}.footer-distributed[_ngcontent-%COMP%]   .footer-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;width:35px;height:35px;cursor:pointer;background-color:#33383b;border-radius:2px;font-size:20px;color:#fff;text-align:center;line-height:35px;margin-right:3px;margin-bottom:5px}.flex-parent[_ngcontent-%COMP%]{display:flex}.jc-center[_ngcontent-%COMP%]{justify-content:center}.btn_primary[_ngcontent-%COMP%]{border:none;outline:none;background:linear-gradient(90deg,#e94623,#067d95);padding:1.5rem 2rem;border-radius:50px;color:#fff;font-size:1rem;box-shadow:1px 10px 2rem #ff5e6280;transition:all .2s ease-in;text-decoration:none;place-items:center}@media (max-width: 1000px){.footer-distributed[_ngcontent-%COMP%]{font:700 14px sans-serif}.footer-distributed[_ngcontent-%COMP%]   .footer-left[_ngcontent-%COMP%], .footer-distributed[_ngcontent-%COMP%]   .footer-center[_ngcontent-%COMP%], .footer-distributed[_ngcontent-%COMP%]   .footer-right[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:40px;text-align:center}.footer-distributed[_ngcontent-%COMP%]   .footer-center[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:0}}']})}return n})(),fZ=(()=>{class n{constructor(t,i){this.firebase=t,this.router=i,this.isSignedIn=!0,this.isAuthenticated=!1,this.title="ViniliMaurizio",this.genreSelected="all",t.isAuthenticated$.subscribe(r=>{this.isAuthenticated=r})}updateSelectedGenre(t){this.genreSelected=t}onInit(){console.log(this.genreSelected),1==this.isAuthenticated&&console.log("You are logged in")}faiLogout(){this.isSignedIn=!1}viewDashboard(){this.firebase.viewDashboard()}static#e=this.\u0275fac=function(i){return new(i||n)(l.Y36(Vc),l.Y36(Cr))};static#t=this.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],inputs:{albumId:"albumId"},decls:4,vars:1,consts:[[3,"isAuthenticated","dashboardClicked"]],template:function(i,r){1&i&&(l.TgZ(0,"app-navbar",0),l.NdJ("dashboardClicked",function(){return r.viewDashboard()}),l.qZA(),l._UZ(1,"app-carosello")(2,"router-outlet")(3,"app-footer")),2&i&&l.Q6J("isAuthenticated",r.isAuthenticated)},dependencies:[rh,cZ,dZ,hZ]})}return n})();function M3(n){return new l.vHH(3e3,!1)}function ym(n){switch(n.length){case 0:return new kI;case 1:return n[0];default:return new OU(n)}}function R3(n,e,t=new Map,i=new Map){const r=[],o=[];let u=-1,h=null;if(e.forEach(m=>{const y=m.get("offset"),I=y==u,D=I&&h||new Map;m.forEach((R,V)=>{let j=V,W=R;if("offset"!==V)switch(j=n.normalizePropertyName(j,r),W){case"!":W=t.get(V);break;case Kh:W=i.get(V);break;default:W=n.normalizeStyleValue(V,j,W,r)}D.set(j,W)}),I||o.push(D),h=D,u=y}),r.length)throw function FZ(n){return new l.vHH(3502,!1)}();return o}function TN(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&xN(t,"start",n)));break;case"done":n.onDone(()=>i(t&&xN(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&xN(t,"destroy",n)))}}function xN(n,e,t){const o=DN(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(o._data=u),o}function DN(n,e,t,i,r="",o=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Fa(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function k3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const WZ=(()=>typeof document>"u"?null:document.documentElement)();function SN(n){const e=n.parentNode||n.host||null;return e===WZ?null:e}let gy=null,O3=!1;function P3(n,e){for(;e;){if(e===n)return!0;e=SN(e)}return!1}function N3(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let F3=(()=>{class n{validateStyleProperty(t){return function YZ(n){gy||(gy=function QZ(){return typeof document<"u"?document.body:null}()||{},O3=!!gy.style&&"WebkitAppearance"in gy.style);let e=!0;return gy.style&&!function KZ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in gy.style,!e&&O3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in gy.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return P3(t,i)}getParentElement(t){return SN(t)}query(t,i,r){return N3(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,u,h=[],m){return new kI(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})(),AN=(()=>{class n{static#e=this.NOOP=new F3}return n})();const JZ=1e3,MN="ng-enter",PM="ng-leave",NM="ng-trigger",FM=".ng-trigger",V3="ng-animating",RN=".ng-animating";function ef(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:kN(parseFloat(e[1]),e[2])}function kN(n,e){return"s"===e?n*JZ:n}function LM(n,e,t){return n.hasOwnProperty("duration")?n:function eW(n,e,t){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(M3()),{duration:0,delay:0,easing:""};r=kN(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(o=kN(parseFloat(m),h[4]));const y=h[5];y&&(u=y)}else r=n;if(!t){let h=!1,m=e.length;r<0&&(e.push(function pZ(){return new l.vHH(3100,!1)}()),h=!0),o<0&&(e.push(function mZ(){return new l.vHH(3101,!1)}()),h=!0),h&&e.splice(m,0,M3())}return{duration:r,delay:o,easing:u}}(n,e,t)}function HI(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function U3(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function vm(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function pd(n,e,t){e.forEach((i,r)=>{const o=PN(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function _y(n,e){e.forEach((t,i)=>{const r=PN(i);n.style[r]=""})}function zI(n){return Array.isArray(n)?1==n.length?n[0]:kU(n):n}const ON=new RegExp("{{\\s*(.+?)\\s*}}","g");function j3(n){let e=[];if("string"==typeof n){let t;for(;t=ON.exec(n);)e.push(t[1]);ON.lastIndex=0}return e}function $I(n,e,t){const i=n.toString(),r=i.replace(ON,(o,u)=>{let h=e[u];return null==h&&(t.push(function _Z(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function VM(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const iW=/-+([a-z0-9])/g;function PN(n){return n.replace(iW,(...e)=>e[1].toUpperCase())}function La(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function yZ(n){return new l.vHH(3004,!1)}()}}function H3(n,e){return window.getComputedStyle(n)[e]}const UM="*";function oW(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function aW(n,e,t){if(":"==n[0]){const m=function lW(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function kZ(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function RZ(n){return new l.vHH(3015,!1)}()),e;const r=i[1],o=i[2],u=i[3];e.push(z3(r,u));"<"==o[0]&&!(r==UM&&u==UM)&&e.push(z3(u,r))}(i,t,e)):t.push(n),t}const BM=new Set(["true","1"]),jM=new Set(["false","0"]);function z3(n,e){const t=BM.has(n)||jM.has(n),i=BM.has(e)||jM.has(e);return(r,o)=>{let u=n==UM||n==r,h=e==UM||e==o;return!u&&t&&"boolean"==typeof r&&(u=r?BM.has(n):jM.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?BM.has(e):jM.has(e)),u&&h}}const cW=new RegExp("s*:selfs*,?","g");function NN(n,e,t,i){return new uW(n).build(e,t,i)}class uW{constructor(e){this._driver=e}build(e,t,i){const r=new fW(t);return this._resetContextStyleTimingState(r),La(this,zI(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function bZ(){return new l.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const m=h,y=m.name;y.toString().split(/\s*,\s*/).forEach(I=>{m.name=I,o.push(this.visitState(m,t))}),m.name=y}else if(1==h.type){const m=this.visitTransition(h,t);i+=m.queryCount,r+=m.depCount,u.push(m)}else t.errors.push(function wZ(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{j3(m).forEach(y=>{u.hasOwnProperty(y)||o.add(y)})})}),o.size&&(VM(o.values()),t.errors.push(function EZ(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=La(this,zI(e.animation),t);return{type:1,matchers:oW(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:yy(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>La(this,i,t)),options:yy(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(u=>{t.currentTime=i;const h=La(this,u,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:o,options:yy(e.options)}}visitAnimate(e,t){const i=function mW(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return FN(LM(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=FN(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=LM(t,e);return FN(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Yh({});if(5==o.type)r=this.visitKeyframes(o,t);else{let u=e.styles,h=!1;if(!u){h=!0;const y={};i.easing&&(y.easing=i.easing),u=Yh(y)}t.currentTime+=i.duration+i.delay;const m=this.visitStyle(u,t);m.isEmptyStep=h,r=m}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===Kh?i.push(h):t.errors.push(new l.vHH(3002,!1)):i.push(U3(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let m of h.values())if(m.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,m)=>{const y=t.collectedStyles.get(t.currentQuerySelector),I=y.get(m);let D=!0;I&&(o!=r&&o>=I.startTime&&r<=I.endTime&&(t.errors.push(function IZ(n,e,t,i,r){return new l.vHH(3010,!1)}()),D=!1),o=I.startTime),D&&y.set(m,{startTime:o,endTime:r}),t.options&&function nW(n,e,t){const i=e.params||{},r=j3(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function gZ(n){return new l.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function TZ(){return new l.vHH(3011,!1)}()),i;let o=0;const u=[];let h=!1,m=!1,y=0;const I=e.steps.map(je=>{const Ge=this._makeStyleAst(je,t);let Xe=null!=Ge.offset?Ge.offset:function pW(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ge.styles),ct=0;return null!=Xe&&(o++,ct=Ge.offset=Xe),m=m||ct<0||ct>1,h=h||ct<y,y=ct,u.push(ct),Ge});m&&t.errors.push(function xZ(){return new l.vHH(3012,!1)}()),h&&t.errors.push(function DZ(){return new l.vHH(3200,!1)}());const D=e.steps.length;let R=0;o>0&&o<D?t.errors.push(function SZ(){return new l.vHH(3202,!1)}()):0==o&&(R=1/(D-1));const V=D-1,j=t.currentTime,W=t.currentAnimateTimings,fe=W.duration;return I.forEach((je,Ge)=>{const Xe=R>0?Ge==V?1:R*Ge:u[Ge],ct=Xe*fe;t.currentTime=j+W.delay+ct,W.duration=ct,this._validateStyleAst(je,t),je.offset=Xe,i.styles.push(je)}),i}visitReference(e,t){return{type:8,animation:La(this,zI(e.animation),t),options:yy(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:yy(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:yy(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,u]=function dW(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(cW,"")),n=n.replace(/@\*/g,FM).replace(/@\w+/g,t=>FM+"-"+t.slice(1)).replace(/:animating/g,RN),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Fa(t.collectedStyles,t.currentQuerySelector,new Map);const h=La(this,zI(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:yy(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function AZ(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:LM(e.timings,t.errors,!0);return{type:12,animation:La(this,zI(e.animation),t),timings:i,options:null}}}class fW{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yy(n){return n?(n=HI(n)).params&&(n.params=function hW(n){return n?HI(n):null}(n.params)):n={},n}function FN(n,e,t){return{duration:n,delay:e,easing:t}}function LN(n,e,t,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class HM{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const yW=new RegExp(":enter","g"),bW=new RegExp(":leave","g");function VN(n,e,t,i,r,o=new Map,u=new Map,h,m,y=[]){return(new wW).buildKeyframes(n,e,t,i,r,o,u,h,m,y)}class wW{buildKeyframes(e,t,i,r,o,u,h,m,y,I=[]){y=y||new HM;const D=new UN(e,t,y,r,o,I,[]);D.options=m;const R=m.delay?ef(m.delay):0;D.currentTimeline.delayNextStep(R),D.currentTimeline.setStyles([u],null,D.errors,m),La(this,i,D);const V=D.timelines.filter(j=>j.containsAnimation());if(V.length&&h.size){let j;for(let W=V.length-1;W>=0;W--){const fe=V[W];if(fe.element===t){j=fe;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([h],null,D.errors,m)}return V.length?V.map(j=>j.buildKeyframes()):[LN(t,[],[],[],0,R,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const u="number"==typeof o?o:ef($I(o,r?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const u=null!=i.duration?ef(i.duration):null,h=null!=i.delay?ef(i.delay):null;return 0!==u&&e.forEach(m=>{const y=t.appendInstructionToTimeline(m,u,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),La(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=zM);const u=ef(o.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>La(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?ef(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),La(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return LM(t.params?$I(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(m=>{h.forwardTime((m.offset||0)*o),h.setStyles(m.styles,m.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?ef(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=zM);let u=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let m=null;h.forEach((y,I)=>{t.currentQueryIndex=I;const D=t.createSubContext(e.options,y);o&&D.delayNextStep(o),y===t.element&&(m=D.currentTimeline),La(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,u=Math.abs(o.duration),h=u*(t.currentQueryTotal-1);let m=u*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime}const I=t.currentTimeline;m&&I.delayNextStep(m);const D=I.currentTime;La(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const zM={};class UN{constructor(e,t,i,r,o,u,h,m){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zM,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new $M(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=ef(i.duration)),null!=i.delay&&(r.delay=ef(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=$I(o[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new UN(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=zM,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new EW(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,u){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(yW,"."+this._enterClassName)).replace(bW,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!o&&0==h.length&&u.push(function MZ(n){return new l.vHH(3014,!1)}()),h}}class $M{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new $M(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Kh),this._currentKeyframe.set(t,Kh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},u=function CW(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Kh)}else vm(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,m]of u){const y=$I(m,o,i);this._pendingStyles.set(h,y),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Kh),this._updateStyle(h,y)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,m)=>{const y=vm(h,new Map,this._backFill);y.forEach((I,D)=>{"!"===I?e.add(D):I===Kh&&t.add(D)}),i||y.set("offset",m/this.duration),r.push(y)});const o=e.size?VM(e.values()):[],u=t.size?VM(t.values()):[];if(i){const h=r[0],m=new Map(h);h.set("offset",0),m.set("offset",1),r=[h,m]}return LN(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class EW extends $M{constructor(e,t,i,r,o,u,h=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],u=i+t,h=t/u,m=vm(e[0]);m.set("offset",0),o.push(m);const y=vm(e[0]);y.set("offset",q3(h)),o.push(y);const I=e.length-1;for(let D=1;D<=I;D++){let R=vm(e[D]);const V=R.get("offset");R.set("offset",q3((t+V*i)/u)),o.push(R)}i=u,t=0,r="",e=o}return LN(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function q3(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class BN{}const IW=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class TW extends BN{normalizePropertyName(e,t){return PN(e)}normalizeStyleValue(e,t,i,r){let o="";const u=i.toString().trim();if(IW.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function vZ(n,e){return new l.vHH(3005,!1)}())}return u+o}}function Z3(n,e,t,i,r,o,u,h,m,y,I,D,R){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:m,preStyleProps:y,postStyleProps:I,totalTime:D,errors:R}}const jN={};class W3{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function xW(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,u,h,m,y,I){const D=[],R=this.ast.options&&this.ast.options.params||jN,j=this.buildStyles(i,h&&h.params||jN,D),W=m&&m.params||jN,fe=this.buildStyles(r,W,D),je=new Set,Ge=new Map,Xe=new Map,ct="void"===r,Rt={params:DW(W,R),delay:this.ast.options?.delay},Vt=I?[]:VN(e,t,this.ast.animation,o,u,j,fe,Rt,y,D);let gn=0;if(Vt.forEach(Bl=>{gn=Math.max(Bl.duration+Bl.delay,gn)}),D.length)return Z3(t,this._triggerName,i,r,ct,j,fe,[],[],Ge,Xe,gn,D);Vt.forEach(Bl=>{const tf=Bl.element,cj=Fa(Ge,tf,new Set);Bl.preStyleProps.forEach(vy=>cj.add(vy));const qI=Fa(Xe,tf,new Set);Bl.postStyleProps.forEach(vy=>qI.add(vy)),tf!==t&&je.add(tf)});const cs=VM(je.values());return Z3(t,this._triggerName,i,r,ct,j,fe,Vt,cs,Ge,Xe,gn)}}function DW(n,e){const t=HI(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class SW{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=HI(this.defaultParams);return Object.keys(e).forEach(o=>{const u=e[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=$I(u,r,t));const m=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,m,u,t),i.set(h,u)})}),i}}class MW{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new SW(r.style,r.options&&r.options.params||{},i))}),K3(this.states,"true","1"),K3(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new W3(e,r,this.states))}),this.fallbackTransition=function RW(n,e,t){return new W3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function K3(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const kW=new HM;class OW{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=NN(this._driver,t,i,[]);if(i.length)throw function LZ(n){return new l.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=R3(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let u;const h=new Map;if(o?(u=VN(this._driver,t,o,MN,PM,new Map,new Map,i,kW,r),u.forEach(I=>{const D=Fa(h,I.element,new Map);I.postStyleProps.forEach(R=>D.set(R,null))})):(r.push(function VZ(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function UZ(n){return new l.vHH(3504,!1)}();h.forEach((I,D)=>{I.forEach((R,V)=>{I.set(V,this._driver.computeStyle(D,V,Kh))})});const y=ym(u.map(I=>{const D=h.get(I.element);return this._buildPlayer(I,new Map,D)}));return this._playersById.set(e,y),y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function BZ(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const o=DN(t,"","","");return TN(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Y3="ng-animate-queued",HN="ng-animate-disabled",VW=[],Q3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},UW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bc="__ng_removed";class zN{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function zW(n){return n??null}(i?e.value:e),i){const o=HI(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const GI="void",$N=new zN(GI);class BW{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ul(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function jZ(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function HZ(n){return new l.vHH(3303,!1)}();if(!function $W(n){return"start"==n||"done"==n}(i))throw function zZ(n,e){return new l.vHH(3400,!1)}();const o=Fa(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};o.push(u);const h=Fa(this._engine.statesByElement,e,new Map);return h.has(t)||(Ul(e,NM),Ul(e,NM+"-"+t),h.set(t,$N)),()=>{this._engine.afterFlush(()=>{const m=o.indexOf(u);m>=0&&o.splice(m,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function $Z(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),u=new GN(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Ul(e,NM),Ul(e,NM+"-"+t),this._engine.statesByElement.set(e,h=new Map));let m=h.get(t);const y=new zN(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&y.absorbOptions(m.options),h.set(t,y),m||(m=$N),y.value!==GI&&m.value===y.value){if(!function ZW(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(m.params,y.params)){const W=[],fe=o.matchStyles(m.value,m.params,W),je=o.matchStyles(y.value,y.params,W);W.length?this._engine.reportError(W):this._engine.afterFlush(()=>{_y(e,fe),pd(e,je)})}return}const R=Fa(this._engine.playersByElement,e,[]);R.forEach(W=>{W.namespaceId==this.id&&W.triggerName==t&&W.queued&&W.destroy()});let V=o.matchTransition(m.value,y.value,e,y.params),j=!1;if(!V){if(!r)return;V=o.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:V,fromState:m,toState:y,player:u,isFallbackTransition:j}),j||(Ul(e,Y3),u.onStart(()=>{V0(e,Y3)})),u.onDone(()=>{let W=this.players.indexOf(u);W>=0&&this.players.splice(W,1);const fe=this._engine.playersByElement.get(e);if(fe){let je=fe.indexOf(u);je>=0&&fe.splice(je,1)}}),this.players.push(u),R.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,FM,!0);i.forEach(r=>{if(r[Bc])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),u=new Map;if(o){const h=[];if(o.forEach((m,y)=>{if(u.set(y,m.value),this._triggers.has(y)){const I=this.trigger(e,y,GI,r);I&&h.push(I)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&ym(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const m=this._triggers.get(u).fallbackTransition,y=i.get(u)||$N,I=new zN(GI),D=new GN(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:m,fromState:y,toState:I,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Bc];(!o||o===Q3)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ul(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const m=DN(o,i.triggerName,i.fromState.value,i.toState.value);m._data=e,TN(i.player,h.phase,m,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class jW{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new BW(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const m=r.get(h);if(m){const y=i.indexOf(m);i.splice(y+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(GM(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!GM(t))return;const o=t[Bc];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ul(e,HN)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),V0(e,HN))}removeNode(e,t,i){if(GM(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Bc]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return GM(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,FM,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,RN,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ym(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Bc];if(t&&t.setForRemoval){if(e[Bc]=Q3,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(HN)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ul(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?ym(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function GZ(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new HM,r=[],o=new Map,u=[],h=new Map,m=new Map,y=new Map,I=new Set;this.disabledNodes.forEach(yt=>{I.add(yt);const At=this.driver.query(yt,".ng-animate-queued",!0);for(let Ut=0;Ut<At.length;Ut++)I.add(At[Ut])});const D=this.bodyNode,R=Array.from(this.statesByElement.keys()),V=ej(R,this.collectedEnterElements),j=new Map;let W=0;V.forEach((yt,At)=>{const Ut=MN+W++;j.set(At,Ut),yt.forEach(_n=>Ul(_n,Ut))});const fe=[],je=new Set,Ge=new Set;for(let yt=0;yt<this.collectedLeaveElements.length;yt++){const At=this.collectedLeaveElements[yt],Ut=At[Bc];Ut&&Ut.setForRemoval&&(fe.push(At),je.add(At),Ut.hasAnimation?this.driver.query(At,".ng-star-inserted",!0).forEach(_n=>je.add(_n)):Ge.add(At))}const Xe=new Map,ct=ej(R,Array.from(je));ct.forEach((yt,At)=>{const Ut=PM+W++;Xe.set(At,Ut),yt.forEach(_n=>Ul(_n,Ut))}),e.push(()=>{V.forEach((yt,At)=>{const Ut=j.get(At);yt.forEach(_n=>V0(_n,Ut))}),ct.forEach((yt,At)=>{const Ut=Xe.get(At);yt.forEach(_n=>V0(_n,Ut))}),fe.forEach(yt=>{this.processLeaveNode(yt)})});const Rt=[],Vt=[];for(let yt=this._namespaceList.length-1;yt>=0;yt--)this._namespaceList[yt].drainQueuedTransitions(t).forEach(Ut=>{const _n=Ut.player,us=Ut.element;if(Rt.push(_n),this.collectedEnterElements.length){const Ks=us[Bc];if(Ks&&Ks.setForMove){if(Ks.previousTriggersValues&&Ks.previousTriggersValues.has(Ut.triggerName)){const by=Ks.previousTriggersValues.get(Ut.triggerName),jl=this.statesByElement.get(Ut.element);if(jl&&jl.has(Ut.triggerName)){const WM=jl.get(Ut.triggerName);WM.value=by,jl.set(Ut.triggerName,WM)}}return void _n.destroy()}}const md=!D||!this.driver.containsElement(D,us),Va=Xe.get(us),bm=j.get(us),Ji=this._buildInstruction(Ut,i,bm,Va,md);if(Ji.errors&&Ji.errors.length)return void Vt.push(Ji);if(md)return _n.onStart(()=>_y(us,Ji.fromStyles)),_n.onDestroy(()=>pd(us,Ji.toStyles)),void r.push(_n);if(Ut.isFallbackTransition)return _n.onStart(()=>_y(us,Ji.fromStyles)),_n.onDestroy(()=>pd(us,Ji.toStyles)),void r.push(_n);const hj=[];Ji.timelines.forEach(Ks=>{Ks.stretchStartingKeyframe=!0,this.disabledNodes.has(Ks.element)||hj.push(Ks)}),Ji.timelines=hj,i.append(us,Ji.timelines),u.push({instruction:Ji,player:_n,element:us}),Ji.queriedElements.forEach(Ks=>Fa(h,Ks,[]).push(_n)),Ji.preStyleProps.forEach((Ks,by)=>{if(Ks.size){let jl=m.get(by);jl||m.set(by,jl=new Set),Ks.forEach((WM,WN)=>jl.add(WN))}}),Ji.postStyleProps.forEach((Ks,by)=>{let jl=y.get(by);jl||y.set(by,jl=new Set),Ks.forEach((WM,WN)=>jl.add(WN))})});if(Vt.length){const yt=[];Vt.forEach(At=>{yt.push(function qZ(n,e){return new l.vHH(3505,!1)}())}),Rt.forEach(At=>At.destroy()),this.reportError(yt)}const gn=new Map,cs=new Map;u.forEach(yt=>{const At=yt.element;i.has(At)&&(cs.set(At,At),this._beforeAnimationBuild(yt.player.namespaceId,yt.instruction,gn))}),r.forEach(yt=>{const At=yt.element;this._getPreviousPlayers(At,!1,yt.namespaceId,yt.triggerName,null).forEach(_n=>{Fa(gn,At,[]).push(_n),_n.destroy()})});const Bl=fe.filter(yt=>nj(yt,m,y)),tf=new Map;X3(tf,this.driver,Ge,y,Kh).forEach(yt=>{nj(yt,m,y)&&Bl.push(yt)});const qI=new Map;V.forEach((yt,At)=>{X3(qI,this.driver,new Set(yt),m,"!")}),Bl.forEach(yt=>{const At=tf.get(yt),Ut=qI.get(yt);tf.set(yt,new Map([...At?.entries()??[],...Ut?.entries()??[]]))});const vy=[],uj=[],dj={};u.forEach(yt=>{const{element:At,player:Ut,instruction:_n}=yt;if(i.has(At)){if(I.has(At))return Ut.onDestroy(()=>pd(At,_n.toStyles)),Ut.disabled=!0,Ut.overrideTotalTime(_n.totalTime),void r.push(Ut);let us=dj;if(cs.size>1){let Va=At;const bm=[];for(;Va=Va.parentNode;){const Ji=cs.get(Va);if(Ji){us=Ji;break}bm.push(Va)}bm.forEach(Ji=>cs.set(Ji,us))}const md=this._buildAnimation(Ut.namespaceId,_n,gn,o,qI,tf);if(Ut.setRealPlayer(md),us===dj)vy.push(Ut);else{const Va=this.playersByElement.get(us);Va&&Va.length&&(Ut.parentPlayer=ym(Va)),r.push(Ut)}}else _y(At,_n.fromStyles),Ut.onDestroy(()=>pd(At,_n.toStyles)),uj.push(Ut),I.has(At)&&r.push(Ut)}),uj.forEach(yt=>{const At=o.get(yt.element);if(At&&At.length){const Ut=ym(At);yt.setRealPlayer(Ut)}}),r.forEach(yt=>{yt.parentPlayer?yt.syncPlayerEvents(yt.parentPlayer):yt.destroy()});for(let yt=0;yt<fe.length;yt++){const At=fe[yt],Ut=At[Bc];if(V0(At,PM),Ut&&Ut.hasAnimation)continue;let _n=[];if(h.size){let md=h.get(At);md&&md.length&&_n.push(...md);let Va=this.driver.query(At,RN,!0);for(let bm=0;bm<Va.length;bm++){let Ji=h.get(Va[bm]);Ji&&Ji.length&&_n.push(...Ji)}}const us=_n.filter(md=>!md.destroyed);us.length?GW(this,At,us):this.processLeaveNode(At)}return fe.length=0,vy.forEach(yt=>{this.players.push(yt),yt.onDone(()=>{yt.destroy();const At=this.players.indexOf(yt);this.players.splice(At,1)}),yt.play()}),vy}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const m=!o||o==GI;h.forEach(y=>{y.queued||!m&&y.triggerName!=r||u.push(y)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(e,t,i){const o=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const y=m.element,I=y!==o,D=Fa(i,y,[]);this._getPreviousPlayers(y,I,u,h,t.toState).forEach(V=>{const j=V.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),V.destroy(),D.push(V)})}_y(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,u){const h=t.triggerName,m=t.element,y=[],I=new Set,D=new Set,R=t.timelines.map(j=>{const W=j.element;I.add(W);const fe=W[Bc];if(fe&&fe.removedBeforeQueried)return new kI(j.duration,j.delay);const je=W!==m,Ge=function qW(n){const e=[];return tj(n,e),e}((i.get(W)||VW).map(gn=>gn.getRealPlayer())).filter(gn=>!!gn.element&&gn.element===W),Xe=o.get(W),ct=u.get(W),Rt=R3(this._normalizer,j.keyframes,Xe,ct),Vt=this._buildPlayer(j,Rt,Ge);if(j.subTimeline&&r&&D.add(W),je){const gn=new GN(e,h,W);gn.setRealPlayer(Vt),y.push(gn)}return Vt});y.forEach(j=>{Fa(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function HW(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,j.element,j))}),I.forEach(j=>Ul(j,V3));const V=ym(R);return V.onDestroy(()=>{I.forEach(j=>V0(j,V3)),pd(m,t.toStyles)}),D.forEach(j=>{Fa(r,j,[]).push(V)}),V}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new kI(e.duration,e.delay)}}class GN{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new kI,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>TN(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Fa(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function GM(n){return n&&1===n.nodeType}function J3(n,e){const t=n.style.display;return n.style.display=e??"none",t}function X3(n,e,t,i,r){const o=[];t.forEach(m=>o.push(J3(m)));const u=[];i.forEach((m,y)=>{const I=new Map;m.forEach(D=>{const R=e.computeStyle(y,D,r);I.set(D,R),(!R||0==R.length)&&(y[Bc]=UW,u.push(y))}),n.set(y,I)});let h=0;return t.forEach(m=>J3(m,o[h++])),u}function ej(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),o=new Map;function u(h){if(!h)return 1;let m=o.get(h);if(m)return m;const y=h.parentNode;return m=t.has(y)?y:r.has(y)?1:u(y),o.set(h,m),m}return e.forEach(h=>{const m=u(h);1!==m&&t.get(m).push(h)}),t}function Ul(n,e){n.classList?.add(e)}function V0(n,e){n.classList?.remove(e)}function GW(n,e,t){ym(t).onDone(()=>n.processLeaveNode(e))}function tj(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof OU?tj(i.players,e):e.push(i)}}function nj(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class qM{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new jW(e,t,i),this._timelineEngine=new OW(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const u=e+"-"+r;let h=this._triggerCache[u];if(!h){const m=[],I=NN(this._driver,o,m,[]);if(m.length)throw function NZ(n,e){return new l.vHH(3404,!1)}();h=function AW(n,e,t){return new MW(n,e,t)}(r,I,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,u]=k3(i);this._timelineEngine.command(o,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[u,h]=k3(i);return this._timelineEngine.listen(u,t,h,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let KW=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&pd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pd(this._element,this._initialStyles),this._endStyles&&(pd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_y(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_y(this._element,this._endStyles),this._endStyles=null),pd(this._element,this._initialStyles),this._state=3)}}return n})();function qN(n){let e=null;return n.forEach((t,i)=>{(function YW(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class ij{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:H3(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class QW{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return P3(e,t)}getParentElement(e){return SN(e)}query(e,t,i){return N3(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,u=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(m.easing=o);const y=new Map,I=u.filter(V=>V instanceof ij);(function rW(n,e){return 0===n||0===e})(i,r)&&I.forEach(V=>{V.currentSnapshot.forEach((j,W)=>y.set(W,j))});let D=function tW(n){return n.length?n[0]instanceof Map?n:n.map(e=>U3(e)):[]}(t).map(V=>vm(V));D=function sW(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<e.length;o++){let u=e[o];r.forEach(h=>u.set(h,H3(n,h)))}}return e}(e,D,y);const R=function WW(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=qN(e[0]),e.length>1&&(i=qN(e[e.length-1]))):e instanceof Map&&(t=qN(e)),t||i?new KW(n,t,i):null}(e,D);return new ij(e,D,m,R)}}let JW=(()=>{class n extends MU{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?kU(t):t;return rj(this._renderer,null,i,"register",[r]),new XW(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.FYo),l.LFG(le))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class XW extends YG{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new eK(this._id,e,t||{},this._renderer)}}class eK{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return rj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function rj(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const sj="@.disabled";let tK=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(o);return I||(I=new oj("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,I)),I}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const m=I=>{Array.isArray(I)?I.forEach(m):this.engine.registerTrigger(u,h,t,I.name,I)};return i.data.animation.forEach(m),new nK(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(l.FYo),l.LFG(qM),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();class oj{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==sj?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class nK extends oj{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==sj?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function iK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function rK(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let sK=(()=>{class n extends qM{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(l.LFG(le),l.LFG(AN),l.LFG(BN),l.LFG(l.z2F))};static#t=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac})}return n})();const aj=[{provide:MU,useClass:JW},{provide:BN,useFactory:function oK(){return new TW}},{provide:qM,useClass:sK},{provide:l.FYo,useFactory:function aK(n,e,t){return new tK(n,e,t)},deps:[No,qM,l.R0b]}],ZN=[{provide:AN,useFactory:()=>new QW},{provide:l.QbO,useValue:"BrowserAnimations"},...aj],lj=[{provide:AN,useClass:F3},{provide:l.QbO,useValue:"NoopAnimations"},...aj];let lK=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?lj:ZN}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n});static#n=this.\u0275inj=l.cJS({providers:ZN,imports:[rc]})}return n})(),cK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=l.oAB({type:n,bootstrap:[fZ]});static#n=this.\u0275inj=l.cJS({providers:[nm,W_,qU],imports:[rc,A3,lK,Y9,A3,S3,rc,Cs.hO.initializeApp(IN_firebaseConfig),_v,m4,KB,n7]})}return n})();Ii().bootstrapModule(cK).catch(n=>console.error(n))},5619:(ft,Te,N)=>{N.d(Te,{X:()=>X});var l=N(8645);class X extends l.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const se=super._subscribe(te);return!se.closed&&te.next(this._value),se}getValue(){const{hasError:te,thrownError:se,_value:le}=this;if(te)throw se;return this._throwIfClosed(),le}next(te){super.next(this._value=te)}}},5592:(ft,Te,N)=>{N.d(Te,{y:()=>Ne});var l=N(305),X=N(7394),L=N(4850),te=N(8407),se=N(2653),le=N(4674),_e=N(1441);let Ne=(()=>{class ee{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Ke=new ee;return Ke.source=this,Ke.operator=Ae,Ke}subscribe(Ae,Ke,Oe){const qe=function G(ee){return ee&&ee instanceof l.Lv||function B(ee){return ee&&(0,le.m)(ee.next)&&(0,le.m)(ee.error)&&(0,le.m)(ee.complete)}(ee)&&(0,X.Nn)(ee)}(Ae)?Ae:new l.Hp(Ae,Ke,Oe);return(0,_e.x)(()=>{const{operator:Ve,source:vt}=this;qe.add(Ve?Ve.call(qe,vt):vt?this._subscribe(qe):this._trySubscribe(qe))}),qe}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Ke){Ae.error(Ke)}}forEach(Ae,Ke){return new(Ke=ge(Ke))((Oe,qe)=>{const Ve=new l.Hp({next:vt=>{try{Ae(vt)}catch(pt){qe(pt),Ve.unsubscribe()}},error:qe,complete:Oe});this.subscribe(Ve)})}_subscribe(Ae){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Ae)}[L.L](){return this}pipe(...Ae){return(0,te.U)(Ae)(this)}toPromise(Ae){return new(Ae=ge(Ae))((Ke,Oe)=>{let qe;this.subscribe(Ve=>qe=Ve,Ve=>Oe(Ve),()=>Ke(qe))})}}return ee.create=Be=>new ee(Be),ee})();function ge(ee){var Be;return null!==(Be=ee??se.config.Promise)&&void 0!==Be?Be:Promise}},8645:(ft,Te,N)=>{N.d(Te,{x:()=>_e});var l=N(5592),X=N(7394);const te=(0,N(2306).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=N(9039),le=N(1441);let _e=(()=>{class ge extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const ee=new Ne(this,this);return ee.operator=G,ee}_throwIfClosed(){if(this.closed)throw new te}next(G){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(G)}})}error(G){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:ee}=this;for(;ee.length;)ee.shift().error(G)}})}complete(){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:ee,isStopped:Be,observers:Ae}=this;return ee||Be?X.Lc:(this.currentObservers=null,Ae.push(G),new X.w0(()=>{this.currentObservers=null,(0,se.P)(Ae,G)}))}_checkFinalizedStatuses(G){const{hasError:ee,thrownError:Be,isStopped:Ae}=this;ee?G.error(Be):Ae&&G.complete()}asObservable(){const G=new l.y;return G.source=this,G}}return ge.create=(B,G)=>new Ne(B,G),ge})();class Ne extends _e{constructor(B,G){super(),this.destination=B,this.source=G}next(B){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===ee||ee.call(G,B)}error(B){var G,ee;null===(ee=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===ee||ee.call(G,B)}complete(){var B,G;null===(G=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===G||G.call(B)}_subscribe(B){var G,ee;return null!==(ee=null===(G=this.source)||void 0===G?void 0:G.subscribe(B))&&void 0!==ee?ee:X.Lc}}},305:(ft,Te,N)=>{N.d(Te,{Hp:()=>Oe,Lv:()=>ee});var l=N(4674),X=N(7394),L=N(2653),te=N(3894),se=N(2420);const le=ge("C",void 0,void 0);function ge(re,be,ne){return{kind:re,value:be,error:ne}}var B=N(7599),G=N(1441);class ee extends X.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,X.Nn)(be)&&be.add(this)):this.destination=pt}static create(be,ne,xe){return new Oe(be,ne,xe)}next(be){this.isStopped?vt(function Ne(re){return ge("N",re,void 0)}(be),this):this._next(be)}error(be){this.isStopped?vt(function _e(re){return ge("E",void 0,re)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?vt(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Ae(re,be){return Be.call(re,be)}class Ke{constructor(be){this.partialObserver=be}next(be){const{partialObserver:ne}=this;if(ne.next)try{ne.next(be)}catch(xe){qe(xe)}}error(be){const{partialObserver:ne}=this;if(ne.error)try{ne.error(be)}catch(xe){qe(xe)}else qe(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(ne){qe(ne)}}}class Oe extends ee{constructor(be,ne,xe){let Fe;if(super(),(0,l.m)(be)||!be)Fe={next:be??void 0,error:ne??void 0,complete:xe??void 0};else{let Ze;this&&L.config.useDeprecatedNextContext?(Ze=Object.create(be),Ze.unsubscribe=()=>this.unsubscribe(),Fe={next:be.next&&Ae(be.next,Ze),error:be.error&&Ae(be.error,Ze),complete:be.complete&&Ae(be.complete,Ze)}):Fe=be}this.destination=new Ke(Fe)}}function qe(re){L.config.useDeprecatedSynchronousErrorHandling?(0,G.O)(re):(0,te.h)(re)}function vt(re,be){const{onStoppedNotification:ne}=L.config;ne&&B.z.setTimeout(()=>ne(re,be))}const pt={closed:!0,next:se.Z,error:function Ve(re){throw re},complete:se.Z}},7394:(ft,Te,N)=>{N.d(Te,{Lc:()=>le,w0:()=>se,Nn:()=>_e});var l=N(4674);const L=(0,N(2306).d)(ge=>function(G){ge(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((ee,Be)=>`${Be+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var te=N(9039);class se{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ae of G)Ae.remove(this);else G.remove(this);const{initialTeardown:ee}=this;if((0,l.m)(ee))try{ee()}catch(Ae){B=Ae instanceof L?Ae.errors:[Ae]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Ae of Be)try{Ne(Ae)}catch(Ke){B=B??[],Ke instanceof L?B=[...B,...Ke.errors]:B.push(Ke)}}if(B)throw new L(B)}}add(B){var G;if(B&&B!==this)if(this.closed)Ne(B);else{if(B instanceof se){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(B)}}_hasParent(B){const{_parentage:G}=this;return G===B||Array.isArray(G)&&G.includes(B)}_addParent(B){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(B),G):G?[G,B]:B}_removeParent(B){const{_parentage:G}=this;G===B?this._parentage=null:Array.isArray(G)&&(0,te.P)(G,B)}remove(B){const{_finalizers:G}=this;G&&(0,te.P)(G,B),B instanceof se&&B._removeParent(this)}}se.EMPTY=(()=>{const ge=new se;return ge.closed=!0,ge})();const le=se.EMPTY;function _e(ge){return ge instanceof se||ge&&"closed"in ge&&(0,l.m)(ge.remove)&&(0,l.m)(ge.add)&&(0,l.m)(ge.unsubscribe)}function Ne(ge){(0,l.m)(ge)?ge():ge.unsubscribe()}},2653:(ft,Te,N)=>{N.d(Te,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ft,Te,N)=>{N.d(Te,{E:()=>X});const X=new(N(5592).y)(se=>se.complete())},2459:(ft,Te,N)=>{N.d(Te,{D:()=>be});var l=N(4829),X=N(3093),L=N(5137),le=N(5592),Ne=N(4971),ge=N(4674),B=N(7103);function ee(ne,xe){if(!ne)throw new Error("Iterable cannot be null");return new le.y(Fe=>{(0,B.f)(Fe,xe,()=>{const Ze=ne[Symbol.asyncIterator]();(0,B.f)(Fe,xe,()=>{Ze.next().then(ce=>{ce.done?Fe.complete():Fe.next(ce.value)})},0,!0)})})}var Be=N(8382),Ae=N(4026),Ke=N(4266),Oe=N(3664),qe=N(5726),Ve=N(9853),vt=N(541);function be(ne,xe){return xe?function re(ne,xe){if(null!=ne){if((0,Be.c)(ne))return function te(ne,xe){return(0,l.Xf)(ne).pipe((0,L.R)(xe),(0,X.Q)(xe))}(ne,xe);if((0,Ke.z)(ne))return function _e(ne,xe){return new le.y(Fe=>{let Ze=0;return xe.schedule(function(){Ze===ne.length?Fe.complete():(Fe.next(ne[Ze++]),Fe.closed||this.schedule())})})}(ne,xe);if((0,Ae.t)(ne))return function se(ne,xe){return(0,l.Xf)(ne).pipe((0,L.R)(xe),(0,X.Q)(xe))}(ne,xe);if((0,qe.D)(ne))return ee(ne,xe);if((0,Oe.T)(ne))return function G(ne,xe){return new le.y(Fe=>{let Ze;return(0,B.f)(Fe,xe,()=>{Ze=ne[Ne.h](),(0,B.f)(Fe,xe,()=>{let ce,Et;try{({value:ce,done:Et}=Ze.next())}catch(Gt){return void Fe.error(Gt)}Et?Fe.complete():Fe.next(ce)},0,!0)}),()=>(0,ge.m)(Ze?.return)&&Ze.return()})}(ne,xe);if((0,vt.L)(ne))return function pt(ne,xe){return ee((0,vt.Q)(ne),xe)}(ne,xe)}throw(0,Ve.z)(ne)}(ne,xe):(0,l.Xf)(ne)}},4829:(ft,Te,N)=>{N.d(Te,{Xf:()=>Be});var l=N(7582),X=N(4266),L=N(4026),te=N(5592),se=N(8382),le=N(5726),_e=N(9853),Ne=N(3664),ge=N(541),B=N(4674),G=N(3894),ee=N(4850);function Be(re){if(re instanceof te.y)return re;if(null!=re){if((0,se.c)(re))return function Ae(re){return new te.y(be=>{const ne=re[ee.L]();if((0,B.m)(ne.subscribe))return ne.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(re);if((0,X.z)(re))return function Ke(re){return new te.y(be=>{for(let ne=0;ne<re.length&&!be.closed;ne++)be.next(re[ne]);be.complete()})}(re);if((0,L.t)(re))return function Oe(re){return new te.y(be=>{re.then(ne=>{be.closed||(be.next(ne),be.complete())},ne=>be.error(ne)).then(null,G.h)})}(re);if((0,le.D)(re))return Ve(re);if((0,Ne.T)(re))return function qe(re){return new te.y(be=>{for(const ne of re)if(be.next(ne),be.closed)return;be.complete()})}(re);if((0,ge.L)(re))return function vt(re){return Ve((0,ge.Q)(re))}(re)}throw(0,_e.z)(re)}function Ve(re){return new te.y(be=>{(function pt(re,be){var ne,xe,Fe,Ze;return(0,l.mG)(this,void 0,void 0,function*(){try{for(ne=(0,l.KL)(re);!(xe=yield ne.next()).done;)if(be.next(xe.value),be.closed)return}catch(ce){Fe={error:ce}}finally{try{xe&&!xe.done&&(Ze=ne.return)&&(yield Ze.call(ne))}finally{if(Fe)throw Fe.error}}be.complete()})})(re,be).catch(ne=>be.error(ne))})}},3019:(ft,Te,N)=>{N.d(Te,{T:()=>le});var l=N(7537),X=N(4829),L=N(6232),te=N(9940),se=N(2459);function le(..._e){const Ne=(0,te.yG)(_e),ge=(0,te._6)(_e,1/0),B=_e;return B.length?1===B.length?(0,X.Xf)(B[0]):(0,l.J)(ge)((0,se.D)(B,Ne)):L.E}},2096:(ft,Te,N)=>{N.d(Te,{of:()=>L});var l=N(9940),X=N(2459);function L(...te){const se=(0,l.yG)(te);return(0,X.D)(te,se)}},8251:(ft,Te,N)=>{N.d(Te,{x:()=>X});var l=N(305);function X(te,se,le,_e,Ne){return new L(te,se,le,_e,Ne)}class L extends l.Lv{constructor(se,le,_e,Ne,ge,B){super(se),this.onFinalize=ge,this.shouldUnsubscribe=B,this._next=le?function(G){try{le(G)}catch(ee){se.error(ee)}}:super._next,this._error=Ne?function(G){try{Ne(G)}catch(ee){se.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(G){se.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:le}=this;super.unsubscribe(),!le&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},3997:(ft,Te,N)=>{N.d(Te,{x:()=>te});var l=N(2737),X=N(9360),L=N(8251);function te(le,_e=l.y){return le=le??se,(0,X.e)((Ne,ge)=>{let B,G=!0;Ne.subscribe((0,L.x)(ge,ee=>{const Be=_e(ee);(G||!le(B,Be))&&(G=!1,B=Be,ge.next(ee))}))})}function se(le,_e){return le===_e}},7398:(ft,Te,N)=>{N.d(Te,{U:()=>L});var l=N(9360),X=N(8251);function L(te,se){return(0,l.e)((le,_e)=>{let Ne=0;le.subscribe((0,X.x)(_e,ge=>{_e.next(te.call(se,ge,Ne++))}))})}},7537:(ft,Te,N)=>{N.d(Te,{J:()=>L});var l=N(1631),X=N(2737);function L(te=1/0){return(0,l.z)(X.y,te)}},1631:(ft,Te,N)=>{N.d(Te,{z:()=>Ne});var l=N(7398),X=N(4829),L=N(9360),te=N(7103),se=N(8251),_e=N(4674);function Ne(ge,B,G=1/0){return(0,_e.m)(B)?Ne((ee,Be)=>(0,l.U)((Ae,Ke)=>B(ee,Ae,Be,Ke))((0,X.Xf)(ge(ee,Be))),G):("number"==typeof B&&(G=B),(0,L.e)((ee,Be)=>function le(ge,B,G,ee,Be,Ae,Ke,Oe){const qe=[];let Ve=0,vt=0,pt=!1;const re=()=>{pt&&!qe.length&&!Ve&&B.complete()},be=xe=>Ve<ee?ne(xe):qe.push(xe),ne=xe=>{Ae&&B.next(xe),Ve++;let Fe=!1;(0,X.Xf)(G(xe,vt++)).subscribe((0,se.x)(B,Ze=>{Be?.(Ze),Ae?be(Ze):B.next(Ze)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(Ve--;qe.length&&Ve<ee;){const Ze=qe.shift();Ke?(0,te.f)(B,Ke,()=>ne(Ze)):ne(Ze)}re()}catch(Ze){B.error(Ze)}}))};return ge.subscribe((0,se.x)(B,be,()=>{pt=!0,re()})),()=>{Oe?.()}}(ee,Be,ge,G)))}},3093:(ft,Te,N)=>{N.d(Te,{Q:()=>te});var l=N(7103),X=N(9360),L=N(8251);function te(se,le=0){return(0,X.e)((_e,Ne)=>{_e.subscribe((0,L.x)(Ne,ge=>(0,l.f)(Ne,se,()=>Ne.next(ge),le),()=>(0,l.f)(Ne,se,()=>Ne.complete(),le),ge=>(0,l.f)(Ne,se,()=>Ne.error(ge),le)))})}},3020:(ft,Te,N)=>{N.d(Te,{B:()=>se});var l=N(4829),X=N(8645),L=N(305),te=N(9360);function se(_e={}){const{connector:Ne=(()=>new X.x),resetOnError:ge=!0,resetOnComplete:B=!0,resetOnRefCountZero:G=!0}=_e;return ee=>{let Be,Ae,Ke,Oe=0,qe=!1,Ve=!1;const vt=()=>{Ae?.unsubscribe(),Ae=void 0},pt=()=>{vt(),Be=Ke=void 0,qe=Ve=!1},re=()=>{const be=Be;pt(),be?.unsubscribe()};return(0,te.e)((be,ne)=>{Oe++,!Ve&&!qe&&vt();const xe=Ke=Ke??Ne();ne.add(()=>{Oe--,0===Oe&&!Ve&&!qe&&(Ae=le(re,G))}),xe.subscribe(ne),!Be&&Oe>0&&(Be=new L.Hp({next:Fe=>xe.next(Fe),error:Fe=>{Ve=!0,vt(),Ae=le(pt,ge,Fe),xe.error(Fe)},complete:()=>{qe=!0,vt(),Ae=le(pt,B),xe.complete()}}),(0,l.Xf)(be).subscribe(Be))})(ee)}}function le(_e,Ne,...ge){if(!0===Ne)return void _e();if(!1===Ne)return;const B=new L.Hp({next:()=>{B.unsubscribe(),_e()}});return(0,l.Xf)(Ne(...ge)).subscribe(B)}},5137:(ft,Te,N)=>{N.d(Te,{R:()=>X});var l=N(9360);function X(L,te=0){return(0,l.e)((se,le)=>{le.add(L.schedule(()=>se.subscribe(le),te))})}},4664:(ft,Te,N)=>{N.d(Te,{w:()=>te});var l=N(4829),X=N(9360),L=N(8251);function te(se,le){return(0,X.e)((_e,Ne)=>{let ge=null,B=0,G=!1;const ee=()=>G&&!ge&&Ne.complete();_e.subscribe((0,L.x)(Ne,Be=>{ge?.unsubscribe();let Ae=0;const Ke=B++;(0,l.Xf)(se(Be,Ke)).subscribe(ge=(0,L.x)(Ne,Oe=>Ne.next(le?le(Be,Oe,Ke,Ae++):Oe),()=>{ge=null,ee()}))},()=>{G=!0,ee()}))})}},9397:(ft,Te,N)=>{N.d(Te,{b:()=>se});var l=N(4674),X=N(9360),L=N(8251),te=N(2737);function se(le,_e,Ne){const ge=(0,l.m)(le)||_e||Ne?{next:le,error:_e,complete:Ne}:le;return ge?(0,X.e)((B,G)=>{var ee;null===(ee=ge.subscribe)||void 0===ee||ee.call(ge);let Be=!0;B.subscribe((0,L.x)(G,Ae=>{var Ke;null===(Ke=ge.next)||void 0===Ke||Ke.call(ge,Ae),G.next(Ae)},()=>{var Ae;Be=!1,null===(Ae=ge.complete)||void 0===Ae||Ae.call(ge),G.complete()},Ae=>{var Ke;Be=!1,null===(Ke=ge.error)||void 0===Ke||Ke.call(ge,Ae),G.error(Ae)},()=>{var Ae,Ke;Be&&(null===(Ae=ge.unsubscribe)||void 0===Ae||Ae.call(ge)),null===(Ke=ge.finalize)||void 0===Ke||Ke.call(ge)}))}):te.y}},1954:(ft,Te,N)=>{N.d(Te,{o:()=>se});var l=N(7394);class X extends l.w0{constructor(_e,Ne){super()}schedule(_e,Ne=0){return this}}const L={setInterval(le,_e,...Ne){const{delegate:ge}=L;return ge?.setInterval?ge.setInterval(le,_e,...Ne):setInterval(le,_e,...Ne)},clearInterval(le){const{delegate:_e}=L;return(_e?.clearInterval||clearInterval)(le)},delegate:void 0};var te=N(9039);class se extends X{constructor(_e,Ne){super(_e,Ne),this.scheduler=_e,this.work=Ne,this.pending=!1}schedule(_e,Ne=0){var ge;if(this.closed)return this;this.state=_e;const B=this.id,G=this.scheduler;return null!=B&&(this.id=this.recycleAsyncId(G,B,Ne)),this.pending=!0,this.delay=Ne,this.id=null!==(ge=this.id)&&void 0!==ge?ge:this.requestAsyncId(G,this.id,Ne),this}requestAsyncId(_e,Ne,ge=0){return L.setInterval(_e.flush.bind(_e,this),ge)}recycleAsyncId(_e,Ne,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return Ne;null!=Ne&&L.clearInterval(Ne)}execute(_e,Ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(_e,Ne);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Ne){let B,ge=!1;try{this.work(_e)}catch(G){ge=!0,B=G||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Ne}=this,{actions:ge}=Ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(ge,this),null!=_e&&(this.id=this.recycleAsyncId(Ne,_e,null)),this.delay=null,super.unsubscribe()}}}},2631:(ft,Te,N)=>{N.d(Te,{v:()=>L});var l=N(4552);class X{constructor(se,le=X.now){this.schedulerActionCtor=se,this.now=le}schedule(se,le=0,_e){return new this.schedulerActionCtor(this,se).schedule(_e,le)}}X.now=l.l.now;class L extends X{constructor(se,le=X.now){super(se,le),this.actions=[],this._active=!1}flush(se){const{actions:le}=this;if(this._active)return void le.push(se);let _e;this._active=!0;do{if(_e=se.execute(se.state,se.delay))break}while(se=le.shift());if(this._active=!1,_e){for(;se=le.shift();)se.unsubscribe();throw _e}}}},6321:(ft,Te,N)=>{N.d(Te,{P:()=>te,z:()=>L});var l=N(1954);const L=new(N(2631).v)(l.o),te=L},4552:(ft,Te,N)=>{N.d(Te,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(ft,Te,N)=>{N.d(Te,{z:()=>l});const l={setTimeout(X,L,...te){const{delegate:se}=l;return se?.setTimeout?se.setTimeout(X,L,...te):setTimeout(X,L,...te)},clearTimeout(X){const{delegate:L}=l;return(L?.clearTimeout||clearTimeout)(X)},delegate:void 0}},4971:(ft,Te,N)=>{N.d(Te,{h:()=>X});const X=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ft,Te,N)=>{N.d(Te,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(ft,Te,N)=>{N.d(Te,{_6:()=>le,jO:()=>te,yG:()=>se});var l=N(4674),X=N(671);function L(_e){return _e[_e.length-1]}function te(_e){return(0,l.m)(L(_e))?_e.pop():void 0}function se(_e){return(0,X.K)(L(_e))?_e.pop():void 0}function le(_e,Ne){return"number"==typeof L(_e)?_e.pop():Ne}},9039:(ft,Te,N)=>{function l(X,L){if(X){const te=X.indexOf(L);0<=te&&X.splice(te,1)}}N.d(Te,{P:()=>l})},2306:(ft,Te,N)=>{function l(X){const te=X(se=>{Error.call(se),se.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}N.d(Te,{d:()=>l})},1441:(ft,Te,N)=>{N.d(Te,{O:()=>te,x:()=>L});var l=N(2653);let X=null;function L(se){if(l.config.useDeprecatedSynchronousErrorHandling){const le=!X;if(le&&(X={errorThrown:!1,error:null}),se(),le){const{errorThrown:_e,error:Ne}=X;if(X=null,_e)throw Ne}}else se()}function te(se){l.config.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=se)}},7103:(ft,Te,N)=>{function l(X,L,te,se=0,le=!1){const _e=L.schedule(function(){te(),le?X.add(this.schedule(null,se)):this.unsubscribe()},se);if(X.add(_e),!le)return _e}N.d(Te,{f:()=>l})},2737:(ft,Te,N)=>{function l(X){return X}N.d(Te,{y:()=>l})},4266:(ft,Te,N)=>{N.d(Te,{z:()=>l});const l=X=>X&&"number"==typeof X.length&&"function"!=typeof X},5726:(ft,Te,N)=>{N.d(Te,{D:()=>X});var l=N(4674);function X(L){return Symbol.asyncIterator&&(0,l.m)(L?.[Symbol.asyncIterator])}},4674:(ft,Te,N)=>{function l(X){return"function"==typeof X}N.d(Te,{m:()=>l})},8382:(ft,Te,N)=>{N.d(Te,{c:()=>L});var l=N(4850),X=N(4674);function L(te){return(0,X.m)(te[l.L])}},3664:(ft,Te,N)=>{N.d(Te,{T:()=>L});var l=N(4971),X=N(4674);function L(te){return(0,X.m)(te?.[l.h])}},4026:(ft,Te,N)=>{N.d(Te,{t:()=>X});var l=N(4674);function X(L){return(0,l.m)(L?.then)}},541:(ft,Te,N)=>{N.d(Te,{L:()=>te,Q:()=>L});var l=N(7582),X=N(4674);function L(se){return(0,l.FC)(this,arguments,function*(){const _e=se.getReader();try{for(;;){const{value:Ne,done:ge}=yield(0,l.qq)(_e.read());if(ge)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Ne)}}finally{_e.releaseLock()}})}function te(se){return(0,X.m)(se?.getReader)}},671:(ft,Te,N)=>{N.d(Te,{K:()=>X});var l=N(4674);function X(L){return L&&(0,l.m)(L.schedule)}},9360:(ft,Te,N)=>{N.d(Te,{A:()=>X,e:()=>L});var l=N(4674);function X(te){return(0,l.m)(te?.lift)}function L(te){return se=>{if(X(se))return se.lift(function(le){try{return te(le,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(ft,Te,N)=>{function l(){}N.d(Te,{Z:()=>l})},8407:(ft,Te,N)=>{N.d(Te,{U:()=>L,z:()=>X});var l=N(2737);function X(...te){return L(te)}function L(te){return 0===te.length?l.y:1===te.length?te[0]:function(le){return te.reduce((_e,Ne)=>Ne(_e),le)}}},3894:(ft,Te,N)=>{N.d(Te,{h:()=>L});var l=N(2653),X=N(7599);function L(te){X.z.setTimeout(()=>{const{onUnhandledError:se}=l.config;if(!se)throw te;se(te)})}},9853:(ft,Te,N)=>{function l(X){return new TypeError(`You provided ${null!==X&&"object"==typeof X?"an invalid object":`'${X}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Te,{z:()=>l})},5879:(ft,Te,N)=>{N.d(Te,{$8M:()=>pu,$WT:()=>Xs,$Z:()=>gv,AFp:()=>T1,ALo:()=>AD,AaK:()=>ee,CHM:()=>fs,CRH:()=>HD,EJc:()=>zb,EiD:()=>yT,EpF:()=>$g,F$t:()=>vE,F4k:()=>Ra,FYo:()=>rv,FiY:()=>Yd,Gf:()=>BD,GfV:()=>Jf,Gpc:()=>Ke,HDt:()=>O_,Hsn:()=>Gg,Ikx:()=>oe,JOm:()=>Iu,JVY:()=>hT,JZr:()=>pt,KtG:()=>su,L6k:()=>fT,LAX:()=>a1,LFG:()=>It,LSH:()=>sg,Lbi:()=>bw,Lck:()=>Dh,MAs:()=>Sx,MGl:()=>qg,MMx:()=>Dl,NdJ:()=>zv,O4$:()=>Lo,Ojb:()=>oF,OlP:()=>bn,Oqu:()=>Wi,P3R:()=>_1,PXZ:()=>Zb,Q6J:()=>fp,QGY:()=>Hv,QbO:()=>sF,Qsj:()=>VT,R0b:()=>Ir,RDi:()=>aT,Rgc:()=>Ju,SBq:()=>mg,Sil:()=>oS,Suo:()=>jD,TTD:()=>eu,TgZ:()=>pp,Udp:()=>nb,VKq:()=>qE,VuI:()=>Kp,W1O:()=>Pi,WLB:()=>kp,X6Q:()=>RS,XFs:()=>_t,Xpm:()=>zc,Xq5:()=>Pu,Xts:()=>qf,Y36:()=>Mu,YKP:()=>bb,YNc:()=>Bv,Yjl:()=>qc,Yz7:()=>Pt,Z0I:()=>fn,ZZ4:()=>Wp,_Bn:()=>wD,_UZ:()=>wh,_Vd:()=>pg,_c5:()=>Fk,_uU:()=>jx,aQg:()=>l0,c2e:()=>R_,cJS:()=>An,cg1:()=>Mc,dDg:()=>_S,dqk:()=>un,eBb:()=>o1,eFA:()=>Hp,eJc:()=>Pb,ekj:()=>zu,eoX:()=>yS,f3M:()=>kt,g9A:()=>MT,h0i:()=>xh,hGG:()=>kC,hij:()=>Jg,iGM:()=>rC,ifc:()=>ke,ip1:()=>jb,jDz:()=>Sh,kL8:()=>lb,kcU:()=>tt,lG2:()=>Ha,lcZ:()=>Yu,lqb:()=>$o,lri:()=>mC,mCW:()=>ig,n5z:()=>Ho,n_E:()=>Qu,oAB:()=>$l,oxw:()=>Gv,pB0:()=>l1,q3G:()=>Gf,q4F:()=>BT,qFp:()=>BC,qLn:()=>Ic,qOj:()=>rp,qZA:()=>zg,qzn:()=>dh,rWj:()=>gS,rg0:()=>Od,sBO:()=>bC,s_b:()=>Fp,soG:()=>Bp,tb:()=>_C,tp0:()=>Ta,uIk:()=>Ov,vHH:()=>re,vpe:()=>ml,wAp:()=>Dr,xi3:()=>YE,xp6:()=>pv,z2F:()=>Bh,z3N:()=>bc,zSh:()=>Ec,zs3:()=>fo});var l=N(8645),X=N(7394),L=N(5592),te=N(3019),se=N(5619),le=N(2096),_e=N(3020),Ne=N(4664),ge=N(3997);function B(s){for(let a in s)if(s[a]===B)return a;throw Error("Could not find renamed property on target object.")}function G(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function ee(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ee).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Be(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const Ae=B({__forward_ref__:B});function Ke(s){return s.__forward_ref__=Ke,s.toString=function(){return ee(this())},s}function Oe(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(Ae)&&s.__forward_ref__===Ke}function Ve(s){return s&&!!s.\u0275providers}const pt="https://g.co/ng/security#xss";class re extends Error{constructor(a,c){super(function be(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,c)),this.code=a}}function ne(s){return"string"==typeof s?s:null==s?"":String(s)}function Et(s,a){throw new re(-201,!1)}function st(s,a){null==s&&function $e(s,a,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function Pt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function An(s){return{providers:s.providers||[],imports:s.imports||[]}}function mi(s){return Xi(s,kr)||Xi(s,Do)}function fn(s){return null!==mi(s)}function Xi(s,a){return s.hasOwnProperty(a)?s[a]:null}function xo(s){return s&&(s.hasOwnProperty(Or)||s.hasOwnProperty(Hl))?s[Or]:null}const kr=B({\u0275prov:B}),Or=B({\u0275inj:B}),Do=B({ngInjectableDef:B}),Hl=B({ngInjectorDef:B});var _t=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(_t||{});let qt;function mn(s){const a=qt;return qt=s,a}function Nn(s,a,c){const d=mi(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&_t.Optional?null:void 0!==a?a:void Et(ee(s))}const un=globalThis,pr={},Xn="__NG_DI_FLAG__",Kr="ngTempTokenPath",$=/\n/gm,K="__source";let Ce;function et(s){const a=Ce;return Ce=s,a}function Dt(s,a=_t.Default){if(void 0===Ce)throw new re(-203,!1);return null===Ce?Nn(s,void 0,a):Ce.get(s,a&_t.Optional?null:void 0,a)}function It(s,a=_t.Default){return(function Mt(){return qt}()||Dt)(Oe(s),a)}function kt(s,a=_t.Default){return It(s,Bn(a))}function Bn(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Qt(s){const a=[];for(let c=0;c<s.length;c++){const d=Oe(s[c]);if(Array.isArray(d)){if(0===d.length)throw new re(900,!1);let f,g=_t.Default;for(let v=0;v<d.length;v++){const E=d[v],T=ks(E);"number"==typeof T?-1===T?f=E.token:g|=T:f=E}a.push(It(f,g))}else a.push(It(d))}return a}function ui(s,a){return s[Xn]=a,s.prototype[Xn]=a,s}function ks(s){return s[Xn]}function pe(s){return{toString:s}.toString()}var ie=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(ie||{}),ke=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(ke||{});const ot={},We=[],Nt=B({\u0275cmp:B}),nn=B({\u0275dir:B}),ei=B({\u0275pipe:B}),ti=B({\u0275mod:B}),Vi=B({\u0275fac:B}),Os=B({__NG_ELEMENT_ID__:B}),Ba=B({__NG_ENV_ID__:B});function gd(s,a,c){let d=s.length;for(;;){const f=s.indexOf(a,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const g=a.length;if(f+g===d||s.charCodeAt(f+g)<=32)return f}c=f+1}}function Xo(s,a,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const g=c[d++],v=c[d++],E=c[d++];s.setAttribute(a,v,E,g)}else{const g=f,v=c[++d];Qr(g)?s.setProperty(a,g,v):s.setAttribute(a,g,v),d++}}return d}function _d(s){return 3===s||4===s||6===s}function Qr(s){return 64===s.charCodeAt(0)}function ea(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||Ps(s,c,f,null,-1===c||2===c?a[++d]:null)}}return s}function Ps(s,a,c,d,f){let g=0,v=s.length;if(-1===a)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===a){v=-1;break}if(E>a){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==f&&(s[g+1]=f));if(d===s[g+1])return void(s[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(s.splice(v,0,a),g=v+1),s.splice(g++,0,c),null!==d&&s.splice(g++,0,d),null!==f&&s.splice(g++,0,f)}const yd="ng-template";function ni(s,a,c){let d=0,f=!0;for(;d<s.length;){let g=s[d++];if("string"==typeof g&&f){const v=s[d++];if(c&&"class"===g&&-1!==gd(v.toLowerCase(),a,0))return!0}else{if(1===g){for(;d<s.length&&"string"==typeof(g=s[d++]);)if(g.toLowerCase()===a)return!0;return!1}"number"==typeof g&&(f=!1)}}return!1}function Pr(s){return 4===s.type&&s.value!==yd}function wy(s,a,c){return a===(4!==s.type||c?s.value:yd)}function wm(s,a,c){let d=4;const f=s.attrs||[],g=function Ey(s){for(let a=0;a<s.length;a++)if(_d(s[a]))return a;return s.length}(f);let v=!1;for(let E=0;E<a.length;E++){const T=a[E];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!wy(s,T,c)||""===T&&1===a.length){if(mr(d))return!1;v=!0}}else{const A=8&d?T:a[++E];if(8&d&&null!==s.attrs){if(!ni(s.attrs,A,c)){if(mr(d))return!1;v=!0}continue}const U=ta(8&d?"class":T,f,Pr(s),c);if(-1===U){if(mr(d))return!1;v=!0;continue}if(""!==A){let Z;Z=U>g?"":f[U+1].toLowerCase();const J=8&d?Z:null;if(J&&-1!==gd(J,A,0)||2&d&&A!==Z){if(mr(d))return!1;v=!0}}}}else{if(!v&&!mr(d)&&!mr(T))return!1;if(v&&mr(T))continue;v=!1,d=T|1&d}}return mr(d)||v}function mr(s){return 0==(1&s)}function ta(s,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let g=!1;for(;f<a.length;){const v=a[f];if(v===s)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=a[++f];for(;"string"==typeof E;)E=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function na(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,s)}function jc(s,a,c=!1){for(let d=0;d<a.length;d++)if(wm(s,a[d],c))return!0;return!1}function rf(s,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function ja(s,a){return s?":not("+a.trim()+")":a}function Hc(s){let a=s[0],c=1,d=2,f="",g=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const E=s[++c];f+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!mr(v)&&(a+=ja(g,f),f=""),d=v,g=g||!mr(d);c++}return""!==f&&(a+=ja(g,f)),a}function zc(s){return pe(()=>{const a=bd(s),c={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===ie.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||ke.Emulated,styles:s.styles||We,_:null,schemas:s.schemas||null,tView:null,id:""};Em(c);const d=s.dependencies;return c.directiveDefs=Gl(d,!1),c.pipeDefs=Gl(d,!0),c.id=function Xr(s){let a=0;const c=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const f of c)a=Math.imul(31,a)+f.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function vd(s){return Jt(s)||zn(s)}function $c(s){return null!==s}function $l(s){return pe(()=>({type:s.type,bootstrap:s.bootstrap||We,declarations:s.declarations||We,imports:s.imports||We,exports:s.exports||We,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Gc(s,a){if(null==s)return ot;const c={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,a&&(a[f]=g)}return c}function Ha(s){return pe(()=>{const a=bd(s);return Em(a),a})}function qc(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Jt(s){return s[Nt]||null}function zn(s){return s[nn]||null}function rr(s){return s[ei]||null}function Xs(s){const a=Jt(s)||zn(s)||rr(s);return null!==a&&a.standalone}function sr(s,a){const c=s[ti]||null;if(!c&&!0===a)throw new Error(`Type ${ee(s)} does not have '\u0275mod' property.`);return c}function bd(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:s.inputs||ot,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||We,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Gc(s.inputs,a),outputs:Gc(s.outputs)}}function Em(s){s.features?.forEach(a=>a(s))}function Gl(s,a){if(!s)return null;const c=a?rr:vd;return()=>("function"==typeof s?s():s).map(d=>c(d)).filter($c)}const Mn=0,it=1,Ct=2,Rn=3,or=4,ia=5,Ui=6,ql=7,In=8,eo=9,za=10,Tt=11,Bi=12,lf=13,to=14,kn=15,wd=16,ra=17,vi=18,no=19,io=20,Ro=21,es=22,Zl=23,ko=24,Bt=25,$a=1,Wc=2,bi=7,wi=9,ji=11;function Ei(s){return Array.isArray(s)&&"object"==typeof s[$a]}function tr(s){return Array.isArray(s)&&!0===s[$a]}function Kc(s){return 0!=(4&s.flags)}function oa(s){return s.componentOffset>-1}function Nr(s){return 1==(1&s.flags)}function gr(s){return!!s.template}function Ga(s){return 0!=(512&s[Ct])}function aa(s,a){return s.hasOwnProperty(Vi)?s[Vi]:null}let di=null,la=!1;function _r(s){const a=di;return di=s,a}const ca={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Yl(s){if(!ua(s)||s.dirty){if(!s.producerMustRecompute(s)&&!Sd(s))return void(s.dirty=!1);s.producerRecomputeValue(s),s.dirty=!1}}function Ql(s){s.dirty=!0,function ff(s){if(void 0===s.liveConsumerNode)return;const a=la;la=!0;try{for(const c of s.liveConsumerNode)c.dirty||Ql(c)}finally{la=a}}(s),s.consumerMarkedDirty?.(s)}function pf(s){return s&&(s.nextProducerIndex=0),_r(s)}function Ci(s,a){if(_r(a),s&&void 0!==s.producerNode&&void 0!==s.producerIndexOfThis&&void 0!==s.producerLastReadVersion){if(ua(s))for(let c=s.nextProducerIndex;c<s.producerNode.length;c++)Jl(s.producerNode[c],s.producerIndexOfThis[c]);for(;s.producerNode.length>s.nextProducerIndex;)s.producerNode.pop(),s.producerLastReadVersion.pop(),s.producerIndexOfThis.pop()}}function Sd(s){Po(s);for(let a=0;a<s.producerNode.length;a++){const c=s.producerNode[a],d=s.producerLastReadVersion[a];if(d!==c.version||(Yl(c),d!==c.version))return!0}return!1}function Ad(s){if(Po(s),ua(s))for(let a=0;a<s.producerNode.length;a++)Jl(s.producerNode[a],s.producerIndexOfThis[a]);s.producerNode.length=s.producerLastReadVersion.length=s.producerIndexOfThis.length=0,s.liveConsumerNode&&(s.liveConsumerNode.length=s.liveConsumerIndexOfThis.length=0)}function Jl(s,a){if(function Xl(s){s.liveConsumerNode??=[],s.liveConsumerIndexOfThis??=[]}(s),Po(s),1===s.liveConsumerNode.length)for(let d=0;d<s.producerNode.length;d++)Jl(s.producerNode[d],s.producerIndexOfThis[d]);const c=s.liveConsumerNode.length-1;if(s.liveConsumerNode[a]=s.liveConsumerNode[c],s.liveConsumerIndexOfThis[a]=s.liveConsumerIndexOfThis[c],s.liveConsumerNode.length--,s.liveConsumerIndexOfThis.length--,a<s.liveConsumerNode.length){const d=s.liveConsumerIndexOfThis[a],f=s.liveConsumerNode[a];Po(f),f.producerIndexOfThis[d]=a}}function ua(s){return s.consumerIsAlwaysLive||(s?.liveConsumerNode?.length??0)>0}function Po(s){s.producerNode??=[],s.producerIndexOfThis??=[],s.producerLastReadVersion??=[]}let _f=null;function Od(s){const a=_r(null);try{return s()}finally{_r(a)}}const Pd=()=>{},Sm=(()=>({...ca,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:s=>{s.schedule(s.ref)},hasRun:!1,cleanupFn:Pd}))();class Am{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function eu(){return nc}function nc(s){return s.type.prototype.ngOnChanges&&(s.setInput=da),Mm}function Mm(){const s=ha(this),a=s?.current;if(a){const c=s.previous;if(c===ot)s.previous=a;else for(let d in a)c[d]=a[d];s.current=null,this.ngOnChanges(a)}}function da(s,a,c,d){const f=this.declaredInputs[c],g=ha(s)||function vf(s,a){return s[Fs]=a}(s,{previous:ot,current:null}),v=g.current||(g.current={}),E=g.previous,T=E[f];v[f]=new Am(T&&T.currentValue,a,E===ot),s[d]=a}eu.ngInherit=!0;const Fs="__ngSimpleChanges__";function ha(s){return s[Fs]||null}const hs=function(s,a,c){},bf="svg";function ln(s){for(;Array.isArray(s);)s=s[Mn];return s}function fa(s,a){return ln(a[s])}function Hi(s,a){return ln(a[s.index])}function Fd(s,a){return s.data[a]}function pa(s,a){return s[a]}function zi(s,a){const c=a[s];return Ei(c)?c:c[Mn]}function yr(s,a){return null==a?null:s[a]}function Nm(s){s[ra]=0}function Ld(s){1024&s[Ct]||(s[Ct]|=1024,Ry(s,1))}function tu(s){1024&s[Ct]&&(s[Ct]&=-1025,Ry(s,-1))}function Ry(s,a){let c=s[Rn];if(null===c)return;c[ia]+=a;let d=c;for(c=c[Rn];null!==c&&(1===a&&1===d[ia]||-1===a&&0===d[ia]);)c[ia]+=a,d=c,c=c[Rn]}const xt={lFrame:Xa(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $i(){return xt.bindingsEnabled}function Ls(){return null!==xt.skipHydrationRootTNode}function De(){return xt.lFrame.lView}function Kt(){return xt.lFrame.tView}function fs(s){return xt.lFrame.contextLView=s,s[In]}function su(s){return xt.lFrame.contextLView=null,s}function Ti(){let s=ou();for(;null!==s&&64===s.type;)s=s.parent;return s}function ou(){return xt.lFrame.currentTNode}function Fo(s,a){const c=xt.lFrame;c.currentTNode=s,c.isParent=a}function ma(){return xt.lFrame.isParent}function Ud(){xt.lFrame.isParent=!1}function vr(){const s=xt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function ga(){return xt.lFrame.bindingIndex++}function au(s,a){const c=xt.lFrame;c.bindingIndex=c.bindingRootIndex=s,lu(a)}function lu(s){xt.lFrame.currentDirectiveIndex=s}function cu(){return xt.lFrame.currentQueryIndex}function Df(s){xt.lFrame.currentQueryIndex=s}function Sf(s){const a=s[it];return 2===a.type?a.declTNode:1===a.type?s[Ui]:null}function Lm(s,a,c){if(c&_t.SkipSelf){let f=a,g=s;for(;!(f=f.parent,null!==f||c&_t.Host||(f=Sf(g),null===f||(g=g[to],10&f.type))););if(null===f)return!1;a=f,s=g}const d=xt.lFrame=Lr();return d.currentTNode=a,d.lView=s,!0}function Fn(s){const a=Lr(),c=s[it];xt.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Lr(){const s=xt.lFrame,a=null===s?null:s.child;return null===a?Xa(s):a}function Xa(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Ln(){const s=xt.lFrame;return xt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ut=Ln;function xi(){const s=Ln();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Gi(){return xt.lFrame.selectedIndex}function so(s){xt.lFrame.selectedIndex=s}function yn(){const s=xt.lFrame;return Fd(s.tView,s.selectedIndex)}function Lo(){xt.lFrame.currentNamespace=bf}function tt(){!function Af(){xt.lFrame.currentNamespace=null}()}let _a=!0;function ns(){return _a}function gs(s){_a=s}function el(s,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:k}=g;v&&(s.contentHooks??=[]).push(-c,v),E&&((s.contentHooks??=[]).push(c,E),(s.contentCheckHooks??=[]).push(c,E)),T&&(s.viewHooks??=[]).push(-c,T),A&&((s.viewHooks??=[]).push(c,A),(s.viewCheckHooks??=[]).push(c,A)),null!=k&&(s.destroyHooks??=[]).push(c,k)}}function Vo(s,a,c){Vm(s,a,3,c)}function du(s,a,c,d){(3&s[Ct])===c&&Vm(s,a,c,d)}function tl(s,a){let c=s[Ct];(3&c)===a&&(c&=8191,c+=1,s[Ct]=c)}function Vm(s,a,c,d){const g=d??-1,v=a.length-1;let E=0;for(let T=void 0!==d?65535&s[ra]:0;T<v;T++)if("number"==typeof a[T+1]){if(E=a[T],null!=d&&E>=d)break}else a[T]<0&&(s[ra]+=65536),(E<g||-1==g)&&(va(s,c,a,T),s[ra]=(4294901760&s[ra])+T+2),T++}function ya(s,a){hs(4,s,a);const c=_r(null);try{a.call(s)}finally{_r(c),hs(5,s,a)}}function va(s,a,c,d){const f=c[d]<0,g=c[d+1],E=s[f?-c[d]:c[d]];f?s[Ct]>>13<s[ra]>>16&&(3&s[Ct])===a&&(s[Ct]+=8192,ya(E,g)):ya(E,g)}const Uo=-1;class _s{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function rl(s){return s!==Uo}function Xt(s){return 32767&s}function ar(s,a){let c=function $n(s){return s>>16}(s),d=a;for(;c>0;)d=d[to],c--;return d}let Vs=!0;function hi(s){const a=Vs;return Vs=s,a}const oc=255,Rf=5;let Gd=0;const Zi={};function vn(s,a){const c=ac(s,a);if(-1!==c)return c;const d=a[it];d.firstCreatePass&&(s.injectorIndex=a.length,is(d.data,s),is(a,null),is(d.blueprint,null));const f=Vr(s,a),g=s.injectorIndex;if(rl(f)){const v=Xt(f),E=ar(f,a),T=E[it].data;for(let A=0;A<8;A++)a[g+A]=E[v+A]|T[v+A]}return a[g+8]=f,g}function is(s,a){s.push(0,0,0,0,0,0,0,0,a)}function ac(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Vr(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){if(d=Kd(f),null===d)return Uo;if(c++,f=f[to],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Uo}function ba(s,a,c){!function Bo(s,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Os)&&(d=c[Os]),null==d&&(d=c[Os]=Gd++);const f=d&oc;a.data[s+(f>>Rf)]|=1<<f}(s,a,c)}function lc(s,a,c){if(c&_t.Optional||void 0!==s)return s;Et()}function jo(s,a,c,d){if(c&_t.Optional&&void 0===d&&(d=null),!(c&(_t.Self|_t.Host))){const f=s[eo],g=mn(void 0);try{return f?f.get(a,d,c&_t.Optional):Nn(a,d,c&_t.Optional)}finally{mn(g)}}return lc(d,0,c)}function cc(s,a,c,d=_t.Default,f){if(null!==s){if(2048&a[Ct]&&!(d&_t.Self)){const v=function Um(s,a,c,d,f){let g=s,v=a;for(;null!==g&&null!==v&&2048&v[Ct]&&!(512&v[Ct]);){const E=Ur(g,v,c,d|_t.Self,Zi);if(E!==Zi)return E;let T=g.parent;if(!T){const A=v[io];if(A){const k=A.get(c,Zi,d);if(k!==Zi)return k}T=Kd(v),v=v[to]}g=T}return f}(s,a,c,d,Zi);if(v!==Zi)return v}const g=Ur(s,a,c,d,Zi);if(g!==Zi)return g}return jo(a,c,d,f)}function Ur(s,a,c,d,f){const g=function sl(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Os)?s[Os]:void 0;return"number"==typeof a?a>=0?a&oc:bs:a}(c);if("function"==typeof g){if(!Lm(a,s,d))return d&_t.Host?lc(f,0,d):jo(a,c,d,f);try{let v;if(v=g(d),null!=v||d&_t.Optional)return v;Et()}finally{ut()}}else if("number"==typeof g){let v=null,E=ac(s,a),T=Uo,A=d&_t.Host?a[kn][Ui]:null;for((-1===E||d&_t.SkipSelf)&&(T=-1===E?Vr(s,a):a[E+8],T!==Uo&&qd(d,!1)?(v=a[it],E=Xt(T),a=ar(T,a)):E=-1);-1!==E;){const k=a[it];if(oo(g,E,k.data)){const U=Ft(E,a,c,v,d,A);if(U!==Zi)return U}T=a[E+8],T!==Uo&&qd(d,a[it].data[E+8]===A)&&oo(g,E,a)?(v=k,E=Xt(T),a=ar(T,a)):E=-1}}return f}function Ft(s,a,c,d,f,g){const v=a[it],E=v.data[s+8],k=wa(E,v,c,null==d?oa(E)&&Vs:d!=v&&0!=(3&E.type),f&_t.Host&&g===E);return null!==k?Ea(a,v,k,E):Zi}function wa(s,a,c,d,f){const g=s.providerIndexes,v=a.data,E=1048575&g,T=s.directiveStart,k=g>>20,Z=f?E+k:s.directiveEnd;for(let J=d?E:E+k;J<Z;J++){const ve=v[J];if(J<T&&c===ve||J>=T&&ve.type===c)return J}if(f){const J=v[T];if(J&&gr(J)&&J.type===c)return T}return null}function Ea(s,a,c,d){let f=s[c];const g=a.data;if(function nl(s){return s instanceof _s}(f)){const v=f;v.resolving&&function Fe(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new re(-200,`Circular dependency in DI detected for ${s}${c}`)}(function xe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ne(s)}(g[c]));const E=hi(v.canSeeViewProviders);v.resolving=!0;const A=v.injectImpl?mn(v.injectImpl):null;Lm(s,d,_t.Default);try{f=s[c]=v.factory(void 0,g,s,d),a.firstCreatePass&&c>=d.directiveStart&&function pn(s,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=a.type.prototype;if(d){const v=nc(a);(c.preOrderHooks??=[]).push(s,v),(c.preOrderCheckHooks??=[]).push(s,v)}f&&(c.preOrderHooks??=[]).push(0-s,f),g&&((c.preOrderHooks??=[]).push(s,g),(c.preOrderCheckHooks??=[]).push(s,g))}(c,g[c],a)}finally{null!==A&&mn(A),hi(E),v.resolving=!1,ut()}}return f}function oo(s,a,c){return!!(c[a+(s>>Rf)]&1<<s)}function qd(s,a){return!(s&_t.Self||s&_t.Host&&a)}class jn{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return cc(this._tNode,this._lView,a,Bn(d),c)}}function bs(){return new jn(Ti(),De())}function Ho(s){return pe(()=>{const a=s.prototype.constructor,c=a[Vi]||Wd(a),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const g=f[Vi]||Wd(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Wd(s){return qe(s)?()=>{const a=Wd(Oe(s));return a&&a()}:aa(s)}function Kd(s){const a=s[it],c=a.type;return 2===c?a.declTNode:1===c?s[Ui]:null}function pu(s){return function fu(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(_d(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===a)return c[f+1];f+=2}}}return null}(Ti(),s)}const al="__parameters__";function P(s,a,c){return pe(()=>{const d=function M(s){return function(...c){if(s){const d=s(...c);for(const f in d)this[f]=d[f]}}}(a);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return E.annotation=v,E;function E(T,A,k){const U=T.hasOwnProperty(al)?T[al]:Object.defineProperty(T,al,{value:[]})[al];for(;U.length<=k;)U.push(null);return(U[k]=U[k]||[]).push(v),T}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}function ll(s,a){s.forEach(c=>Array.isArray(c)?ll(c,a):a(c))}function Ny(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function Bm(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Ca(s,a){const c=[];for(let d=0;d<s;d++)c.push(a);return c}function ws(s,a,c){let d=mu(s,a);return d>=0?s[1|d]=c:(d=~d,function Ly(s,a,c,d){let f=s.length;if(f==a)s.push(c,d);else if(1===f)s.push(d,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=c,s[a+1]=d}}(s,d,a,c)),d}function Hm(s,a){const c=mu(s,a);if(c>=0)return s[1|c]}function mu(s,a){return function zm(s,a,c){let d=0,f=s.length>>c;for(;f!==d;){const g=d+(f-d>>1),v=s[g<<c];if(a===v)return g<<c;v>a?f=g:d=g+1}return~(f<<c)}(s,a,1)}const Yd=ui(P("Optional"),8),Ta=ui(P("SkipSelf"),4);function Cu(s){return 128==(128&s.flags)}var Iu=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(Iu||{});const rh=new Map;let J0=0;const oh="__ngContext__";function Er(s,a){Ei(a)?(s[oh]=a[no],function jr(s){rh.set(s[no],s)}(a)):s[oh]=a}let z;function Y(s,a){return z(s,a)}function He(s){const a=s[Rn];return tr(a)?a[Rn]:a}function Hn(s){return dl(s[Bi])}function Es(s){return dl(s[or])}function dl(s){for(;null!==s&&!tr(s);)s=s[or];return s}function yc(s,a,c,d,f){if(null!=d){let g,v=!1;tr(d)?g=d:Ei(d)&&(v=!0,d=d[Mn]);const E=ln(d);0===s&&null!==c?null==f?XI(a,c,E):lh(a,c,E,f||null,!0):1===s&&null!==c?lh(a,c,E,f||null,!0):2===s?function Yy(s,a,c){const d=Ky(s,a);d&&function QM(s,a,c,d){s.removeChild(a,c,d)}(s,d,a,c)}(a,E,v):3===s&&a.destroyNode(E),null!=g&&function XM(s,a,c,d,f){const g=c[bi];g!==ln(c)&&yc(a,s,d,g,f);for(let E=ji;E<c.length;E++){const T=c[E];eg(T[it],T,s,a,d,g)}}(a,s,g,c,f)}}function xu(s,a,c){return s.createElement(a,c)}function Zy(s,a){const c=s[wi],d=c.indexOf(a);tu(a),c.splice(d,1)}function Wy(s,a){if(s.length<=ji)return;const c=ji+a,d=s[c];if(d){const f=d[wd];null!==f&&f!==s&&Zy(f,d),a>0&&(s[c-1][or]=d[or]);const g=Bm(s,ji+a);!function Gy(s,a){eg(s,a,a[Tt],2,null,null),a[Mn]=null,a[Ui]=null}(d[it],d);const v=g[vi];null!==v&&v.detachView(g[it]),d[Rn]=null,d[or]=null,d[Ct]&=-129}return d}function nw(s,a){if(!(256&a[Ct])){const c=a[Tt];a[Zl]&&Ad(a[Zl]),a[ko]&&Ad(a[ko]),c.destroyNode&&eg(s,a,c,3,null,null),function qy(s){let a=s[Bi];if(!a)return QI(s[it],s);for(;a;){let c=null;if(Ei(a))c=a[Bi];else{const d=a[ji];d&&(c=d)}if(!c){for(;a&&!a[or]&&a!==s;)Ei(a)&&QI(a[it],a),a=a[Rn];null===a&&(a=s),Ei(a)&&QI(a[it],a),c=a&&a[or]}a=c}}(a)}}function QI(s,a){if(!(256&a[Ct])){a[Ct]&=-129,a[Ct]|=256,function JI(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof _s)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=f[g[v]],T=g[v+1];hs(4,E,T);try{T.call(E)}finally{hs(5,E,T)}}else{hs(4,f,g);try{g.call(f)}finally{hs(5,f,g)}}}}}(s,a),function YM(s,a){const c=s.cleanup,d=a[ql];if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+3];v>=0?d[v]():d[-v].unsubscribe(),g+=2}else c[g].call(d[c[g+1]]);null!==d&&(a[ql]=null);const f=a[Ro];if(null!==f){a[Ro]=null;for(let g=0;g<f.length;g++)(0,f[g])()}}(s,a),1===a[it].type&&a[Tt].destroy();const c=a[wd];if(null!==c&&tr(a[Rn])){c!==a[Rn]&&Zy(c,a);const d=a[vi];null!==d&&d.detachView(s)}!function _c(s){rh.delete(s[no])}(a)}}function jf(s,a,c){return function ah(s,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[Mn];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:g}=s.data[d.directiveStart+f];if(g===ke.None||g===ke.Emulated)return null}return Hi(d,c)}}(s,a.parent,c)}function lh(s,a,c,d,f){s.insertBefore(a,c,d,f)}function XI(s,a,c){s.appendChild(a,c)}function eT(s,a,c,d,f){null!==d?lh(s,a,c,d,f):XI(s,a,c)}function Ky(s,a){return s.parentNode(a)}function tT(s,a,c){return iw(s,a,c)}let rw,Qy,oT,Jy,iw=function nT(s,a,c){return 40&s.type?Hi(s,c):null};function Jm(s,a,c,d){const f=jf(s,d,a),g=a[Tt],E=tT(d.parent||a[Ui],d,a);if(null!=f)if(Array.isArray(c))for(let T=0;T<c.length;T++)eT(g,f,c[T],E,!1);else eT(g,f,c,E,!1);void 0!==rw&&rw(g,d,a,c,f)}function pl(s,a){if(null!==a){const c=a.type;if(3&c)return Hi(a,s);if(4&c)return ow(-1,s[a.index]);if(8&c){const d=a.child;if(null!==d)return pl(s,d);{const f=s[a.index];return tr(f)?ow(-1,f):ln(f)}}if(32&c)return Y(a,s)()||ln(s[a.index]);{const d=sw(s,a);return null!==d?Array.isArray(d)?d[0]:pl(He(s[kn]),d):pl(s,a.next)}}return null}function sw(s,a){return null!==a?s[kn][Ui].projection[a.projection]:null}function ow(s,a){const c=ji+s+1;if(c<a.length){const d=a[c],f=d[it].firstChild;if(null!==f)return pl(d,f)}return a[bi]}function Xm(s,a,c,d,f,g,v){for(;null!=c;){const E=d[c.index],T=c.type;if(v&&0===a&&(E&&Er(ln(E),d),c.flags|=2),32!=(32&c.flags))if(8&T)Xm(s,a,c.child,d,f,g,!1),yc(a,s,f,E,g);else if(32&T){const A=Y(c,d);let k;for(;k=A();)yc(a,s,f,k,g);yc(a,s,f,E,g)}else 16&T?lw(s,a,d,c,f,g):yc(a,s,f,E,g);c=v?c.projectionNext:c.next}}function eg(s,a,c,d,f,g){Xm(c,d,s.firstChild,a,f,g,!1)}function lw(s,a,c,d,f,g){const v=c[kn],T=v[Ui].projection[d.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)yc(a,s,f,T[A],g);else{let A=T;const k=v[Rn];Cu(d)&&(A.flags|=128),Xm(s,a,A,k,f,g,!0)}}function rT(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function tg(s,a,c){const{mergedAttrs:d,classes:f,styles:g}=c;null!==d&&Xo(s,a,d),null!==f&&rT(s,a,f),null!==g&&function t1(s,a,c){s.setAttribute(a,"style",c)}(s,a,g)}function Hf(s){return function cw(){if(void 0===Qy&&(Qy=null,un.trustedTypes))try{Qy=un.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Qy}()?.createHTML(s)||s}function aT(s){oT=s}function uT(s){return function uw(){if(void 0===Jy&&(Jy=null,un.trustedTypes))try{Jy=un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Jy}()?.createScriptURL(s)||s}class uh{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pt})`}}class dT extends uh{getTypeName(){return"HTML"}}class dw extends uh{getTypeName(){return"Style"}}class zf extends uh{getTypeName(){return"Script"}}class hw extends uh{getTypeName(){return"URL"}}class s1 extends uh{getTypeName(){return"ResourceURL"}}function bc(s){return s instanceof uh?s.changingThisBreaksApplicationSecurity:s}function dh(s,a){const c=function Xy(s){return s instanceof uh&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${pt})`)}return c===a}function hT(s){return new dT(s)}function fT(s){return new dw(s)}function o1(s){return new zf(s)}function a1(s){return new hw(s)}function l1(s){return new s1(s)}class ev{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Hf(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class c1{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=Hf(a),c}}const ng=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ig(s){return(s=String(s)).match(ng)?s:"unsafe:"+s}function wc(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function rg(...s){const a={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const mT=wc("area,br,col,hr,img,wbr"),gT=wc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cr=wc("rp,rt"),fw=rg(mT,rg(gT,wc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rg(Cr,wc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rg(Cr,gT)),pw=wc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),f1=rg(pw,wc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),p1=wc("script,style,template");class mw{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!fw.hasOwnProperty(c))return this.sanitizedSomething=!0,!p1.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,E=v.toLowerCase();if(!f1.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=g.value;pw[E]&&(T=ig(T)),this.buf.push(" ",v,'="',gw(T),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();fw.hasOwnProperty(c)&&!mT.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(gw(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const _T=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JN=/([^\#-~ |!])/g;function gw(s){return s.replace(/&/g,"&amp;").replace(_T,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(JN,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zo;function yT(s,a){let c=null;try{zo=zo||function pT(s){const a=new c1(s);return function u1(){try{return!!(new window.DOMParser).parseFromString(Hf(""),"text/html")}catch{return!1}}()?new ev(a):a}(s);let d=a?String(a):"";c=zo.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=zo.getInertBodyElement(d)}while(d!==g);return Hf((new mw).sanitizeChildren(vT(c)||c))}finally{if(c){const d=vT(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function vT(s){return"content"in s&&function XN(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Gf=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(Gf||{});function sg(s){const a=og();return a?a.sanitize(Gf.URL,s)||"":dh(s,"URL")?bc(s):ig(ne(s))}function ET(s){const a=og();if(a)return uT(a.sanitize(Gf.RESOURCE_URL,s)||"");if(dh(s,"ResourceURL"))return uT(bc(s));throw new re(904,!1)}function _1(s,a,c){return function g1(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?ET:sg}(a,c)(s)}function og(){const s=De();return s&&s[za].sanitizer}class bn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Pt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qf=new bn("ENVIRONMENT_INITIALIZER"),IT=new bn("INJECTOR",-1),TT=new bn("INJECTOR_DEF_TYPES");class tv{get(a,c=pr){if(c===pr){const d=new Error(`NullInjectorError: No provider for ${ee(a)}!`);throw d.name="NullInjectorError",d}return c}}function y1(...s){return{\u0275providers:DT(0,s),\u0275fromNgModule:!0}}function DT(s,...a){const c=[],d=new Set;let f;const g=v=>{c.push(v)};return ll(a,v=>{const E=v;nv(E,g,[],d)&&(f||=[],f.push(E))}),void 0!==f&&ST(f,g),c}function ST(s,a){for(let c=0;c<s.length;c++){const{ngModule:d,providers:f}=s[c];_w(f,g=>{a(g,d)})}}function nv(s,a,c,d){if(!(s=Oe(s)))return!1;let f=null,g=xo(s);const v=!g&&Jt(s);if(g||v){if(v&&!v.standalone)return!1;f=s}else{const T=s.ngModule;if(g=xo(T),!g)return!1;f=T}const E=d.has(f);if(v){if(E)return!1;if(d.add(f),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of T)nv(A,a,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let A;d.add(f);try{ll(g.imports,k=>{nv(k,a,c,d)&&(A||=[],A.push(k))})}finally{}void 0!==A&&ST(A,a)}if(!E){const A=aa(f)||(()=>new f);a({provide:f,useFactory:A,deps:We},f),a({provide:TT,useValue:f,multi:!0},f),a({provide:qf,useValue:()=>It(f),multi:!0},f)}const T=g.providers;if(null!=T&&!E){const A=s;_w(T,k=>{a(k,A)})}}}return f!==s&&void 0!==s.providers}function _w(s,a){for(let c of s)Ve(c)&&(c=c.\u0275providers),Array.isArray(c)?_w(c,a):a(c)}const tF=B({provide:String,useValue:B});function AT(s){return null!==s&&"object"==typeof s&&tF in s}function Zf(s){return"function"==typeof s}const Ec=new bn("Set Injector scope."),hh={},E1={};let yw;function Wf(){return void 0===yw&&(yw=new tv),yw}class $o{}class ag extends $o{get destroyed(){return this._destroyed}constructor(a,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cg(a,v=>this.processProvider(v)),this.records.set(IT,Cc(void 0,this)),f.has("environment")&&this.records.set($o,Cc(void 0,this));const g=this.records.get(Ec);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(TT.multi,We,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=et(this),d=mn(void 0);try{return a()}finally{et(c),mn(d)}}get(a,c=pr,d=_t.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Ba))return a[Ba](this);d=Bn(d);const g=et(this),v=mn(void 0);try{if(!(d&_t.SkipSelf)){let T=this.records.get(a);if(void 0===T){const A=function I1(s){return"function"==typeof s||"object"==typeof s&&s instanceof bn}(a)&&mi(a);T=A&&this.injectableDefInScope(A)?Cc(lg(a),hh):null,this.records.set(a,T)}if(null!=T)return this.hydrate(a,T)}return(d&_t.Self?Wf():this.parent).get(a,c=d&_t.Optional&&c===pr?null:c)}catch(E){if("NullInjectorError"===E.name){if((E[Kr]=E[Kr]||[]).unshift(ee(a)),g)throw E;return function Js(s,a,c,d){const f=s[Kr];throw a[K]&&f.unshift(a[K]),s.message=function zl(s,a,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=ee(a);if(Array.isArray(a))f=a.map(ee).join(" -> ");else if("object"==typeof a){let g=[];for(let v in a)if(a.hasOwnProperty(v)){let E=a[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):ee(E)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${s.replace($,"\n  ")}`}("\n"+s.message,f,c,d),s.ngTokenPath=f,s[Kr]=null,s}(E,a,"R3InjectorError",this.source)}throw E}finally{mn(v),et(g)}}resolveInjectorInitializers(){const a=et(this),c=mn(void 0);try{const f=this.get(qf.multi,We,_t.Self);for(const g of f)g()}finally{et(a),mn(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(ee(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new re(205,!1)}processProvider(a){let c=Zf(a=Oe(a))?a:Oe(a&&a.provide);const d=function Cs(s){return AT(s)?Cc(void 0,s.useValue):Cc(vw(s),hh)}(a);if(Zf(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Cc(void 0,hh,!0),f.factory=()=>Qt(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===hh&&(c.value=E1,c.value=c.factory()),"object"==typeof c.value&&c.value&&function iF(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Oe(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function lg(s){const a=mi(s),c=null!==a?a.factory:aa(s);if(null!==c)return c;if(s instanceof bn)throw new re(204,!1);if(s instanceof Function)return function Zn(s){const a=s.length;if(a>0)throw Ca(a,"?"),new re(204,!1);const c=function Rr(s){return s&&(s[kr]||s[Do])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new re(204,!1)}function vw(s,a,c){let d;if(Zf(s)){const f=Oe(s);return aa(f)||lg(f)}if(AT(s))d=()=>Oe(s.useValue);else if(function w1(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Qt(s.deps||[]));else if(function b1(s){return!(!s||!s.useExisting)}(s))d=()=>It(Oe(s.useExisting));else{const f=Oe(s&&(s.useClass||s.provide));if(!function C1(s){return!!s.deps}(s))return aa(f)||lg(f);d=()=>new f(...Qt(s.deps))}return d}function Cc(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function cg(s,a){for(const c of s)Array.isArray(c)?cg(c,a):c&&Ve(c)?cg(c.\u0275providers,a):a(c)}const T1=new bn("AppId",{providedIn:"root",factory:()=>rF}),rF="ng",MT=new bn("Platform Initializer"),bw=new bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),sF=new bn("AnimationModuleType"),oF=new bn("CSP nonce",{providedIn:"root",factory:()=>function ch(){if(void 0!==oT)return oT;if(typeof document<"u")return document;throw new re(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Iw=(s,a,c)=>null;function Tw(s,a,c=!1){return Iw(s,a,c)}class A1{}class NT{}class FT{resolveComponentFactory(a){throw function fg(s){const a=Error(`No component factory found for ${ee(s)}.`);return a.ngComponent=s,a}(a)}}let pg=(()=>{class s{static#e=this.NULL=new FT}return s})();function M1(){return Qf(Ti(),De())}function Qf(s,a){return new mg(Hi(s,a))}let mg=(()=>{class s{constructor(c){this.nativeElement=c}static#e=this.__NG_ELEMENT_ID__=M1}return s})();function LT(s){return s instanceof mg?s.nativeElement:s}class rv{}let VT=(()=>{class s{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Rw(){const s=De(),c=zi(Ti().index,s);return(Ei(c)?c:s)[Tt]}()}return s})(),UT=(()=>{class s{static#e=this.\u0275prov=Pt({token:s,providedIn:"root",factory:()=>null})}return s})();class Jf{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const BT=new Jf("16.2.9"),gg={};function Nw(s,a=null,c=null,d){const f=lv(s,a,c,d);return f.resolveInjectorInitializers(),f}function lv(s,a=null,c=null,d,f=new Set){const g=[c||We,y1(s)];return d=d||("object"==typeof s?void 0:ee(s)),new ag(g,a||Wf(),d||null,f)}let fo=(()=>{class s{static#e=this.THROW_IF_NOT_FOUND=pr;static#t=this.NULL=new tv;static create(c,d){if(Array.isArray(c))return Nw({name:""},d,c,"");{const f=c.name??"";return Nw({name:f},c.parent,c.providers,f)}}static#n=this.\u0275prov=Pt({token:s,providedIn:"any",factory:()=>It(IT)});static#i=this.__NG_ELEMENT_ID__=-1}return s})();function Fw(s){return s.ngOriginalError}class Ic{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&Fw(a);for(;c&&Fw(c);)c=Fw(c);return c||null}}function Lw(s){return a=>{setTimeout(s,void 0,a)}}const ml=class P1 extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let f=a,g=c||(()=>null),v=d;if(a&&"object"==typeof a){const T=a;f=T.next?.bind(T),g=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(g=Lw(g),f&&(f=Lw(f)),v&&(v=Lw(v)));const E=super.subscribe({next:f,error:g,complete:v});return a instanceof X.w0&&a.add(E),E}};function GT(...s){}class Ir{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ml(!1),this.onMicrotaskEmpty=new ml(!1),this.onStable=new ml(!1),this.onError=new ml(!1),typeof Zone>"u")throw new re(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function N1(){const s="function"==typeof un.requestAnimationFrame;let a=un[s?"requestAnimationFrame":"setTimeout"],c=un[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function ZT(s){const a=()=>{!function qT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(un,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,_g(s),s.isCheckStableRunning=!0,Xf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),_g(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,v,E)=>{if(function YT(s){return!(!Array.isArray(s)||1!==s.length)&&!0===s[0].data?.__ignore_ng_zone__}(E))return c.invokeTask(f,g,v,E);try{return WT(s),c.invokeTask(f,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&a(),KT(s)}},onInvoke:(c,d,f,g,v,E,T)=>{try{return WT(s),c.invoke(f,g,v,E,T)}finally{s.shouldCoalesceRunChangeDetection&&a(),KT(s)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,_g(s),Xf(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ir.isInAngularZone())throw new re(909,!1)}static assertNotInAngularZone(){if(Ir.isInAngularZone())throw new re(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,a,F1,GT,GT);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const F1={};function Xf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function _g(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function WT(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function KT(s){s._nesting--,Xf(s)}class L1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ml,this.onMicrotaskEmpty=new ml,this.onStable=new ml,this.onError=new ml}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}const Vw=new bn("",{providedIn:"root",factory:Uw});function Uw(){const s=kt(Ir);let a=!0;const c=new L.y(f=>{a=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{f.next(a),f.complete()})}),d=new L.y(f=>{let g;s.runOutsideAngular(()=>{g=s.onStable.subscribe(()=>{Ir.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(a=!0,f.next(!0))})})});const v=s.onUnstable.subscribe(()=>{Ir.assertInAngularZone(),a&&(a=!1,s.runOutsideAngular(()=>{f.next(!1)}))});return()=>{g.unsubscribe(),v.unsubscribe()}});return(0,te.T)(c,d.pipe((0,_e.B)()))}function Au(s){return s instanceof Function?s():s}let uv=(()=>{class s{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Pt({token:s,providedIn:"root",factory:()=>new s})}return s})();function vg(s){for(;s;){s[Ct]|=64;const a=He(s);if(Ga(s)&&!a)return s;s=a}return null}const wg=new bn("",{providedIn:"root",factory:()=>!1});let Hw=null;function $1(s,a){return s[a]??fv()}function zw(s,a){const c=fv();c.producerNode?.length&&(s[a]=Hw,c.lView=s,Hw=hv())}const G1={...ca,consumerIsAlwaysLive:!0,consumerMarkedDirty:s=>{vg(s.lView)},lView:null};function hv(){return Object.create(G1)}function fv(){return Hw??=hv(),Hw}const jt={};function pv(s){mv(Kt(),De(),Gi()+s,!1)}function mv(s,a,c,d){if(!d)if(3==(3&a[Ct])){const g=s.preOrderCheckHooks;null!==g&&Vo(a,g,c)}else{const g=s.preOrderHooks;null!==g&&du(a,g,0,c)}so(c)}function Mu(s,a=_t.Default){const c=De();return null===c?It(s,a):cc(Ti(),c,Oe(s),a)}function gv(){throw new Error("invalid")}function _v(s,a,c,d,f,g,v,E,T,A,k){const U=a.blueprint.slice();return U[Mn]=f,U[Ct]=140|d,(null!==A||s&&2048&s[Ct])&&(U[Ct]|=2048),Nm(U),U[Rn]=U[to]=s,U[In]=c,U[za]=v||s&&s[za],U[Tt]=E||s&&s[Tt],U[eo]=T||s&&s[eo]||null,U[Ui]=g,U[no]=function sh(){return J0++}(),U[es]=k,U[io]=A,U[kn]=2==a.type?s[kn]:U,U}function gl(s,a,c,d,f){let g=s.data[a];if(null===g)g=function Eg(s,a,c,d,f){const g=ou(),v=ma(),T=s.data[a]=function K1(s,a,c,d,f,g){let v=a?a.injectorIndex:-1,E=0;return Ls()&&(E|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,a,d,f);return null===s.firstChild&&(s.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T,T.prev=g)),T}(s,a,c,d,f),function jd(){return xt.lFrame.inI18n}()&&(g.flags|=32);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const v=function Ja(){const s=xt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Fo(g,!0),g}function Tc(s,a,c,d){if(0===c)return-1;const f=a.length;for(let g=0;g<c;g++)a.push(d),s.blueprint.push(d),s.data.push(null);return f}function q1(s,a,c,d,f){const g=$1(a,Zl),v=Gi(),E=2&d;try{so(-1),E&&a.length>Bt&&mv(s,a,Bt,!1),hs(E?2:0,f);const A=E?g:null,k=pf(A);try{null!==A&&(A.dirty=!1),c(d,f)}finally{Ci(A,k)}}finally{E&&null===a[Zl]&&zw(a,Zl),so(v),hs(E?3:1,f)}}function yv(s,a,c){if(Kc(a)){const d=_r(null);try{const g=a.directiveEnd;for(let v=a.directiveStart;v<g;v++){const E=s.data[v];E.contentQueries&&E.contentQueries(1,c[v],v)}}finally{_r(d)}}}function $w(s,a,c){$i()&&(function _l(s,a,c,d){const f=c.directiveStart,g=c.directiveEnd;oa(c)&&function ox(s,a,c){const d=Hi(a,s),f=rt(c);let v=16;c.signals?v=4096:c.onPush&&(v=64);const E=Ou(s,_v(s,f,null,v,d,a,null,s[za].rendererFactory.createRenderer(d,c),null,null,null));s[a.index]=E}(a,c,s.data[f+c.componentOffset]),s.firstCreatePass||vn(c,a),Er(d,a);const v=c.initialInputs;for(let E=f;E<g;E++){const T=s.data[E],A=Ea(a,s,E,c);Er(A,a),null!==v&&Ww(0,E-f,A,T,0,v),gr(T)&&(zi(c.index,a)[In]=Ea(a,s,E,c))}}(s,a,c,Hi(c,a)),64==(64&c.flags)&&wv(s,a,c))}function po(s,a,c=Hi){const d=a.localNames;if(null!==d){let f=a.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?c(a,s):s[v];s[f++]=E}}}function rt(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Cg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):a}function Cg(s,a,c,d,f,g,v,E,T,A,k){const U=Bt+d,Z=U+f,J=function zt(s,a){const c=[];for(let d=0;d<a;d++)c.push(d<s?null:jt);return c}(U,Z),ve="function"==typeof A?A():A;return J[it]={type:s,blueprint:J,template:c,queries:null,viewQuery:E,declTNode:a,data:J.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:ve,incompleteFirstPass:!1,ssrId:k}}let tx=s=>null;function zr(s,a,c,d){for(let f in s)if(s.hasOwnProperty(f)){c=null===c?{}:c;const g=s[f];null===d?Tg(c,a,f,g):d.hasOwnProperty(f)&&Tg(c,a,d[f],g)}return c}function Tg(s,a,c,d){s.hasOwnProperty(c)?s[c].push(a,d):s[c]=[a,d]}function mo(s,a,c,d,f,g,v,E){const T=Hi(a,c);let k,A=a.inputs;!E&&null!=A&&(k=A[d])?(Jw(s,c,k,d,f),oa(a)&&function nx(s,a){const c=zi(a,s);16&c[Ct]||(c[Ct]|=64)}(c,a.index)):3&a.type&&(d=function Ru(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=v?v(f,a.value||"",d):f,g.setProperty(T,d,f))}function xr(s,a,c,d){if($i()){const f=null===d?null:{"":-1},g=function J1(s,a){const c=s.directiveRegistry;let d=null,f=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];if(jc(a,v.selectors,!1))if(d||(d=[]),gr(v))if(null!==v.findHostDirectiveDefs){const E=[];f=f||new Map,v.findHostDirectiveDefs(v,E,f),d.unshift(...E,v),ku(s,a,E.length)}else d.unshift(v),ku(s,a,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,d,f),d.push(v)}return null===d?null:[d,f]}(s,c);let v,E;null===g?v=E=null:[v,E]=g,null!==v&&ix(s,a,c,v,f,E),f&&function rx(s,a,c){if(a){const d=s.localNames=[];for(let f=0;f<a.length;f+=2){const g=c[a[f+1]];if(null==g)throw new re(-301,!1);d.push(a[f],g)}}}(c,d,f)}c.mergedAttrs=ea(c.mergedAttrs,c.attrs)}function ix(s,a,c,d,f,g){for(let A=0;A<d.length;A++)ba(vn(c,a),s,d[A].type);!function sx(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}(c,s.data.length,d.length);for(let A=0;A<d.length;A++){const k=d[A];k.providersResolver&&k.providersResolver(k)}let v=!1,E=!1,T=Tc(s,a,d.length,null);for(let A=0;A<d.length;A++){const k=d[A];c.mergedAttrs=ea(c.mergedAttrs,k.hostAttrs),X1(s,c,a,T,k),Zw(T,k,f),null!==k.contentQueries&&(c.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=64);const U=k.type.prototype;!v&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks??=[]).push(c.index),v=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(c.index),E=!0),T++}!function Tr(s,a,c){const f=a.directiveEnd,g=s.data,v=a.attrs,E=[];let T=null,A=null;for(let k=a.directiveStart;k<f;k++){const U=g[k],Z=c?c.get(U):null,ve=Z?Z.outputs:null;T=zr(U.inputs,k,T,Z?Z.inputs:null),A=zr(U.outputs,k,A,ve);const Le=null===T||null===v||Pr(a)?null:Kw(T,k,v);E.push(Le)}null!==T&&(T.hasOwnProperty("class")&&(a.flags|=8),T.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=T,a.outputs=A}(s,c,g)}function wv(s,a,c){const d=c.directiveStart,f=c.directiveEnd,g=c.index,v=function Py(){return xt.lFrame.currentDirectiveIndex}();try{so(g);for(let E=d;E<f;E++){const T=s.data[E],A=a[E];lu(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Q1(T,A)}}finally{so(-1),lu(v)}}function Q1(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function ku(s,a,c){a.componentOffset=c,(s.components??=[]).push(a.index)}function Zw(s,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=s;gr(a)&&(c[""]=s)}}function X1(s,a,c,d,f){s.data[d]=f;const g=f.factory||(f.factory=aa(f.type)),v=new _s(g,gr(f),Mu);s.blueprint[d]=v,c[d]=v,function xg(s,a,c,d,f){const g=f.hostBindings;if(g){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const E=~a.index;(function bv(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(v)!=E&&v.push(E),v.push(c,d,g)}}(s,a,d,Tc(s,c,f.hostVars,jt),f)}function qo(s,a,c,d,f,g){const v=Hi(s,a);!function Dg(s,a,c,d,f,g,v){if(null==g)s.removeAttribute(a,f,c);else{const E=null==v?ne(g):v(g,d||"",f);s.setAttribute(a,f,E,c)}}(a[Tt],v,g,s.value,c,d,f)}function Ww(s,a,c,d,f,g){const v=g[a];if(null!==v)for(let E=0;E<v.length;)Ev(d,c,v[E++],v[E++],v[E++])}function Ev(s,a,c,d,f){const g=_r(null);try{const v=s.inputTransforms;null!==v&&v.hasOwnProperty(d)&&(f=v[d].call(a,f)),null!==s.setInput?s.setInput(a,f,c,d):a[d]=f}finally{_r(g)}}function Kw(s,a,c){let d=null,f=0;for(;f<c.length;){const g=c[f];if(0!==g)if(5!==g){if("number"==typeof g)break;if(s.hasOwnProperty(g)){null===d&&(d=[]);const v=s[g];for(let E=0;E<v.length;E+=2)if(v[E]===a){d.push(g,v[E+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function Yw(s,a,c,d){return[s,!0,!1,a,null,0,d,c,null,null,null]}function ax(s,a){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const g=c[d+1];if(-1!==g){const v=s.data[g];Df(c[d]),v.contentQueries(2,a[g],g)}}}function Ou(s,a){return s[Bi]?s[lf][or]=a:s[Bi]=a,s[lf]=a,a}function Qw(s,a,c){Df(0);const d=_r(null);try{a(s,c)}finally{_r(d)}}function lx(s){return s[ql]||(s[ql]=[])}function cx(s){return s.cleanup||(s.cleanup=[])}function Iv(s,a){const c=s[eo],d=c?c.get(Ic,null):null;d&&d.handleError(a)}function Jw(s,a,c,d,f){for(let g=0;g<c.length;){const v=c[g++],E=c[g++];Ev(s.data[v],a[v],d,E,f)}}function ux(s,a){const c=zi(a,s),d=c[it];!function dx(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])}(d,c);const f=c[Mn];null!==f&&null===c[es]&&(c[es]=Tw(f,c[eo])),tp(d,c,c[In])}function tp(s,a,c){Fn(a);try{const d=s.viewQuery;null!==d&&Qw(1,d,c);const f=s.template;null!==f&&q1(s,a,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&ax(s,a),s.staticViewQueries&&Qw(2,s.viewQuery,c);const g=s.components;null!==g&&function Xw(s,a){for(let c=0;c<a.length;c++)ux(s,a[c])}(a,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[Ct]&=-5,xi()}}let Tv=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(c,d,f){const g=typeof Zone>"u"?null:Zone.current,v=function My(s,a,c){const d=Object.create(Sm);c&&(d.consumerAllowSignalWrites=!0),d.fn=s,d.schedule=a;const f=v=>{d.cleanupFn=v};return d.ref={notify:()=>Ql(d),run:()=>{if(d.dirty=!1,d.hasRun&&!Sd(d))return;d.hasRun=!0;const v=pf(d);try{d.cleanupFn(),d.cleanupFn=Pd,d.fn(f)}finally{Ci(d,v)}},cleanup:()=>d.cleanupFn()},d.ref}(c,A=>{this.all.has(A)&&this.queue.set(A,g)},f);let E;this.all.add(v),v.notify();const T=()=>{v.cleanup(),E?.(),this.all.delete(v),this.queue.delete(v)};return E=d?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Pt({token:s,providedIn:"root",factory:()=>new s})}return s})();function np(s,a,c){let d=c?s.styles:null,f=c?s.classes:null,g=0;if(null!==a)for(let v=0;v<a.length;v++){const E=a[v];"number"==typeof E?g=E:1==g?f=Be(f,E):2==g&&(d=Be(d,E+": "+a[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=f:s.classesWithoutHost=f}function ip(s,a,c,d,f=!1){for(;null!==c;){const g=a[c.index];null!==g&&d.push(ln(g)),tr(g)&&tE(g,d);const v=c.type;if(8&v)ip(s,a,c.child,d);else if(32&v){const E=Y(c,a);let T;for(;T=E();)d.push(T)}else if(16&v){const E=sw(a,c);if(Array.isArray(E))d.push(...E);else{const T=He(a[kn]);ip(T[it],T,E,d,!0)}}c=f?c.projectionNext:c.next}return d}function tE(s,a){for(let c=ji;c<s.length;c++){const d=s[c],f=d[it].firstChild;null!==f&&ip(d[it],d,f,a)}s[bi]!==s[Mn]&&a.push(s[bi])}function xv(s,a,c,d=!0){const f=a[za],g=f.rendererFactory,v=f.afterRenderEventManager;g.begin?.(),v?.begin();try{Dv(s,a,s.template,c)}catch(T){throw d&&Iv(a,T),T}finally{g.end?.(),f.effectManager?.flush(),v?.end()}}function Dv(s,a,c,d){const f=a[Ct];if(256!=(256&f)){a[za].effectManager?.flush(),Fn(a);try{Nm(a),function Tf(s){return xt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&q1(s,a,c,2,d);const v=3==(3&f);if(v){const A=s.preOrderCheckHooks;null!==A&&Vo(a,A,null)}else{const A=s.preOrderHooks;null!==A&&du(a,A,0,null),tl(a,0)}if(function tR(s){for(let a=Hn(s);null!==a;a=Es(a)){if(!a[Wc])continue;const c=a[wi];for(let d=0;d<c.length;d++){Ld(c[d])}}}(a),nE(a,2),null!==s.contentQueries&&ax(s,a),v){const A=s.contentCheckHooks;null!==A&&Vo(a,A)}else{const A=s.contentHooks;null!==A&&du(a,A,1),tl(a,1)}!function Go(s,a){const c=s.hostBindingOpCodes;if(null===c)return;const d=$1(a,ko);try{for(let f=0;f<c.length;f++){const g=c[f];if(g<0)so(~g);else{const v=g,E=c[++f],T=c[++f];au(E,v),d.dirty=!1;const A=pf(d);try{T(2,a[v])}finally{Ci(d,A)}}}}finally{null===a[ko]&&zw(a,ko),so(-1)}}(s,a);const E=s.components;null!==E&&Av(a,E,0);const T=s.viewQuery;if(null!==T&&Qw(2,T,d),v){const A=s.viewCheckHooks;null!==A&&Vo(a,A)}else{const A=s.viewHooks;null!==A&&du(a,A,2),tl(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[Ct]&=-73,tu(a)}finally{xi()}}}function nE(s,a){for(let c=Hn(s);null!==c;c=Es(c))for(let d=ji;d<c.length;d++)Sv(c[d],a)}function iE(s,a,c){Sv(zi(a,s),c)}function Sv(s,a){if(!function Qa(s){return 128==(128&s[Ct])}(s))return;const c=s[it],d=s[Ct];if(80&d&&0===a||1024&d||2===a)Dv(c,s,c.template,s[In]);else if(s[ia]>0){nE(s,1);const f=c.components;null!==f&&Av(s,f,1)}}function Av(s,a,c){for(let d=0;d<a.length;d++)iE(s,a[d],c)}class Ai{get rootNodes(){const a=this._lView,c=a[it];return ip(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[In]}set context(a){this._lView[In]=a}get destroyed(){return 256==(256&this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Rn];if(tr(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(Wy(a,d),Bm(c,d))}this._attachedToViewContainer=!1}nw(this._lView[it],this._lView)}onDestroy(a){!function Tn(s,a){if(256==(256&s[Ct]))throw new re(911,!1);null===s[Ro]&&(s[Ro]=[]),s[Ro].push(a)}(this._lView,a)}markForCheck(){vg(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-129}reattach(){this._lView[Ct]|=128}detectChanges(){xv(this._lView[it],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new re(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vc(s,a){eg(s,a,a[Tt],2,null,null)}(this._lView[it],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new re(902,!1);this._appRef=a}}class $r extends Ai{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;xv(a[it],a,a[In],!1)}checkNoChanges(){}get context(){return null}}class Ag extends pg{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Jt(a);return new Mg(c,this.ngModule)}}function Mv(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class iR{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=Bn(d);const f=this.injector.get(a,gg,d);return f!==gg||c===gg?f:this.parentInjector.get(a,c,d)}}class Mg extends NT{get inputs(){const a=this.componentDef,c=a.inputTransforms,d=Mv(a.inputs);if(null!==c)for(const f of d)c.hasOwnProperty(f.propName)&&(f.transform=c[f.propName]);return d}get outputs(){return Mv(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function sf(s){return s.map(Hc).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,f){let g=(f=f||this.ngModule)instanceof $o?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new iR(a,g):a,E=v.get(rv,null);if(null===E)throw new re(407,!1);const U={rendererFactory:E,sanitizer:v.get(UT,null),effectManager:v.get(Tv,null),afterRenderEventManager:v.get(uv,null)},Z=E.createRenderer(null,this.componentDef),J=this.componentDef.selectors[0][0]||"div",ve=d?function vv(s,a,c,d){const g=d.get(wg,!1)||c===ke.ShadowDom,v=s.selectRootElement(a,g);return function Ig(s){tx(s)}(v),v}(Z,d,this.componentDef.encapsulation,v):xu(Z,J,function nR(s){const a=s.toLowerCase();return"svg"===a?bf:"math"===a?"math":null}(J)),wt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Me=null;null!==ve&&(Me=Tw(ve,v,!0));const Lt=Cg(0,null,null,1,0,null,null,null,null,null,null),Wt=_v(null,Lt,null,wt,null,null,U,Z,v,null,Me);let En,os;Fn(Wt);try{const Ol=this.componentDef;let Qp,B_=null;Ol.findHostDirectiveDefs?(Qp=[],B_=new Map,Ol.findHostDirectiveDefs(Ol,Qp,B_),Qp.push(Ol)):Qp=[Ol];const jk=function rR(s,a){const c=s[it],d=Bt;return s[d]=a,gl(c,d,2,"#host",null)}(Wt,ve),jC=function sR(s,a,c,d,f,g,v){const E=f[it];!function oR(s,a,c,d){for(const f of s)a.mergedAttrs=ea(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(np(a,a.mergedAttrs,!0),null!==c&&tg(d,c,a))}(d,s,a,v);let T=null;null!==a&&(T=Tw(a,f[eo]));const A=g.rendererFactory.createRenderer(a,c);let k=16;c.signals?k=4096:c.onPush&&(k=64);const U=_v(f,rt(c),null,k,f[s.index],s,g,A,null,null,T);return E.firstCreatePass&&ku(E,s,d.length-1),Ou(f,U),f[s.index]=U}(jk,ve,Ol,Qp,Wt,U,Z);os=Fd(Lt,Bt),ve&&function kg(s,a,c,d){if(d)Xo(s,c,["ng-version",BT.full]);else{const{attrs:f,classes:g}=function Jr(s){const a=[],c=[];let d=1,f=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===f?""!==g&&a.push(g,s[++d]):8===f&&c.push(g);else{if(!mr(f))break;f=g}d++}return{attrs:a,classes:c}}(a.selectors[0]);f&&Xo(s,c,f),g&&g.length>0&&rT(s,c,g.join(" "))}}(Z,Ol,ve,d),void 0!==c&&function rE(s,a,c){const d=s.projection=[];for(let f=0;f<a.length;f++){const g=c[f];d.push(null!=g?Array.from(g):null)}}(os,this.ngContentSelectors,c),En=function Rg(s,a,c,d,f,g){const v=Ti(),E=f[it],T=Hi(v,f);ix(E,f,v,c,null,d);for(let k=0;k<c.length;k++)Er(Ea(f,E,v.directiveStart+k,v),f);wv(E,f,v),T&&Er(T,f);const A=Ea(f,E,v.directiveStart+v.componentOffset,v);if(s[In]=f[In]=A,null!==g)for(const k of g)k(A,a);return yv(E,v,s),A}(jC,Ol,Qp,B_,Wt,[px]),tp(Lt,Wt,null)}finally{xi()}return new fx(this.componentType,En,Qf(os,Wt),Wt,os)}}class fx extends A1{constructor(a,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new $r(f),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const g=this._rootLView;Jw(g[it],g,f,a,c),this.previousInputValues.set(a,c),vg(zi(this._tNode.index,g))}}get injector(){return new jn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function px(){const s=Ti();el(De()[it],s)}function rp(s){let a=function mx(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;a;){let f;if(gr(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new re(903,!1);f=a.\u0275dir}if(f){if(c){d.push(f);const v=s;v.inputs=sp(s.inputs),v.inputTransforms=sp(s.inputTransforms),v.declaredInputs=sp(s.declaredInputs),v.outputs=sp(s.outputs);const E=f.hostBindings;E&&Og(s,E);const T=f.viewQuery,A=f.contentQueries;if(T&&gx(s,T),A&&aR(s,A),G(s.inputs,f.inputs),G(s.declaredInputs,f.declaredInputs),G(s.outputs,f.outputs),null!==f.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),G(v.inputTransforms,f.inputTransforms)),gr(f)&&f.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===rp&&(c=!1)}}a=Object.getPrototypeOf(a)}!function sE(s){let a=0,c=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=a+=f.hostVars,f.hostAttrs=ea(f.hostAttrs,c=ea(c,f.hostAttrs))}}(d)}function sp(s){return s===ot?{}:s===We?[]:s}function gx(s,a){const c=s.viewQuery;s.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function aR(s,a){const c=s.contentQueries;s.contentQueries=c?(d,f,g)=>{a(d,f,g),c(d,f,g)}:a}function Og(s,a){const c=s.hostBindings;s.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}function Pu(s){const a=s.inputConfig,c={};for(const d in a)if(a.hasOwnProperty(d)){const f=a[d];Array.isArray(f)&&f[2]&&(c[d]=f[2])}s.inputTransforms=c}function gh(s){return!!kv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function kv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ma(s,a,c){return s[a]=c}function lr(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function Ov(s,a,c,d){const f=De();return lr(f,ga(),a)&&(Kt(),qo(yn(),f,s,a,c,d)),Ov}function Fu(s,a,c,d){return lr(s,ga(),c)?a+ne(c)+d:jt}function Bv(s,a,c,d,f,g,v,E){const T=De(),A=Kt(),k=s+Bt,U=A.firstCreatePass?function hE(s,a,c,d,f,g,v,E,T){const A=a.consts,k=gl(a,s,4,v||null,yr(A,E));xr(a,c,k,yr(A,T)),el(a,k);const U=k.tView=Cg(2,k,d,f,g,a.directiveRegistry,a.pipeRegistry,null,a.schemas,A,null);return null!==a.queries&&(a.queries.template(a,k),U.queries=a.queries.embeddedTView(k)),k}(k,A,T,a,c,d,f,g,v):A.data[k];Fo(U,!1);const Z=fE(A,T,U,s);ns()&&Jm(A,T,Z,U),Er(Z,T),Ou(T,T[k]=Yw(Z,T,Z,U)),Nr(U)&&$w(A,T,U),null!=v&&po(T,U,E)}let fE=function pE(s,a,c,d){return gs(!0),a[Tt].createComment("")};function Sx(s){return pa(function Fm(){return xt.lFrame.contextLView}(),Bt+s)}function fp(s,a,c){const d=De();return lr(d,ga(),a)&&mo(Kt(),yn(),d,s,a,d[Tt],c,!1),fp}function bh(s,a,c,d,f){const v=f?"class":"style";Jw(s,c,a.inputs[v],v,d)}function pp(s,a,c,d){const f=De(),g=Kt(),v=Bt+s,E=f[Tt],T=g.firstCreatePass?function jv(s,a,c,d,f,g){const v=a.consts,T=gl(a,s,2,d,yr(v,f));return xr(a,c,T,yr(v,g)),null!==T.attrs&&np(T,T.attrs,!1),null!==T.mergedAttrs&&np(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(v,g,f,a,c,d):g.data[v],A=mp(g,f,T,E,a,s);f[v]=A;const k=Nr(T);return Fo(T,!0),tg(E,A,T),32!=(32&T.flags)&&ns()&&Jm(g,f,A,T),0===function nu(){return xt.lFrame.elementDepthCount}()&&Er(A,f),function Ii(){xt.lFrame.elementDepthCount++}(),k&&($w(g,f,T),yv(g,T,f)),null!==d&&po(f,T),pp}function zg(){let s=Ti();ma()?Ud():(s=s.parent,Fo(s,!1));const a=s;(function rc(s){return xt.skipHydrationRootTNode===s})(a)&&function Vd(){xt.skipHydrationRootTNode=null}(),function If(){xt.lFrame.elementDepthCount--}();const c=Kt();return c.firstCreatePass&&(el(c,s),Kc(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function ys(s){return 0!=(8&s.flags)}(a)&&bh(c,a,De(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function vs(s){return 0!=(16&s.flags)}(a)&&bh(c,a,De(),a.stylesWithoutHost,!1),zg}function wh(s,a,c,d){return pp(s,a,c,d),zg(),wh}let mp=(s,a,c,d,f,g)=>(gs(!0),xu(d,f,function zd(){return xt.lFrame.currentNamespace}()));function $g(){return De()}function Hv(s){return!!s&&"function"==typeof s.then}function Ra(s){return!!s&&"function"==typeof s.subscribe}function zv(s,a,c,d){const f=De(),g=Kt(),v=Ti();return function $v(s,a,c,d,f,g,v){const E=Nr(d),A=s.firstCreatePass&&cx(s),k=a[In],U=lx(a);let Z=!0;if(3&d.type||v){const Le=Hi(d,a),Je=v?v(Le):Le,wt=U.length,Me=v?Wt=>v(ln(Wt[d.index])):d.index;let Lt=null;if(!v&&E&&(Lt=function Px(s,a,c,d){const f=s.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===c&&f[g+1]===d){const E=a[ql],T=f[g+2];return E.length>T?E[T]:null}"string"==typeof v&&(g+=2)}return null}(s,a,f,d.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=g,Lt.__ngLastListenerFn__=g,Z=!1;else{g=yE(d,a,k,g,!1);const Wt=c.listen(Je,f,g);U.push(g,Wt),A&&A.push(f,Me,wt,wt+1)}}else g=yE(d,a,k,g,!1);const J=d.outputs;let ve;if(Z&&null!==J&&(ve=J[f])){const Le=ve.length;if(Le)for(let Je=0;Je<Le;Je+=2){const En=a[ve[Je]][ve[Je+1]].subscribe(g),os=U.length;U.push(g,En),A&&A.push(f,d.index,os,-(os+1))}}}(g,f,f[Tt],v,s,a,d),zv}function gp(s,a,c,d){try{return hs(6,a,c),!1!==c(d)}catch(f){return Iv(s,f),!1}finally{hs(7,a,c)}}function yE(s,a,c,d,f){return function g(v){if(v===Function)return d;vg(s.componentOffset>-1?zi(s.index,a):a);let T=gp(a,c,d,v),A=g.__ngNextListenerFn__;for(;A;)T=gp(a,c,A,v)&&T,A=A.__ngNextListenerFn__;return f&&!1===T&&v.preventDefault(),T}}function Gv(s=1){return function uu(s){return(xt.lFrame.contextLView=function sc(s,a){for(;s>0;)a=a[to],s--;return a}(s,xt.lFrame.contextLView))[In]}(s)}function qv(s,a){let c=null;const d=function nf(s){const a=s.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(s);for(let f=0;f<a.length;f++){const g=a[f];if("*"!==g){if(null===d?jc(s,g,!0):rf(d,g))return f}else c=f}return c}function vE(s){const a=De()[kn][Ui];if(!a.projection){const d=a.projection=Ca(s?s.length:1,null),f=d.slice();let g=a.child;for(;null!==g;){const v=s?qv(g,s):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function Gg(s,a=0,c){const d=De(),f=Kt(),g=gl(f,Bt+s,16,null,c||null);null===g.projection&&(g.projection=a),Ud(),(!d[es]||Ls())&&32!=(32&g.flags)&&function aw(s,a,c){lw(a[Tt],0,a,c,jf(s,c,a),tT(c.parent||a[Ui],c,a))}(f,d,g)}function qg(s,a,c,d,f){const g=De(),v=Fu(g,a,c,d);return v!==jt&&mo(Kt(),yn(),g,s,v,g[Tt],f,!1),qg}function Wg(s,a){return s<<17|a<<2}function js(s){return s>>17&32767}function Kv(s){return 2|s}function Hu(s){return(131068&s)>>2}function yp(s,a){return-131069&s|a<<2}function Yv(s){return 1|s}function Qv(s,a,c,d,f){const g=s[c+1],v=null===a;let E=d?js(g):Hu(g),T=!1;for(;0!==E&&(!1===T||v);){const k=s[E+1];Dn(s[E],a)&&(T=!0,s[E+1]=d?Yv(k):Kv(k)),E=d?js(k):Hu(k)}T&&(s[c+1]=d?Kv(g):Yv(g))}function Dn(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&mu(s,a)>=0}function nb(s,a,c){return Oa(s,a,c,!1),nb}function zu(s,a){return Oa(s,a,null,!0),zu}function Oa(s,a,c,d){const f=De(),g=Kt(),v=function ps(s){const a=xt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}(2);g.firstUpdatePass&&function Qg(s,a,c,d){const f=s.data;if(null===f[c+1]){const g=f[Gi()],v=function Ux(s,a){return a>=s.expandoStartIndex}(s,c);(function mt(s,a){return 0!=(s.flags&(a?8:16))})(g,d)&&null===a&&!v&&(a=!1),a=function TR(s,a,c,d){const f=function xf(s){const a=xt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let g=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=Il(c=nr(null,s,a,c,d),a.attrs,d),g=null);else{const v=a.directiveStylingLast;if(-1===v||s[v]!==f)if(c=nr(f,s,a,c,d),null===g){let T=function xR(s,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==Hu(d))return s[js(d)]}(s,a,d);void 0!==T&&Array.isArray(T)&&(T=nr(null,s,a,T[1],d),T=Il(T,a.attrs,d),function wp(s,a,c,d){s[js(c?a.classBindings:a.styleBindings)]=d}(s,a,d,T))}else g=function Bx(s,a,c){let d;const f=a.directiveEnd;for(let g=1+a.directiveStylingLast;g<f;g++)d=Il(d,s[g].hostAttrs,c);return Il(d,a.attrs,c)}(s,a,d)}return void 0!==g&&(d?a.residualClasses=g:a.residualStyles=g),c}(f,g,a,d),function CR(s,a,c,d,f,g){let v=g?a.classBindings:a.styleBindings,E=js(v),T=Hu(v);s[d]=c;let k,A=!1;if(Array.isArray(c)?(k=c[1],(null===k||mu(c,k)>0)&&(A=!0)):k=c,f)if(0!==T){const Z=js(s[E+1]);s[d+1]=Wg(Z,E),0!==Z&&(s[Z+1]=yp(s[Z+1],d)),s[E+1]=function Lx(s,a){return 131071&s|a<<17}(s[E+1],d)}else s[d+1]=Wg(E,0),0!==E&&(s[E+1]=yp(s[E+1],d)),E=d;else s[d+1]=Wg(T,0),0===E?E=d:s[T+1]=yp(s[T+1],d),T=d;A&&(s[d+1]=Kv(s[d+1])),Qv(s,k,d,!0),Qv(s,k,d,!1),function ka(s,a,c,d,f){const g=f?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof a&&mu(g,a)>=0&&(c[d+1]=Yv(c[d+1]))}(a,k,s,d,g),v=Wg(E,T),g?a.classBindings=v:a.styleBindings=v}(f,g,a,c,v,d)}}(g,s,v,d),a!==jt&&lr(f,v,a)&&function Ri(s,a,c,d,f,g,v,E){if(!(3&a.type))return;const T=s.data,A=T[E+1],k=function _o(s){return 1==(1&s)}(A)?yo(T,a,c,f,Hu(A),v):void 0;Ep(k)||(Ep(g)||function Fx(s){return 2==(2&s)}(A)&&(g=yo(T,null,c,f,E,v)),function e1(s,a,c,d,f){if(a)f?s.addClass(c,d):s.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Iu.DashCase;null==f?s.removeStyle(c,d,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Iu.Important),s.setStyle(c,d,f,g))}}(d,v,fa(Gi(),c),f,g))}(g,g.data[Gi()],f,f[Tt],s,f[v+1]=function dt(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ee(bc(s)))),s}(a,c),d,v)}function nr(s,a,c,d,f){let g=null;const v=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<v&&(g=a[E],d=Il(d,g.hostAttrs,f),g!==s);)E++;return null!==s&&(c.directiveStylingLast=E),d}function Il(s,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let g=0;g<a.length;g++){const v=a[g];"number"==typeof v?f=v:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ws(s,v,!!c||a[++g]))}return void 0===s?null:s}function yo(s,a,c,d,f,g){const v=null===a;let E;for(;f>0;){const T=s[f],A=Array.isArray(T),k=A?T[1]:T,U=null===k;let Z=c[f+1];Z===jt&&(Z=U?We:void 0);let J=U?Hm(Z,d):k===d?Z:void 0;if(A&&!Ep(J)&&(J=Hm(T,d)),Ep(J)&&(E=J,v))return E;const ve=s[f+1];f=v?js(ve):Hu(ve)}if(null!==a){let T=g?a.residualClasses:a.residualStyles;null!=T&&(E=Hm(T,d))}return E}function Ep(s){return void 0!==s}function jx(s,a=""){const c=De(),d=Kt(),f=s+Bt,g=d.firstCreatePass?gl(d,f,1,a,null):d.data[f],v=nt(d,c,g,a,s);c[f]=v,ns()&&Jm(d,c,v,g),Fo(g,!1)}let nt=(s,a,c,d,f)=>(gs(!0),function Tu(s,a){return s.createText(a)}(a[Tt],d));function Wi(s){return Jg("",s,""),Wi}function Jg(s,a,c){const d=De(),f=Fu(d,s,a,c);return f!==jt&&function yl(s,a,c){const d=fa(a,s);!function hl(s,a,c){s.setValue(a,c)}(s[Tt],d,c)}(d,Gi(),f),Jg}function oe(s,a,c){const d=De();return lr(d,ga(),a)&&mo(Kt(),yn(),d,s,a,d[Tt],c,!0),oe}const qr=void 0;var t_=["en",[["a","p"],["AM","PM"],qr],[["AM","PM"],qr,qr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qr,"{1} 'at' {0}",qr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function OR(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let vo={};function Mc(s){const a=function n_(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=Yx(a);if(c)return c;const d=a.split("-")[0];if(c=Yx(d),c)return c;if("en"===d)return t_;throw new re(701,!1)}function lb(s){return Mc(s)[Dr.PluralCase]}function Yx(s){return s in vo||(vo[s]=un.ng&&un.ng.common&&un.ng.common.locales&&un.ng.common.locales[s]),vo[s]}var Dr=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(Dr||{});const Ki="en-US";let PE=Ki;function yb(s,a,c,d,f){if(s=Oe(s),Array.isArray(s))for(let g=0;g<s.length;g++)yb(s[g],a,c,d,f);else{const g=Kt(),v=De(),E=Ti();let T=Zf(s)?s:Oe(s.provide);const A=vw(s),k=1048575&E.providerIndexes,U=E.directiveStart,Z=E.providerIndexes>>20;if(Zf(s)||!s.multi){const J=new _s(A,f,Mu),ve=HE(T,a,f?k:k+Z,U);-1===ve?(ba(vn(E,v),g,T),jE(g,s,a.length),a.push(T),E.directiveStart++,E.directiveEnd++,f&&(E.providerIndexes+=1048576),c.push(J),v.push(J)):(c[ve]=J,v[ve]=J)}else{const J=HE(T,a,k+Z,U),ve=HE(T,a,k,k+Z),Je=ve>=0&&c[ve];if(f&&!Je||!f&&!(J>=0&&c[J])){ba(vn(E,v),g,T);const wt=function KR(s,a,c,d,f){const g=new _s(s,c,Mu);return g.multi=[],g.index=a,g.componentProviders=0,vD(g,f,d&&!c),g}(f?WR:bD,c.length,f,d,A);!f&&Je&&(c[ve].providerFactory=wt),jE(g,s,a.length,0),a.push(T),E.directiveStart++,E.directiveEnd++,f&&(E.providerIndexes+=1048576),c.push(wt),v.push(wt)}else jE(g,s,J>-1?J:ve,vD(c[f?ve:J],A,!f&&d));!f&&d&&Je&&c[ve].componentProviders++}}}function jE(s,a,c,d){const f=Zf(a),g=function nF(s){return!!s.useClass}(a);if(f||g){const T=(g?Oe(a.useClass):a).prototype.ngOnDestroy;if(T){const A=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const k=A.indexOf(c);-1===k?A.push(c,[d,T]):A[k+1].push(d,T)}else A.push(c,T)}}}function vD(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function HE(s,a,c,d){for(let f=c;f<d;f++)if(a[f]===s)return f;return-1}function bD(s,a,c,d){return vb(this.multi,[])}function WR(s,a,c,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=Ea(c,c[it],this.providerFactory.index,d);g=E.slice(0,v),vb(f,g);for(let T=v;T<E.length;T++)g.push(E[T])}else g=[],vb(f,g);return g}function vb(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function wD(s,a=[]){return c=>{c.providersResolver=(d,f)=>function yD(s,a,c){const d=Kt();if(d.firstCreatePass){const f=gr(s);yb(c,d.data,d.blueprint,f,!0),yb(a,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,a)}}class xh{}class bb{}function Dh(s,a){return new Ap(s,a??null,[])}class Ap extends xh{constructor(a,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ag(this);const f=sr(a);this._bootstrapComponents=Au(f.bootstrap),this._r3Injector=lv(a,c,[{provide:xh,useValue:this},{provide:pg,useValue:this.componentFactoryResolver},...d],ee(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Mp extends bb{constructor(a){super(),this.moduleType=a}create(a){return new Ap(this.moduleType,a,[])}}class zE extends xh{constructor(a){super(),this.componentFactoryResolver=new Ag(this),this.instance=null;const c=new ag([...a.providers,{provide:xh,useValue:this},{provide:pg,useValue:this.componentFactoryResolver}],a.parent||Wf(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Dl(s,a,c=null){return new zE({providers:s,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let CD=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const d=DT(0,c.type),f=d.length>0?Dl([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,f)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Pt({token:s,providedIn:"environment",factory:()=>new s(It($o))})}return s})();function Sh(s){s.getStandaloneInjector=a=>a.get(CD).getOrCreateStandaloneInjector(s)}function qE(s,a,c,d){return xb(De(),vr(),s,a,c,d)}function kp(s,a,c,d,f){return ZE(De(),vr(),s,a,c,d,f)}function g_(s,a){const c=s[a];return c===jt?void 0:c}function xb(s,a,c,d,f,g){const v=a+c;return lr(s,v,f)?Ma(s,v+1,g?d.call(g,f):d(f)):g_(s,v+1)}function ZE(s,a,c,d,f,g,v){const E=a+c;return function Nu(s,a,c,d){const f=lr(s,a,c);return lr(s,a+1,d)||f}(s,E,f,g)?Ma(s,E+2,v?d.call(v,f,g):d(f,g)):g_(s,E+2)}function AD(s,a){const c=Kt();let d;const f=s+Bt;c.firstCreatePass?(d=function XR(s,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(s===d.name)return d}}(a,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks??=[]).push(f,d.onDestroy)):d=c.data[f];const g=d.factory||(d.factory=aa(d.type)),E=mn(Mu);try{const T=hi(!1),A=g();return hi(T),function bR(s,a,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=d}(c,De(),f,A),A}finally{mn(E)}}function Yu(s,a,c){const d=s+Bt,f=De(),g=pa(f,d);return Pp(f,d)?xb(f,vr(),a,g.transform,c,g):g.transform(c)}function YE(s,a,c,d){const f=s+Bt,g=De(),v=pa(g,f);return Pp(g,f)?ZE(g,vr(),a,v.transform,c,d,v):v.transform(c,d)}function Pp(s,a){return s[it].data[a].pure}function RD(){return this._results[Symbol.iterator]()}class Qu{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ml)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Qu.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=RD)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=function wr(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Us(s,a,c){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],g=a[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function ai(s,a,c,d=!0){const f=a[it];if(function tw(s,a,c,d){const f=ji+d,g=c.length;d>0&&(c[f-1][or]=a),d<g-ji?(a[or]=c[f],Ny(c,ji+d,a)):(c.push(a),a[or]=null),a[Rn]=c;const v=a[wd];null!==v&&c!==v&&function Ym(s,a){const c=s[wi];a[kn]!==a[Rn][Rn][kn]&&(s[Wc]=!0),null===c?s[wi]=[a]:c.push(a)}(v,a);const E=a[vi];null!==E&&E.insertView(s),a[Ct]|=128}(f,a,s,c),d){const g=ow(c,s),v=a[Tt],E=Ky(v,s[bi]);null!==E&&function Du(s,a,c,d,f,g){d[Mn]=f,d[Ui]=a,eg(s,d,c,1,f,g)}(f,s[Ui],v,a,E,g)}}let Ju=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=v_}return s})();const kD=Ju,nk=class extends kD{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,d){const f=function tk(s,a,c,d){const f=a.tView,E=_v(s,f,c,4096&s[Ct]?4096:16,null,a,null,null,null,d?.injector??null,d?.hydrationInfo??null);E[wd]=s[a.index];const A=s[vi];return null!==A&&(E[vi]=A.createEmbeddedView(f)),tp(f,E,c),E}(this._declarationLView,this._declarationTContainer,a,{injector:c,hydrationInfo:d});return new Ai(f)}};function v_(){return Db(Ti(),De())}function Db(s,a){return 4&s.type?new nk(a,s,Qf(s,a)):null}let Fp=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=ik}return s})();function ik(){return tC(Ti(),De())}const rk=Fp,Yi=class extends rk{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return Qf(this._hostTNode,this._hostLView)}get injector(){return new jn(this._hostTNode,this._hostLView)}get parentInjector(){const a=Vr(this._hostTNode,this._hostLView);if(rl(a)){const c=ar(a,this._hostLView),d=Xt(a);return new jn(c[it].data[d+8],c)}return new jn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=cn(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-ji}createEmbeddedView(a,c,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const E=a.createEmbeddedViewImpl(c||{},g,null);return this.insertImpl(E,f,false),E}createComponent(a,c,d,f,g){const v=a&&!function Si(s){return"function"==typeof s}(a);let E;if(v)E=c;else{const Le=c||{};E=Le.index,d=Le.injector,f=Le.projectableNodes,g=Le.environmentInjector||Le.ngModuleRef}const T=v?a:new Mg(Jt(a)),A=d||this.parentInjector;if(!g&&null==T.ngModule){const Je=(v?A:this.parentInjector).get($o,null);Je&&(g=Je)}Jt(T.componentType??{});const J=T.create(A,f,null,g);return this.insertImpl(J.hostView,E,false),J}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,d){const f=a._lView;if(function Pm(s){return tr(s[Rn])}(f)){const T=this.indexOf(a);if(-1!==T)this.detach(T);else{const A=f[Rn],k=new Yi(A,A[Ui],A[Rn]);k.detach(k.indexOf(a))}}const v=this._adjustIndex(c),E=this._lContainer;return ai(E,f,v,!d),a.attachToViewContainerRef(),Ny(Ab(E),v,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=cn(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=Wy(this._lContainer,c);d&&(Bm(Ab(this._lContainer),c),nw(d[it],d))}detach(a){const c=this._adjustIndex(a,-1),d=Wy(this._lContainer,c);return d&&null!=Bm(Ab(this._lContainer),c)?new Ai(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function cn(s){return s[8]}function Ab(s){return s[8]||(s[8]=[])}function tC(s,a){let c;const d=a[s.index];return tr(d)?c=d:(c=Yw(d,a,null,s),a[s.index]=c,Ou(a,c)),w_(c,a,s,d),new Yi(c,s,a)}let w_=function iC(s,a,c,d){if(s[bi])return;let f;f=8&c.type?ln(d):function nC(s,a){const c=s[Tt],d=c.createComment(""),f=Hi(a,s);return lh(c,Ky(c,f),d,function JM(s,a){return s.nextSibling(a)}(c,f),!1),d}(a,c),s[bi]=f};class Mb{constructor(a){this.queryList=a,this.matches=null}clone(){return new Mb(this.queryList)}setDirty(){this.queryList.setDirty()}}class E_{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new E_(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==$D(a,c).matches&&this.queries[c].setDirty()}}class Lp{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Rh{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(a,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Rh(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class kh{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new kh(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(a,c,Rb(c,g)),this.matchTNodeWithReadOption(a,c,wa(c,a,g,!1,!1))}else d===Ju?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,wa(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===mg||f===Fp||f===Ju&&4&c.type)this.addMatch(c.index,-2);else{const g=wa(c,a,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function Rb(s,a){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function LD(s,a,c,d){return-1===c?function FD(s,a){return 11&s.type?Qf(s,a):4&s.type?Db(s,a):null}(a,s):-2===c?function VD(s,a,c){return c===mg?Qf(a,s):c===Ju?Db(a,s):c===Fp?tC(a,s):void 0}(s,a,d):Ea(s,s[it],c,a)}function UD(s,a,c,d){const f=a[vi].queries[d];if(null===f.matches){const g=s.data,v=c.matches,E=[];for(let T=0;T<v.length;T+=2){const A=v[T];E.push(A<0?null:LD(a,g[A],v[T+1],c.metadata.read))}f.matches=E}return f.matches}function kb(s,a,c,d){const f=s.queries.getByIndex(c),g=f.matches;if(null!==g){const v=UD(s,a,f,c);for(let E=0;E<g.length;E+=2){const T=g[E];if(T>0)d.push(v[E/2]);else{const A=g[E+1],k=a[-T];for(let U=ji;U<k.length;U++){const Z=k[U];Z[wd]===Z[Rn]&&kb(Z[it],Z,A,d)}if(null!==k[wi]){const U=k[wi];for(let Z=0;Z<U.length;Z++){const J=U[Z];kb(J[it],J,A,d)}}}}}return d}function rC(s){const a=De(),c=Kt(),d=cu();Df(d+1);const f=$D(c,d);if(s.dirty&&function Om(s){return 4==(4&s[Ct])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const g=f.crossesNgTemplate?kb(c,a,d,[]):UD(c,a,f,d);s.reset(g,LT),s.notifyOnChanges()}return!0}return!1}function BD(s,a,c){const d=Kt();d.firstCreatePass&&(Oh(d,new Lp(s,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),Ob(d,De(),a)}function jD(s,a,c,d){const f=Kt();if(f.firstCreatePass){const g=Ti();Oh(f,new Lp(a,c,d),g.index),function zD(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}Ob(f,De(),c)}function HD(){return function ok(s,a){return s[vi].queries[a].queryList}(De(),cu())}function Ob(s,a,c){const d=new Qu(4==(4&c));(function W1(s,a,c,d){const f=lx(a);f.push(c),s.firstCreatePass&&cx(s).push(d,f.length-1)})(s,a,d,d.destroy),null===a[vi]&&(a[vi]=new E_),a[vi].queries.push(new Mb(d))}function Oh(s,a,c){null===s.queries&&(s.queries=new Rh),s.queries.track(new kh(a,c))}function $D(s,a){return s.queries.getByIndex(a)}function Pi(s,a){return Db(s,a)}function Pb(s){return!!sr(s)}const jb=new bn("Application Initializer");let Hb=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=kt(jb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const f of this.appInits){const g=f();if(Hv(g))c.push(g);else if(Ra(g)){const v=new Promise((E,T)=>{g.subscribe({complete:E,error:T})});c.push(v)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Pt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),R_=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Pt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();const Bp=new bn("LocaleId",{providedIn:"root",factory:()=>kt(Bp,_t.Optional|_t.SkipSelf)||function vk(){return typeof $localize<"u"&&$localize.locale||Ki}()}),zb=new bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let O_=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new se.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Pt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();class P_{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let oS=(()=>{class s{compileModuleSync(c){return new Mp(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Au(sr(c).declarations).reduce((v,E)=>{const T=Jt(E);return T&&v.push(new Mg(T)),v},[]);return new P_(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Pt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const mC=new bn(""),gS=new bn("");let N_,_S=(()=>{class s{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,N_||(function xk(s){N_=s}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ir.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}static#e=this.\u0275fac=function(d){return new(d||s)(It(Ir),It(yS),It(gS))};static#t=this.\u0275prov=Pt({token:s,factory:s.\u0275fac})}return s})(),yS=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return N_?.findTestabilityInTree(this,c,d)??null}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Pt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})(),Yn=null;const vS=new bn("AllowMultipleToken"),gC=new bn("PlatformDestroyListeners"),_C=new bn("appBootstrapListener");class Zb{constructor(a,c){this.name=a,this.token=c}}function Hp(s,a,c=[]){const d=`Platform: ${a}`,f=new bn(d);return(g=[])=>{let v=Qb();if(!v||v.injector.get(vS,!1)){const E=[...c,...g,{provide:f,useValue:!0}];s?s(E):function Sk(s){if(Yn&&!Yn.get(vS,!1))throw new re(400,!1);(function wS(){!function xm(s){_f=s}(()=>{throw new re(600,!1)})})(),Yn=s;const a=s.get(TS);(function Wb(s){s.get(MT,null)?.forEach(c=>c())})(s)}(function Yb(s=[],a){return fo.create({name:a,providers:[{provide:Ec,useValue:"platform"},{provide:gC,useValue:new Set([()=>Yn=null])},...s]})}(E,d))}return function Kb(s){const a=Qb();if(!a)throw new re(401,!1);return a}()}}function Qb(){return Yn?.get(TS)??null}let TS=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function xS(s="zone.js",a){return"noop"===s?new L1:"zone.js"===s?new Ir(a):s}(d?.ngZone,function yC(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return f.run(()=>{const g=function ED(s,a,c){return new Ap(s,a,c)}(c.moduleType,this.injector,function F_(s){return[{provide:Ir,useFactory:s},{provide:qf,multi:!0,useFactory:()=>{const a=kt($p,{optional:!0});return()=>a.initialize()}},{provide:SS,useFactory:zp},{provide:Vw,useFactory:Uw}]}(()=>f)),v=g.injector.get(Ic,null);return f.runOutsideAngular(()=>{const E=f.onError.subscribe({next:T=>{v.handleError(T)}});g.onDestroy(()=>{Xb(this._modules,g),E.unsubscribe()})}),function Jb(s,a,c){try{const d=c();return Hv(d)?d.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(v,f,()=>{const E=g.injector.get(Hb);return E.runInitializers(),E.donePromise.then(()=>(function Jx(s){st(s,"Expected localeId to be defined"),"string"==typeof s&&(PE=s.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Bp,Ki)||Ki),this._moduleDoBootstrap(g),g))})})}bootstrapModule(c,d=[]){const f=DS({},d);return function Dk(s,a,c){const d=new Mp(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(Bh);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new re(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new re(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(gC,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(d){return new(d||s)(It(fo))};static#t=this.\u0275prov=Pt({token:s,factory:s.\u0275fac,providedIn:"platform"})}return s})();function DS(s,a){return Array.isArray(a)?a.reduce(DS,s):{...s,...a}}let Bh=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kt(SS),this.zoneIsStable=kt(Vw),this.componentTypes=[],this.components=[],this.isStable=kt(O_).hasPendingTasks.pipe((0,Ne.w)(c=>c?(0,le.of)(!1):this.zoneIsStable),(0,ge.x)(),(0,_e.B)()),this._injector=kt($o)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof NT;if(!this._injector.get(Hb).done)throw!f&&Xs(c),new re(405,!1);let v;v=f?c:this._injector.get(pg).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const E=function qb(s){return s.isBoundToModule}(v)?void 0:this._injector.get(xh),A=v.create(fo.NULL,[],d||v.selector,E),k=A.location.nativeElement,U=A.injector.get(mC,null);return U?.registerApplication(k),A.onDestroy(()=>{this.detachView(A.hostView),Xb(this.components,A),U?.unregisterApplication(k)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new re(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Xb(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(_C,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Xb(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new re(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Pt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function Xb(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}const SS=new bn("",{providedIn:"root",factory:()=>kt(Ic).handleError.bind(void 0)});function zp(){const s=kt(Ir),a=kt(Ic);return c=>s.runOutsideAngular(()=>a.handleError(c))}let $p=(()=>{class s{constructor(){this.zone=kt(Ir),this.applicationRef=kt(Bh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(d){return new(d||s)};static#t=this.\u0275prov=Pt({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function RS(){return!1}let bC=(()=>{class s{static#e=this.__NG_ELEMENT_ID__=PS}return s})();function PS(s){return function NS(s,a,c){if(oa(s)&&!c){const d=zi(s.index,a);return new Ai(d,d)}return 47&s.type?new Ai(a[kn],a):null}(Ti(),De(),16==(16&s))}class BS{constructor(){}supports(a){return gh(a)}create(a){return new Ok(a)}}const kk=(s,a)=>a;class Ok{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||kk}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<HS(d,f,g)?c:d,E=HS(v,f,g),T=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{g||(g=[]);const A=E-f,k=T-f;if(A!=k){for(let Z=0;Z<A;Z++){const J=Z<g.length?g[Z]:g[Z]=0,ve=J+Z;k<=ve&&ve<A&&(g[Z]=J+1)}g[v.previousIndex]=k-A}}E!==T&&a(v,E,T)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!gh(a))throw new re(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,g,v,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)g=a[E],v=this._trackByFn(E,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,E)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,E),d=!0),c=c._next}else f=0,function Pg(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,E=>{v=this._trackByFn(f,E),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,E,v,f)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let g;return null===a?g=this._itTail:(g=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,g,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,g,f)):a=this._addAfter(new Pk(c,d),g,f),a}_verifyReinsertion(a,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?a=this._reinsertAfter(g,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,g=a._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new jS),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jS),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Pk{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SC{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class jS{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new SC,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HS(s,a,c){const d=s.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class qp{constructor(){}supports(a){return a instanceof Map||kv(a)}create(){return new AC}}class AC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||kv(a)))throw new re(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new Zp(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class Zp{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function s0(){return new Wp([new BS])}let Wp=(()=>{class s{static#e=this.\u0275prov=Pt({token:s,providedIn:"root",factory:s0});constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||s0()),deps:[[s,new Ta,new Yd]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new re(901,!1)}}return s})();function a0(){return new l0([new qp])}let l0=(()=>{class s{static#e=this.\u0275prov=Pt({token:s,providedIn:"root",factory:a0});constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||a0()),deps:[[s,new Ta,new Yd]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new re(901,!1)}}return s})();const Fk=Hp(null,"core",[]);let kC=(()=>{class s{constructor(c){}static#e=this.\u0275fac=function(d){return new(d||s)(It(Bh))};static#t=this.\u0275mod=$l({type:s});static#n=this.\u0275inj=An({})}return s})();function Kp(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function BC(s){const a=Jt(s);if(!a)return null;const c=new Mg(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},4097:(ft,Te,N)=>{N.d(Te,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=N(534);(0,l.registerVersion)("firebase","9.23.0","app")},120:(ft,Te,N)=>{N.d(Te,{Z:()=>l.Z});var l=N(3106);l.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(ft,Te,N)=>{N.r(Te);var l=N(5861),X=N(3106),L=N(9058),te=N(534),se=N(7582),le=N(7879),_e=N(4537);const ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ke=function Be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Oe=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vt=new le.Yd("@firebase/auth");function re(b,...p){vt.logLevel<=le.in.ERROR&&vt.error(`Auth (${te.SDK_VERSION}): ${b}`,...p)}function be(b,...p){throw Ze(b,...p)}function ne(b,...p){return Ze(b,...p)}function xe(b,p,_){const w=Object.assign(Object.assign({},Oe()),{[p]:_});return new L.LL("auth","Firebase",w).create(p,{appName:b.name})}function Fe(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&be(b,"argument-error"),xe(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(b,...p){if("string"!=typeof b){const _=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return qe.create(b,...p)}function ce(b,p,..._){if(!b)throw Ze(p,..._)}function Et(b){const p="INTERNAL ASSERTION FAILED: "+b;throw re(p),new Error(p)}function Gt(b,p){b||Et(p)}function Fi(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function dr(){return"http:"===Ys()||"https:"===Ys()}function Ys(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Qs{constructor(p,_){this.shortDelay=p,this.longDelay=_,Gt(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Jn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dr()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ue(b,p){Gt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class me{static initialize(p,_,w){this.fetchImpl=p,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const we={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ee=new Qs(3e4,6e4);function Ie(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Se(b,p,_,w){return st.apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(b,p,_,w,S={}){return $e(b,S,(0,l.Z)(function*(){let O={},z={};w&&("GET"===p?z=w:O={body:JSON.stringify(w)});const Y=(0,L.xO)(Object.assign({key:b.config.apiKey},z)).slice(1),Pe=yield b._getAdditionalHeaders();return Pe["Content-Type"]="application/json",b.languageCode&&(Pe["X-Firebase-Locale"]=b.languageCode),me.fetch()(Pt(b,b.config.apiHost,_,Y),Object.assign({method:p,headers:Pe,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function $e(b,p,_){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(b,p,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},we),p);try{const S=new Sn(b),O=yield Promise.race([_(),S.promise]);S.clearNetworkTimeout();const z=yield O.json();if("needConfirmation"in z)throw An(b,"account-exists-with-different-credential",z);if(O.ok&&!("errorMessage"in z))return z;{const Y=O.ok?z.errorMessage:z.error.message,[Pe,He]=Y.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw An(b,"credential-already-in-use",z);if("EMAIL_EXISTS"===Pe)throw An(b,"email-already-in-use",z);if("USER_DISABLED"===Pe)throw An(b,"user-disabled",z);const at=w[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw xe(b,at,He);be(b,at)}}catch(S){if(S instanceof L.ZR)throw S;be(b,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function gt(b,p,_,w){return en.apply(this,arguments)}function en(){return(en=(0,l.Z)(function*(b,p,_,w,S={}){const O=yield Se(b,p,_,w,S);return"mfaPendingCredential"in O&&be(b,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Pt(b,p,_,w){const S=`${p}${_}?${w}`;return b.config.emulator?ue(b.config,S):`${b.config.apiScheme}://${S}`}class Sn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(ne(this.auth,"network-request-failed")),Ee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function An(b,p,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const S=ne(b,p,w);return S.customData._tokenResponse=_,S}function fn(){return(fn=(0,l.Z)(function*(b,p){return Se(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Rr(){return(Rr=(0,l.Z)(function*(b,p){return Se(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(b,p){return Se(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Or(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function _t(){return(_t=(0,l.Z)(function*(b,p=!1){const _=(0,L.m9)(b),w=yield _.getIdToken(p),S=Mt(w);ce(S&&S.exp&&S.auth_time&&S.iat,_.auth,"internal-error");const O="object"==typeof S.firebase?S.firebase:void 0,z=O?.sign_in_provider;return{claims:S,token:w,authTime:Or(qt(S.auth_time)),issuedAtTime:Or(qt(S.iat)),expirationTime:Or(qt(S.exp)),signInProvider:z||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function qt(b){return 1e3*Number(b)}function Mt(b){const[p,_,w]=b.split(".");if(void 0===p||void 0===_||void 0===w)return re("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,L.tV)(_);return S?JSON.parse(S):(re("Failed to decode base64 JWT payload"),null)}catch(S){return re("Caught error parsing JWT payload as JSON",S?.toString()),null}}function Nn(b,p){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(w){throw w instanceof L.ZR&&function un({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}class Li{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class Ua{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Or(this.lastLoginAt),this.creationTime=Or(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tn(b){return fr.apply(this,arguments)}function fr(){return fr=(0,l.Z)(function*(b){var p;const _=b.auth,w=yield b.getIdToken(),S=yield Nn(b,function xo(b,p){return kr.apply(this,arguments)}(_,{idToken:w}));ce(S?.users.length,_,"internal-error");const O=S.users[0];b._notifyReloadListener(O);const z=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?function Ao(b){return b.map(p=>{var{providerId:_}=p,w=(0,se._T)(p,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(O.providerUserInfo):[],Y=function So(b,p){return[...b.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}(b.providerData,z),at=!!b.isAnonymous&&!(b.email&&O.passwordHash||Y?.length),lt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Y,metadata:new Ua(O.createdAt,O.lastLoginAt),isAnonymous:at};Object.assign(b,lt)}),fr.apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(b){const p=(0,L.m9)(b);yield tn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(b,p){const _=yield $e(b,{},(0,l.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:O}=b.config,z=Pt(b,S,"/v1/token",`key=${O}`),Y=yield b._getAdditionalHeaders();return Y["Content-Type"]="application/x-www-form-urlencoded",me.fetch()(z,{method:"POST",headers:Y,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class ds{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ce(p.idToken,"internal-error"),ce(typeof p.idToken<"u","internal-error"),ce(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function mn(b){const p=Mt(b);return ce(p,"internal-error"),ce(typeof p.exp<"u","internal-error"),ce(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var w=this;return(0,l.Z)(function*(){return ce(!w.accessToken||w.refreshToken,p,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var w=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:O,expiresIn:z}=yield function Wr(b,p){return Mo.apply(this,arguments)}(p,_);w.updateTokensAndExpiration(S,O,Number(z))})()}updateTokensAndExpiration(p,_,w){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,_){const{refreshToken:w,accessToken:S,expirationTime:O}=_,z=new ds;return w&&(ce("string"==typeof w,"internal-error",{appName:p}),z.refreshToken=w),S&&(ce("string"==typeof S,"internal-error",{appName:p}),z.accessToken=S),O&&(ce("number"==typeof O,"internal-error",{appName:p}),z.expirationTime=O),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new ds,this.toJSON())}_performRefresh(){return Et("not implemented")}}function gi(b,p){ce("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class _i{constructor(p){var{uid:_,auth:w,stsTokenManager:S}=p,O=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Li(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Ua(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,l.Z)(function*(){const w=yield Nn(_,_.stsTokenManager.getToken(_.auth,p));return ce(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(p){return function Hl(b){return _t.apply(this,arguments)}(this,p)}reload(){return function $t(b){return Rs.apply(this,arguments)}(this)}_assign(p){this!==p&&(ce(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new _i(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var w=this;return(0,l.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),_&&(yield tn(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const _=yield p.getIdToken();return yield Nn(p,function mi(b,p){return fn.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var w,S,O,z,Y,Pe,He,at;const lt=null!==(w=_.displayName)&&void 0!==w?w:void 0,Hn=null!==(S=_.email)&&void 0!==S?S:void 0,Es=null!==(O=_.phoneNumber)&&void 0!==O?O:void 0,dl=null!==(z=_.photoURL)&&void 0!==z?z:void 0,yc=null!==(Y=_.tenantId)&&void 0!==Y?Y:void 0,Tu=null!==(Pe=_._redirectEventId)&&void 0!==Pe?Pe:void 0,hl=null!==(He=_.createdAt)&&void 0!==He?He:void 0,fl=null!==(at=_.lastLoginAt)&&void 0!==at?at:void 0,{uid:xu,emailVerified:Gy,isAnonymous:Du,providerData:vc,stsTokenManager:qy}=_;ce(xu&&qy,p,"internal-error");const tw=ds.fromJSON(this.name,qy);ce("string"==typeof xu,p,"internal-error"),gi(lt,p.name),gi(Hn,p.name),ce("boolean"==typeof Gy,p,"internal-error"),ce("boolean"==typeof Du,p,"internal-error"),gi(Es,p.name),gi(dl,p.name),gi(yc,p.name),gi(Tu,p.name),gi(hl,p.name),gi(fl,p.name);const Ym=new _i({uid:xu,auth:p,email:Hn,emailVerified:Gy,displayName:lt,isAnonymous:Du,photoURL:dl,phoneNumber:Es,tenantId:yc,stsTokenManager:tw,createdAt:hl,lastLoginAt:fl});return vc&&Array.isArray(vc)&&(Ym.providerData=vc.map(Zy=>Object.assign({},Zy))),Tu&&(Ym._redirectEventId=Tu),Ym}static _fromIdTokenResponse(p,_,w=!1){return(0,l.Z)(function*(){const S=new ds;S.updateFromServerResponse(_);const O=new _i({uid:_.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield tn(O),O})()}}const pr=new Map;function Xn(b){Gt(b instanceof Function,"Expected a class definition");let p=pr.get(b);return p?(Gt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,pr.set(b,p),p)}const Yr=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,w){var S=this;return(0,l.Z)(function*(){S.storage[_]=w})()}_get(_){var w=this;return(0,l.Z)(function*(){const S=w.storage[_];return void 0===S?null:S})()}_remove(_){var w=this;return(0,l.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function $(b,p,_){return`firebase:${b}:${p}:${_}`}class H{constructor(p,_,w){this.persistence=p,this.auth=_,this.userKey=w;const{config:S,name:O}=this.auth;this.fullUserKey=$(this.userKey,S.apiKey,O),this.fullPersistenceKey=$("persistence",S.apiKey,O),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?_i._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,l.Z)(function*(){if(_.persistence===p)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,w="authUser"){return(0,l.Z)(function*(){if(!_.length)return new H(Xn(Yr),p,w);const S=(yield Promise.all(_.map(function(){var He=(0,l.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return He.apply(this,arguments)}}()))).filter(He=>He);let O=S[0]||Xn(Yr);const z=$(w,p.config.apiKey,p.name);let Y=null;for(const He of _)try{const at=yield He._get(z);if(at){const lt=_i._fromJSON(p,at);He!==O&&(Y=lt),O=He;break}}catch{}const Pe=S.filter(He=>He._shouldAllowMigration);return O._shouldAllowMigration&&Pe.length?(O=Pe[0],Y&&(yield O._set(z,Y.toJSON())),yield Promise.all(_.map(function(){var He=(0,l.Z)(function*(at){if(at!==O)try{yield at._remove(z)}catch{}});return function(at){return He.apply(this,arguments)}}())),new H(O,p,w)):new H(O,p,w)})()}}function K(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Dt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ce(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(yi(p))return"Blackberry";if(kt(p))return"Webos";if(ae(p))return"Safari";if((p.includes("chrome/")||et(p))&&!p.includes("edge/"))return"Chrome";if(It(p))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Ce(b=(0,L.z$)()){return/firefox\//i.test(b)}function ae(b=(0,L.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function et(b=(0,L.z$)()){return/crios\//i.test(b)}function Dt(b=(0,L.z$)()){return/iemobile/i.test(b)}function It(b=(0,L.z$)()){return/android/i.test(b)}function yi(b=(0,L.z$)()){return/blackberry/i.test(b)}function kt(b=(0,L.z$)()){return/webos/i.test(b)}function Bn(b=(0,L.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Js(b=(0,L.z$)()){return Bn(b)||It(b)||kt(b)||yi(b)||/windows phone/i.test(b)||Dt(b)}function pe(b,p=[]){let _;switch(b){case"Browser":_=K((0,L.z$)());break;case"Worker":_=`${K((0,L.z$)())}-${b}`;break;default:_=b}const w=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${te.SDK_VERSION}/${w}`}function ke(){return(ke=(0,l.Z)(function*(b){return(yield Se(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ot(b,p){return We.apply(this,arguments)}function We(){return(We=(0,l.Z)(function*(b,p){return Se(b,"GET","/v2/recaptchaConfig",Ie(b,p))})).apply(this,arguments)}function Nt(b){return void 0!==b&&void 0!==b.getResponse}function nn(b){return void 0!==b&&void 0!==b.enterprise}class ei{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Vi(b){return new Promise((p,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=p,w.onerror=S=>{const O=ne("internal-error");O.customData=S,_(O)},w.type="text/javascript",w.charset="UTF-8",function ti(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(w)})}function Os(b){return`__${b}${Math.floor(1e6*Math.random())}`}class _d{constructor(p){this.type="recaptcha-enterprise",this.auth=ni(p)}verify(p="verify",_=!1){var w=this;return(0,l.Z)(function*(){function O(){return O=(0,l.Z)(function*(Y){if(!_){if(null==Y.tenantId&&null!=Y._agentRecaptchaConfig)return Y._agentRecaptchaConfig.siteKey;if(null!=Y.tenantId&&void 0!==Y._tenantRecaptchaConfigs[Y.tenantId])return Y._tenantRecaptchaConfigs[Y.tenantId].siteKey}return new Promise(function(){var Pe=(0,l.Z)(function*(He,at){ot(Y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(lt=>{if(void 0!==lt.recaptchaKey){const Hn=new ei(lt);return null==Y.tenantId?Y._agentRecaptchaConfig=Hn:Y._tenantRecaptchaConfigs[Y.tenantId]=Hn,He(Hn.siteKey)}at(new Error("recaptcha Enterprise site key undefined"))}).catch(lt=>{at(lt)})});return function(He,at){return Pe.apply(this,arguments)}}())}),O.apply(this,arguments)}function z(Y,Pe,He){const at=window.grecaptcha;nn(at)?at.enterprise.ready(()=>{at.enterprise.execute(Y,{action:p}).then(lt=>{Pe(lt)}).catch(()=>{Pe("NO_RECAPTCHA")})}):He(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Y,Pe)=>{(function S(Y){return O.apply(this,arguments)})(w.auth).then(He=>{if(!_&&nn(window.grecaptcha))z(He,Y,Pe);else{if(typeof window>"u")return void Pe(new Error("RecaptchaVerifier is only supported in browser"));Vi("https://www.google.com/recaptcha/enterprise.js?render="+He).then(()=>{z(He,Y,Pe)}).catch(at=>{Pe(at)})}}).catch(He=>{Pe(He)})})})()}}function Qr(b,p,_){return ea.apply(this,arguments)}function ea(){return(ea=(0,l.Z)(function*(b,p,_,w=!1){const S=new _d(b);let O;try{O=yield S.verify(_)}catch{O=yield S.verify(_,!0)}const z=Object.assign({},p);return Object.assign(z,w?{captchaResp:O}:{captchaResponse:O}),Object.assign(z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),z})).apply(this,arguments)}class Ps{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const w=O=>new Promise((z,Y)=>{try{z(p(O))}catch(Pe){Y(Pe)}});w.onAbort=_,this.queue.push(w);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===p)return;const w=[];try{for(const S of _.queue)yield S(p),S.onAbort&&w.push(S.onAbort)}catch(S){w.reverse();for(const O of w)try{O()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class yd{constructor(p,_,w,S){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=w,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pr(this),this.idTokenSubscription=new Pr(this),this.beforeStateQueue=new Ps(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(p,_){var w=this;return _&&(this._popupRedirectResolver=Xn(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,O;if(!w._deleted&&(w.persistenceManager=yield H.create(w,p),!w._deleted)){if(null!==(S=w._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,l.Z)(function*(){var w;const S=yield _.assertedPersistence.getCurrentUser();let O=S,z=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Y=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Pe=O?._redirectEventId,He=yield _.tryRedirectSignIn(p);(!Y||Y===Pe)&&He?.user&&(O=He.user,z=!0)}if(!O)return _.directlySetCurrentUser(null);if(!O._redirectEventId){if(z)try{yield _.beforeStateQueue.runMiddleware(O)}catch(Y){O=S,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Y))}return O?_.reloadAndSetCurrentUserOrClear(O):_.directlySetCurrentUser(null)}return ce(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===O._redirectEventId?_.directlySetCurrentUser(O):_.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var _=this;return(0,l.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,l.Z)(function*(){try{yield tn(p)}catch(w){if("auth/network-request-failed"!==w?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Jo(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,l.Z)(function*(){const w=p?(0,L.m9)(p):null;return w&&ce(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(p,_=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&ce(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(Xn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const _=yield ot(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new ei(_);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new _d(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new L.LL("auth","Firebase",p())}onAuthStateChanged(p,_,w){return this.registerStateListener(this.authStateSubscription,p,_,w)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,w){return this.registerStateListener(this.idTokenSubscription,p,_,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var w=this;return(0,l.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(_);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const w=p&&Xn(p)||_._popupRedirectResolver;ce(w,_,"argument-error"),_.redirectPersistenceManager=yield H.create(_,[Xn(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,l.Z)(function*(){var w,S;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===p?_._currentUser:(null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,l.Z)(function*(){if(p===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,w,S){if(this._deleted)return()=>{};const O="function"==typeof _?_:_.next.bind(_),z=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(z,this,"internal-error"),z.then(()=>O(this.currentUser)),"function"==typeof _?p.addObserver(_,w,S):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=pe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var _;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();S&&(w["X-Firebase-Client"]=S);const O=yield p._getAppCheckToken();return O&&(w["X-Firebase-AppCheck"]=O),w})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var _;const w=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return w?.error&&function pt(b,...p){vt.logLevel<=le.in.WARN&&vt.warn(`Auth (${te.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function ni(b){return(0,L.m9)(b)}class Pr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,L.ne)(_=>this.observer=_)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ta(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function nf(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class na{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return Et("not implemented")}_getIdTokenResponse(p){return Et("not implemented")}_linkToIdToken(p,_){return Et("not implemented")}_getReauthenticationResolver(p){return Et("not implemented")}}function rf(b,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(b,p){return Se(b,"POST","/v1/accounts:resetPassword",Ie(b,p))})).apply(this,arguments)}function Hc(b,p){return sf.apply(this,arguments)}function sf(){return(sf=(0,l.Z)(function*(b,p){return Se(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zc(){return(zc=(0,l.Z)(function*(b,p){return Se(b,"POST","/v1/accounts:update",Ie(b,p))})).apply(this,arguments)}function er(b,p){return vd.apply(this,arguments)}function vd(){return(vd=(0,l.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithPassword",Ie(b,p))})).apply(this,arguments)}function $c(b,p){return $l.apply(this,arguments)}function $l(){return($l=(0,l.Z)(function*(b,p){return Se(b,"POST","/v1/accounts:sendOobCode",Ie(b,p))})).apply(this,arguments)}function Gc(){return(Gc=(0,l.Z)(function*(b,p){return $c(b,p)})).apply(this,arguments)}function Ha(b,p){return qc.apply(this,arguments)}function qc(){return(qc=(0,l.Z)(function*(b,p){return $c(b,p)})).apply(this,arguments)}function Jt(b,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(b,p){return $c(b,p)})).apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(b,p){return $c(b,p)})).apply(this,arguments)}function bd(){return(bd=(0,l.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithEmailLink",Ie(b,p))})).apply(this,arguments)}function Gl(){return(Gl=(0,l.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithEmailLink",Ie(b,p))})).apply(this,arguments)}class Zc extends na{constructor(p,_,w,S=null){super("password",w),this._email=p,this._password=_,this._tenantId=S}static _fromEmailAndPassword(p,_){return new Zc(p,_,"password")}static _fromEmailAndCode(p,_,w=null){return new Zc(p,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,l.Z)(function*(){var w;switch(_.signInMethod){case"password":const S={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const O=yield Qr(p,S,"signInWithPassword");return er(p,O)}return er(p,S).catch(function(){var O=(0,l.Z)(function*(z){if("auth/missing-recaptcha-token"===z.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Y=yield Qr(p,S,"signInWithPassword");return er(p,Y)}return Promise.reject(z)});return function(z){return O.apply(this,arguments)}}());case"emailLink":return function sr(b,p){return bd.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:be(p,"internal-error")}})()}_linkToIdToken(p,_){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Hc(p,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Em(b,p){return Gl.apply(this,arguments)}(p,{idToken:_,email:w._email,oobCode:w._password});default:be(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Xr(b,p){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithIdp",Ie(b,p))})).apply(this,arguments)}class Ct extends na{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Ct(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):be("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=_,O=(0,se._T)(_,["providerId","signInMethod"]);if(!w||!S)return null;const z=new Ct(w,S);return z.idToken=O.idToken||void 0,z.accessToken=O.accessToken||void 0,z.secret=O.secret,z.nonce=O.nonce,z.pendingToken=O.pendingToken||null,z}_getIdTokenResponse(p){return Xr(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,Xr(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Xr(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,L.xO)(_)}return p}}function or(){return(or=(0,l.Z)(function*(b,p){return Se(b,"POST","/v1/accounts:sendVerificationCode",Ie(b,p))})).apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithPhoneNumber",Ie(b,p))})).apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(b,p){const _=yield gt(b,"POST","/v1/accounts:signInWithPhoneNumber",Ie(b,p));if(_.temporaryProof)throw An(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const eo={USER_NOT_FOUND:"user-not-found"};function Tt(){return(Tt=(0,l.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithPhoneNumber",Ie(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),eo)})).apply(this,arguments)}class Bi extends na{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Bi({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Bi({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function ia(b,p){return Ui.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function ql(b,p){return In.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function za(b,p){return Tt.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:w,verificationCode:S}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:w,phoneNumber:S,temporaryProof:O}=p;return w||_||S||O?new Bi({verificationId:_,verificationCode:w,phoneNumber:S,temporaryProof:O}):null}}class kn{constructor(p){var _,w,S,O,z,Y;const Pe=(0,L.zd)((0,L.pd)(p)),He=null!==(_=Pe.apiKey)&&void 0!==_?_:null,at=null!==(w=Pe.oobCode)&&void 0!==w?w:null,lt=function lf(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Pe.mode)&&void 0!==S?S:null);ce(He&&at&&lt,"argument-error"),this.apiKey=He,this.operation=lt,this.code=at,this.continueUrl=null!==(O=Pe.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(z=Pe.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(Y=Pe.tenantId)&&void 0!==Y?Y:null}static parseLink(p){const _=function to(b){const p=(0,L.zd)((0,L.pd)(b)).link,_=p?(0,L.zd)((0,L.pd)(p)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(b)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||_||p||b}(p);try{return new kn(_)}catch{return null}}}let ra=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return Zc._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const S=kn.parseLink(w);return ce(S,"argument-error"),Zc._fromEmailAndCode(_,S.code,S.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class vi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class no extends vi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class io extends no{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return ce("providerId"in _&&"signInMethod"in _,"argument-error"),Ct._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ce(p.idToken||p.accessToken,"argument-error"),Ct._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return io.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return io.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:O,nonce:z,providerId:Y}=p;if(!w&&!S&&!_&&!O||!Y)return null;try{return new io(Y)._credential({idToken:_,accessToken:w,nonce:z,pendingToken:O})}catch{return null}}}let Ro=(()=>{class b extends no{constructor(){super("facebook.com")}static credential(_){return Ct._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),es=(()=>{class b extends no{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Ct._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:S}=_;if(!w&&!S)return null;try{return b.credential(w,S)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Zl=(()=>{class b extends no{constructor(){super("github.com")}static credential(_){return Ct._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Bt extends na{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return Xr(p,this.buildRequest())}_linkToIdToken(p,_){const w=this.buildRequest();return w.idToken=_,Xr(p,w)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,Xr(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:O}=_;return w&&S&&O&&w===S?new Bt(w,O):null}static _create(p,_){return new Bt(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $a extends vi{constructor(p){ce(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return $a.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return $a.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Bt.fromJSON(p);return ce(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:w}=p;if(!_||!w)return null;try{return Bt._create(w,_)}catch{return null}}}let Wc=(()=>{class b extends no{constructor(){super("twitter.com")}static credential(_,w){return Ct._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=_;if(!w||!S)return null;try{return b.credential(w,S)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function bi(b,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signUp",Ie(b,p))})).apply(this,arguments)}class wi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,w,S=!1){return(0,l.Z)(function*(){const O=yield _i._fromIdTokenResponse(p,w,S),z=Oo(w);return new wi({user:O,providerId:z,_tokenResponse:w,operationType:_})})()}static _forOperation(p,_,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=Oo(w);return new wi({user:p,providerId:S,_tokenResponse:w,operationType:_})})()}}function Oo(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Cm(){return(Cm=(0,l.Z)(function*(b){var p;const _=ni(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new wi({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield bi(_,{returnSecureToken:!0}),S=yield wi._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ei extends L.ZR{constructor(p,_,w,S){var O;super(_.code,_.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,Ei.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,_,w,S){return new Ei(p,_,w,S)}}function tr(b,p,_,w){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Ei._fromErrorAndOperation(b,O,p,w):O})}function Kc(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function Nr(){return Nr=(0,l.Z)(function*(b,p){const _=(0,L.m9)(b);yield qa(!0,_,p);const{providerUserInfo:w}=yield function Xi(b,p){return Rr.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),S=Kc(w||[]);return _.providerData=_.providerData.filter(O=>S.has(O.providerId)),S.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Nr.apply(this,arguments)}function gr(b,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(b,p,_=!1){const w=yield Nn(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return wi._forOperation(b,"link",w)})).apply(this,arguments)}function qa(b,p,_){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,l.Z)(function*(b,p,_){yield tn(p);const S=!1===b?"provider-already-linked":"no-such-provider";ce(Kc(p.providerData).has(_)===b,p.auth,S)})).apply(this,arguments)}function Iy(b,p){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,l.Z)(function*(b,p,_=!1){const{auth:w}=b,S="reauthenticate";try{const O=yield Nn(b,tr(w,S,p,b),_);ce(O.idToken,w,"internal-error");const z=Mt(O.idToken);ce(z,w,"internal-error");const{sub:Y}=z;return ce(b.uid===Y,w,"user-mismatch"),wi._forOperation(b,S,O)}catch(O){throw"auth/user-not-found"===O?.code&&be(w,"user-mismatch"),O}})).apply(this,arguments)}function Cd(b,p){return cf.apply(this,arguments)}function cf(){return(cf=(0,l.Z)(function*(b,p,_=!1){const w="signIn",S=yield tr(b,w,p),O=yield wi._fromIdTokenResponse(b,w,S);return _||(yield b._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Id(b,p){return uf.apply(this,arguments)}function uf(){return(uf=(0,l.Z)(function*(b,p){return Cd(ni(b),p)})).apply(this,arguments)}function Ty(b,p){return On.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(b,p){const _=(0,L.m9)(b);return yield qa(!1,_,p.providerId),gr(_,p)})).apply(this,arguments)}function xy(b,p){return Im.apply(this,arguments)}function Im(){return(Im=(0,l.Z)(function*(b,p){return Iy((0,L.m9)(b),p)})).apply(this,arguments)}function Tm(){return(Tm=(0,l.Z)(function*(b,p){return gt(b,"POST","/v1/accounts:signInWithCustomToken",Ie(b,p))})).apply(this,arguments)}function ro(){return ro=(0,l.Z)(function*(b,p){const _=ni(b),w=yield function U0(b,p){return Tm.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),S=yield wi._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(S.user),S}),ro.apply(this,arguments)}class Td{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Za._fromServerResponse(p,_):"totpInfo"in _?xd._fromServerResponse(p,_):be(p,"internal-error")}}class Za extends Td{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Za(_)}}class xd extends Td{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new xd(_)}}function Wl(b,p,_){var w;ce((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),ce(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ce(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(ce(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function Kl(){return Kl=(0,l.Z)(function*(b,p,_){var w;const S=ni(b),O={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const z=yield Qr(S,O,"getOobCode",!0);_&&Wl(S,z,_),yield Ha(S,z)}else _&&Wl(S,O,_),yield Ha(S,O).catch(function(){var z=(0,l.Z)(function*(Y){if("auth/missing-recaptcha-token"!==Y.code)return Promise.reject(Y);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Pe=yield Qr(S,O,"getOobCode",!0);_&&Wl(S,Pe,_),yield Ha(S,Pe)}});return function(Y){return z.apply(this,arguments)}}())}),Kl.apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(b,p,_){yield rf((0,L.m9)(b),{oobCode:p,newPassword:_})})).apply(this,arguments)}function ts(){return ts=(0,l.Z)(function*(b,p){yield function Jr(b,p){return zc.apply(this,arguments)}((0,L.m9)(b),{oobCode:p})}),ts.apply(this,arguments)}function di(b,p){return la.apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(b,p){const _=(0,L.m9)(b),w=yield rf(_,{oobCode:p}),S=w.requestType;switch(ce(S,_,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(w.mfaInfo,_,"internal-error");default:ce(w.email,_,"internal-error")}let O=null;return w.mfaInfo&&(O=Td._fromServerResponse(ni(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:S}})).apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(b,p){const{data:_}=yield di((0,L.m9)(b),p);return _.email})).apply(this,arguments)}function Yl(){return Yl=(0,l.Z)(function*(b,p,_){var w;const S=ni(b),O={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let z;if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const He=yield Qr(S,O,"signUpPassword");z=bi(S,He)}else z=bi(S,O).catch(function(){var He=(0,l.Z)(function*(at){if("auth/missing-recaptcha-token"===at.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const lt=yield Qr(S,O,"signUpPassword");return bi(S,lt)}return Promise.reject(at)});return function(at){return He.apply(this,arguments)}}());const Y=yield z.catch(He=>Promise.reject(He)),Pe=yield wi._fromIdTokenResponse(S,"signIn",Y);return yield S._updateCurrentUser(Pe.user),Pe}),Yl.apply(this,arguments)}function Ql(){return Ql=(0,l.Z)(function*(b,p,_){var w;const S=ni(b),O={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function z(Y,Pe){ce(Pe.handleCodeInApp,S,"argument-error"),Pe&&Wl(S,Y,Pe)}if(null!==(w=S._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Y=yield Qr(S,O,"getOobCode",!0);z(Y,_),yield Jt(S,Y)}else z(O,_),yield Jt(S,O).catch(function(){var Y=(0,l.Z)(function*(Pe){if("auth/missing-recaptcha-token"!==Pe.code)return Promise.reject(Pe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const He=yield Qr(S,O,"getOobCode",!0);z(He,_),yield Jt(S,He)}});return function(Pe){return Y.apply(this,arguments)}}())}),Ql.apply(this,arguments)}function Sd(){return(Sd=(0,l.Z)(function*(b,p,_){const w=(0,L.m9)(b),S=ra.credentialWithLink(p,_||Fi());return ce(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Id(w,S)})).apply(this,arguments)}function Md(){return(Md=(0,l.Z)(function*(b,p){return Se(b,"POST","/v1/accounts:createAuthUri",Ie(b,p))})).apply(this,arguments)}function ua(){return ua=(0,l.Z)(function*(b,p){const w={identifier:p,continueUri:dr()?Fi():"http://localhost"},{signinMethods:S}=yield function Ad(b,p){return Md.apply(this,arguments)}((0,L.m9)(b),w);return S||[]}),ua.apply(this,arguments)}function Xl(){return Xl=(0,l.Z)(function*(b,p){const _=(0,L.m9)(b),S={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Wl(_.auth,S,p);const{email:O}=yield function af(b,p){return Gc.apply(this,arguments)}(_.auth,S);O!==b.email&&(yield b.reload())}),Xl.apply(this,arguments)}function Qc(){return Qc=(0,l.Z)(function*(b,p,_){const w=(0,L.m9)(b),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&Wl(w.auth,O,_);const{email:z}=yield function rr(b,p){return Xs.apply(this,arguments)}(w.auth,O);z!==b.email&&(yield b.reload())}),Qc.apply(this,arguments)}function gf(){return(gf=(0,l.Z)(function*(b,p){return Se(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Rd(){return Rd=(0,l.Z)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const w=(0,L.m9)(b),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},z=yield Nn(w,function Dy(b,p){return gf.apply(this,arguments)}(w.auth,O));w.displayName=z.displayName||null,w.photoURL=z.photoUrl||null;const Y=w.providerData.find(({providerId:Pe})=>"password"===Pe);Y&&(Y.displayName=w.displayName,Y.photoURL=w.photoURL),yield w._updateTokensIfNecessary(z)}),Rd.apply(this,arguments)}function xm(b,p,_){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(b,p,_){const{auth:w}=b,O={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(O.email=p),_&&(O.password=_);const z=yield Nn(b,Hc(w,O));yield b._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Ya{constructor(p,_,w={}){this.isNewUser=p,this.providerId=_,this.profile=w}}class ec extends Ya{constructor(p,_,w,S){super(p,_,w),this.username=S}}class kd extends Ya{constructor(p,_){super(p,"facebook.com",_)}}class yf extends ec{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Xc extends Ya{constructor(p,_){super(p,"google.com",_)}}class tc extends ec{constructor(p,_,w){super(p,"twitter.com",_,w)}}function Dm(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ay(b){var p,_;if(!b)return null;const{providerId:w}=b,S=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},O=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&b?.idToken){const z=null===(_=null===(p=Mt(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(z)return new Ya(O,"anonymous"!==z&&"custom"!==z?z:null)}if(!w)return null;switch(w){case"facebook.com":return new kd(O,S);case"github.com":return new yf(O,S);case"google.com":return new Xc(O,S);case"twitter.com":return new tc(O,S,b.screenName||null);case"custom":case"anonymous":return new Ya(O,null);default:return new Ya(O,w,S)}}(_)}class Fs{constructor(p,_,w){this.type=p,this.credential=_,this.auth=w}static _fromIdtoken(p,_){return new Fs("enroll",p,_)}static _fromMfaPendingCredential(p){return new Fs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,w;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Fs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Fs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ha{constructor(p,_,w){this.session=p,this.hints=_,this.signInResolver=w}static _fromError(p,_){const w=ni(p),S=_.customData._serverResponse,O=(S.mfaInfo||[]).map(Y=>Td._fromServerResponse(w,Y));ce(S.mfaPendingCredential,w,"internal-error");const z=Fs._fromMfaPendingCredential(S.mfaPendingCredential);return new ha(z,O,function(){var Y=(0,l.Z)(function*(Pe){const He=yield Pe._process(w,z);delete S.mfaInfo,delete S.mfaPendingCredential;const at=Object.assign(Object.assign({},S),{idToken:He.idToken,refreshToken:He.refreshToken});switch(_.operationType){case"signIn":const lt=yield wi._fromIdTokenResponse(w,_.operationType,at);return yield w._updateCurrentUser(lt.user),lt;case"reauthenticate":return ce(_.user,w,"internal-error"),wi._forOperation(_.user,_.operationType,at);default:be(w,"internal-error")}});return function(Pe){return Y.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,l.Z)(function*(){return _.signInResolver(p)})()}}class ln{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Td._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new ln(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Fs._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var w=this;return(0,l.Z)(function*(){const S=p,O=yield w.getSession(),z=yield Nn(w.user,S._process(w.user.auth,O,_));return yield w.user._updateTokensIfNecessary(z),w.user.reload()})()}unenroll(p){var _=this;return(0,l.Z)(function*(){const w="string"==typeof p?p:p.uid,S=yield _.user.getIdToken();try{const O=yield Nn(_.user,function wf(b,p){return Se(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(b,p))}(_.user.auth,{idToken:S,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:z})=>z!==w),yield _.user._updateTokensIfNecessary(O),yield _.user.reload()}catch(O){throw O}})()}}const No=new WeakMap,Hi="__sak";class km{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Hi,"1"),this.storage.removeItem(Hi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qa=(()=>{class b extends km{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fd(){const b=(0,L.z$)();return ae(b)||Bn(b)}()&&function zl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Js(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),O=this.localCache[w];S!==O&&_(w,O,S)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((Y,Pe,He)=>{this.notifyListeners(Y,He)});const S=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Y=this.storage.getItem(S);if(_.newValue!==Y)null!==_.newValue?this.storage.setItem(S,_.newValue):this.storage.removeItem(S);else if(this.localCache[S]===_.newValue&&!w)return}const O=()=>{const Y=this.storage.getItem(S);!w&&this.localCache[S]===Y||this.notifyListeners(S,Y)},z=this.storage.getItem(S);!function ks(){return(0,L.w1)()&&10===document.documentMode}()||z===_.newValue||_.newValue===_.oldValue?O():setTimeout(O,10)}notifyListeners(_,w){this.localCache[_]=w;const S=this.listeners[_];if(S)for(const O of Array.from(S))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var S=()=>super._set,O=this;return(0,l.Z)(function*(){yield S().call(O,_,w),O.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,S=this;return(0,l.Z)(function*(){const O=yield w().call(S,_);return S.localCache[_]=JSON.stringify(O),O})()}_remove(_){var w=()=>super._remove,S=this;return(0,l.Z)(function*(){yield w().call(S,_),delete S.localCache[_]})()}}return b.type="LOCAL",b})(),yr=(()=>{class b extends km{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let Ld=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(O=>O.isListeningto(_));if(w)return w;const S=new b(_);return this.receivers.push(S),S}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,l.Z)(function*(){const S=_,{eventId:O,eventType:z,data:Y}=S.data,Pe=w.handlersMap[z];if(!Pe?.size)return;S.ports[0].postMessage({status:"ack",eventId:O,eventType:z});const He=Array.from(Pe).map(function(){var lt=(0,l.Z)(function*(Hn){return Hn(S.origin,Y)});return function(Hn){return lt.apply(this,arguments)}}()),at=yield function Nm(b){return Promise.all(b.map(function(){var p=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return p.apply(this,arguments)}}()))}(He);S.ports[0].postMessage({status:"done",eventId:O,eventType:z,response:at})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function tu(b="",p=10){let _="";for(let w=0;w<p;w++)_+=Math.floor(10*Math.random());return b+_}class Ry{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,w=50){var S=this;return(0,l.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let z,Y;return new Promise((Pe,He)=>{const at=tu("",20);O.port1.start();const lt=setTimeout(()=>{He(new Error("unsupported_event"))},w);Y={messageChannel:O,onMessage(Hn){const Es=Hn;if(Es.data.eventId===at)switch(Es.data.status){case"ack":clearTimeout(lt),z=setTimeout(()=>{He(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Pe(Es.data.response);break;default:clearTimeout(lt),clearTimeout(z),He(new Error("invalid_response"))}}},S.handlers.add(Y),O.port1.addEventListener("message",Y.onMessage),S.target.postMessage({eventType:p,eventId:at,data:_},[O.port2])}).finally(()=>{Y&&S.removeMessageHandler(Y)})})()}}function Tn(){return window}function xt(){return typeof Tn().WorkerGlobalScope<"u"&&"function"==typeof Tn().importScripts}function Cf(){return(Cf=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const If="firebaseLocalStorageDb",Ls="firebaseLocalStorage",rc="fbase_key";class iu{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ru(b,p){return b.transaction([Ls],p?"readwrite":"readonly").objectStore(Ls)}function Vd(){const b=indexedDB.open(If,1);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(Ls,{keyPath:rc})}catch(S){_(S)}}),b.addEventListener("success",(0,l.Z)(function*(){const w=b.result;w.objectStoreNames.contains(Ls)?p(w):(w.close(),yield function Oy(){const b=indexedDB.deleteDatabase(If);return new iu(b).toPromise()}(),p(yield Vd()))}))})}function De(b,p,_){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(b,p,_){const w=ru(b,!0).put({[rc]:p,value:_});return new iu(w).toPromise()})).apply(this,arguments)}function su(){return(su=(0,l.Z)(function*(b,p){const _=ru(b,!1).get(p),w=yield new iu(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ti(b,p){const _=ru(b,!0).delete(p);return new iu(_).toPromise()}const ma=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Vd()),_.db})()}_withRetries(_){var w=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const O=yield w._openDb();return yield _(O)}catch(O){if(S++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return xt()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Ld._getInstance(function Ii(){return xt()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(S,O){return{keyProcessed:(yield _._poll()).includes(O.key)}});return function(S,O){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(S,O){return["keyChanged"]});return function(S,O){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var w,S;if(_.activeServiceWorker=yield function Ef(){return Cf.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ry(_.activeServiceWorker);const O=yield _.sender._send("ping",{},800);O&&null!==(w=O[0])&&void 0!==w&&w.fulfilled&&null!==(S=O[0])&&void 0!==S&&S.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function nu(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Vd();return yield De(_,Hi,"1"),yield Ti(_,Hi),!0}catch{}return!1})()}_withPendingWrite(_){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(O=>De(O,_,w)),S.localCache[_]=w,S.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,l.Z)(function*(){const S=yield w._withRetries(O=>function fs(b,p){return su.apply(this,arguments)}(O,_));return w.localCache[_]=S,S})()}_remove(_){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(S=>Ti(S,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const w=yield _._withRetries(z=>{const Y=ru(z,!1).getAll();return new iu(Y).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const S=[],O=new Set;for(const{fbase_key:z,value:Y}of w)O.add(z),JSON.stringify(_.localCache[z])!==JSON.stringify(Y)&&(_.notifyListeners(z,Y),S.push(z));for(const z of Object.keys(_.localCache))_.localCache[z]&&!O.has(z)&&(_.notifyListeners(z,null),S.push(z));return S})()}notifyListeners(_,w){this.localCache[_]=w;const S=this.listeners[_];if(S)for(const O of Array.from(S))O(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),Fr=1e12;class Tf{constructor(p){this.auth=p,this.counter=Fr,this._widgets=new Map}render(p,_){const w=this.counter;return this._widgets.set(w,new ga(p,this.auth.name,_||{})),this.counter++,w}reset(p){var _;const w=p||Fr;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Fr))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,l.Z)(function*(){var w;return null===(w=_._widgets.get(p||Fr))||void 0===w||w.execute(),""})()}}class ga{constructor(p,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ce(S,"argument-error",{appName:_}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ps(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<b;w++)p.push(_.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const jd=Os("rcb"),Hd=new Qs(3e4,6e4);class Py{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Tn().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return ce(function lu(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&Nt(Tn().grecaptcha)?Promise.resolve(Tn().grecaptcha):new Promise((w,S)=>{const O=Tn().setTimeout(()=>{S(ne(p,"network-request-failed"))},Hd.get());Tn()[jd]=()=>{Tn().clearTimeout(O),delete Tn()[jd];const Y=Tn().grecaptcha;if(!Y||!Nt(Y))return void S(ne(p,"internal-error"));const Pe=Y.render;Y.render=(He,at)=>{const lt=Pe(He,at);return this.counter++,lt},this.hostLanguage=_,w(Y)},Vi(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:jd,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(O),S(ne(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=Tn().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xf{load(p){return(0,l.Z)(function*(){return new Tf(p)})()}clearedOneInstance(){}}const cu="recaptcha",Df={theme:"light",type:"image"};class Sf{constructor(p,_=Object.assign({},Df),w){this.parameters=_,this.type=cu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ni(w),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ce(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xf:new Py,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(_)||new Promise(O=>{const z=Y=>{Y&&(p.tokenChangeListeners.delete(z),O(Y))};p.tokenChangeListeners.add(z),p.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof p)p(_);else if("string"==typeof p){const w=Tn()[p];"function"==typeof w&&w(_)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){ce(dr()&&!xt(),p.auth,"internal-error"),yield function Lm(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function ie(b){return ke.apply(this,arguments)}(p.auth);ce(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fn{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Bi._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function Xa(){return(Xa=(0,l.Z)(function*(b,p,_){const w=ni(b),S=yield sc(w,p,(0,L.m9)(_));return new Fn(S,O=>Id(w,O))})).apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(b,p,_){const w=(0,L.m9)(b);yield qa(!1,w,"phone");const S=yield sc(w.auth,p,(0,L.m9)(_));return new Fn(S,O=>Ty(w,O))})).apply(this,arguments)}function uu(){return(uu=(0,l.Z)(function*(b,p,_){const w=(0,L.m9)(b),S=yield sc(w.auth,p,(0,L.m9)(_));return new Fn(S,O=>xy(w,O))})).apply(this,arguments)}function sc(b,p,_){return Gi.apply(this,arguments)}function Gi(){return Gi=(0,l.Z)(function*(b,p,_){var w;const S=yield _.verify();try{let O;if(ce("string"==typeof S,b,"argument-error"),ce(_.type===cu,b,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const z=O.session;if("phoneNumber"in O)return ce("enroll"===z.type,b,"internal-error"),(yield function ic(b,p){return Se(b,"POST","/v2/accounts/mfaEnrollment:start",Ie(b,p))}(b,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ce("signin"===z.type,b,"internal-error");const Y=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return ce(Y,b,"missing-multi-factor-info"),(yield function Ud(b,p){return Se(b,"POST","/v2/accounts/mfaSignIn:start",Ie(b,p))}(b,{mfaPendingCredential:z.credential,mfaEnrollmentId:Y,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield function Rn(b,p){return or.apply(this,arguments)}(b,{phoneNumber:O.phoneNumber,recaptchaToken:S});return z}}finally{_._reset()}}),Gi.apply(this,arguments)}function yn(){return(yn=(0,l.Z)(function*(b,p){yield gr((0,L.m9)(b),p)})).apply(this,arguments)}let Lo=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=ni(_)}verifyPhoneNumber(_,w){return sc(this.auth,_,(0,L.m9)(w))}static credential(_,w){return Bi._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:S}=_;return w&&S?Bi._fromTokenResponse(w,S):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ms(b,p){return p?Xn(p):(ce(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class tt extends na{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Xr(p,this._buildIdpRequest())}_linkToIdToken(p,_){return Xr(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return Xr(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Af(b){return Cd(b.auth,new tt(b),b.bypassAuthState)}function zd(b){const{auth:p,user:_}=b;return ce(_,p,"internal-error"),Iy(_,new tt(b),b.bypassAuthState)}function _a(b){return ns.apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(b){const{auth:p,user:_}=b;return ce(_,p,"internal-error"),gr(_,new tt(b),b.bypassAuthState)})).apply(this,arguments)}class gs{constructor(p,_,w,S,O=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,l.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,S){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:O,tenantId:z,error:Y,type:Pe}=p;if(Y)return void _.reject(Y);const He={auth:_.auth,requestUri:w,sessionId:S,tenantId:z||void 0,postBody:O||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Pe)(He))}catch(at){_.reject(at)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Af;case"linkViaPopup":case"linkViaRedirect":return _a;case"reauthViaPopup":case"reauthViaRedirect":return zd;default:be(this.auth,"internal-error")}}resolve(p){Gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Gt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pn=new Qs(2e3,1e4);function Vo(){return(Vo=(0,l.Z)(function*(b,p,_){const w=ni(b);Fe(b,p,vi);const S=ms(w,_);return new va(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function tl(){return(tl=(0,l.Z)(function*(b,p,_){const w=(0,L.m9)(b);Fe(w.auth,p,vi);const S=ms(w.auth,_);return new va(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(b,p,_){const w=(0,L.m9)(b);Fe(w.auth,p,vi);const S=ms(w.auth,_);return new va(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let va=(()=>{class b extends gs{constructor(_,w,S,O,z){super(_,w,O,z),this.provider=S,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const w=yield _.execute();return ce(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,l.Z)(function*(){Gt(1===_.filter.length,"Popup operations only handle one event");const w=tu();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(S=>{_.reject(S)}),_.resolver._isIframeWebStorageSupported(_.auth,S=>{S||_.reject(ne(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,S;this.pollId=null!==(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ne(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,pn.get())};_()}}return b.currentPopupAction=null,b})();const Uo="pendingRedirect",_s=new Map;class nl extends gs{constructor(p,_,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,l.Z)(function*(){let w=_s.get(_.auth._key());if(!w){try{const O=(yield function $d(b,p){return hu.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;w=()=>Promise.resolve(O)}catch(S){w=()=>Promise.reject(S)}_s.set(_.auth._key(),w)}return _.bypassAuthState||_s.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,_().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function hu(){return(hu=(0,l.Z)(function*(b,p){const _=rl(p),w=Mf(b);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(_));return yield w._remove(_),S})).apply(this,arguments)}function il(b,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(b,p){return Mf(b)._set(rl(p),"true")})).apply(this,arguments)}function Di(b,p){_s.set(b._key(),p)}function Mf(b){return Xn(b._redirectPersistence)}function rl(b){return $(Uo,b.config.apiKey,b.name)}function Xt(b,p,_){return function $n(b,p,_){return ar.apply(this,arguments)}(b,p,_)}function ar(){return(ar=(0,l.Z)(function*(b,p,_){const w=ni(b);Fe(b,p,vi),yield w._initializationPromise;const S=ms(w,_);return yield il(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Vs(b,p,_){return function hi(b,p,_){return qi.apply(this,arguments)}(b,p,_)}function qi(){return(qi=(0,l.Z)(function*(b,p,_){const w=(0,L.m9)(b);Fe(w.auth,p,vi),yield w.auth._initializationPromise;const S=ms(w.auth,_);yield il(S,w.auth);const O=yield ac(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function oc(b,p,_){return function Rf(b,p,_){return Gd.apply(this,arguments)}(b,p,_)}function Gd(){return(Gd=(0,l.Z)(function*(b,p,_){const w=(0,L.m9)(b);Fe(w.auth,p,vi),yield w.auth._initializationPromise;const S=ms(w.auth,_);yield qa(!1,w,p.providerId),yield il(S,w.auth);const O=yield ac(w);return S._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(b,p){return yield ni(b)._initializationPromise,vn(b,p,!1)})).apply(this,arguments)}function vn(b,p){return is.apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(b,p,_=!1){const w=ni(b),S=ms(w,p),z=yield new nl(w,S,_).execute();return z&&!_&&(delete z.user._redirectEventId,yield w._persistUserIfCurrent(z.user),yield w._setRedirectUser(null,p)),z})).apply(this,arguments)}function ac(b){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,l.Z)(function*(b){const p=tu(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class fu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(_=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function cc(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jo(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var w;if(p.error&&!jo(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(ne(this.auth,S))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const w=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lc(p))}saveEventToCache(p){this.cachedEventUids.add(lc(p)),this.lastProcessedEventTime=Date.now()}}function lc(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function jo({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function Ur(b){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,l.Z)(function*(b,p={}){return Se(b,"GET","/v1/projects",p)})).apply(this,arguments)}const wa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ea=/^https?/;function oo(){return(oo=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Ur(b);for(const _ of p)try{if(qd(_))return}catch{}be(b,"unauthorized-domain")})).apply(this,arguments)}function qd(b){const p=Fi(),{protocol:_,hostname:w}=new URL(p);if(b.startsWith("chrome-extension://")){const z=new URL(b);return""===z.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&z.hostname===w}if(!Ea.test(_))return!1;if(wa.test(b))return w===b;const S=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const br=new Qs(3e4,6e4);function Zd(){const b=Tn().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let bs=null;const Wd=new Qs(5e3,15e3),Um="__/auth/iframe",Kd="emulator/auth/iframe",pu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ol=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function al(b){const p=b.config;ce(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?ue(p,Kd):`https://${b.config.authDomain}/${Um}`,w={apiKey:p.apiKey,appName:b.name,v:te.SDK_VERSION},S=ol.get(b.config.apiHost);S&&(w.eid=S);const O=b._getFrameworks();return O.length&&(w.fw=O.join(",")),`${_}?${(0,L.xO)(w).slice(1)}`}function x(){return x=(0,l.Z)(function*(b){const p=yield function Ho(b){return bs=bs||function jn(b){return new Promise((p,_)=>{var w,S,O;function z(){Zd(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Zd(),_(ne(b,"network-request-failed"))},timeout:br.get()})}if(null!==(S=null===(w=Tn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Tn().gapi)||void 0===O||!O.load){const Y=Os("iframefcb");return Tn()[Y]=()=>{gapi.load?z():_(ne(b,"network-request-failed"))},Vi(`https://apis.google.com/js/api.js?onload=${Y}`).catch(Pe=>_(Pe))}z()}}).catch(p=>{throw bs=null,p})}(b),bs}(b),_=Tn().gapi;return ce(_,b,"internal-error"),p.open({where:document.body,url:al(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pu,dontclear:!0},w=>new Promise(function(){var S=(0,l.Z)(function*(O,z){yield w.restyle({setHideOnLeave:!1});const Y=ne(b,"network-request-failed"),Pe=Tn().setTimeout(()=>{z(Y)},Wd.get());function He(){Tn().clearTimeout(Pe),O(w)}w.ping(He).then(He,()=>{z(Y)})});return function(O,z){return S.apply(this,arguments)}}()))}),x.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ye{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ot="__/auth/handler",St="emulator/auth/handler",Gn=encodeURIComponent("fac");function ii(b,p,_,w,S,O){return ao.apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(b,p,_,w,S,O){ce(b.config.authDomain,b,"auth-domain-config-required"),ce(b.config.apiKey,b,"invalid-api-key");const z={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:te.SDK_VERSION,eventId:S};if(p instanceof vi){p.setDefaultLanguage(b.languageCode),z.providerId=p.providerId||"",(0,L.xb)(p.getCustomParameters())||(z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[at,lt]of Object.entries(O||{}))z[at]=lt}if(p instanceof no){const at=p.getScopes().filter(lt=>""!==lt);at.length>0&&(z.scopes=at.join(","))}b.tenantId&&(z.tid=b.tenantId);const Y=z;for(const at of Object.keys(Y))void 0===Y[at]&&delete Y[at];const Pe=yield b._getAppCheckToken(),He=Pe?`#${Gn}=${encodeURIComponent(Pe)}`:"";return`${function qn({config:b}){return b.emulator?ue(b,St):`https://${b.authDomain}/${Ot}`}(b)}?${(0,L.xO)(Y).slice(1)}${He}`})).apply(this,arguments)}const lo="webStorageSupport",Us=class Si{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yr,this._completeRedirectFn=vn,this._overrideRedirectResult=Di}_openPopup(p,_,w,S){var O=this;return(0,l.Z)(function*(){var z;Gt(null===(z=O.eventManagers[p._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const Y=yield ii(p,_,w,Fi(),S);return function ze(b,p,_,w=500,S=600){const O=Math.max((window.screen.availHeight-S)/2,0).toString(),z=Math.max((window.screen.availWidth-w)/2,0).toString();let Y="";const Pe=Object.assign(Object.assign({},M),{width:w.toString(),height:S.toString(),top:O,left:z}),He=(0,L.z$)().toLowerCase();_&&(Y=et(He)?"_blank":_),Ce(He)&&(p=p||"http://localhost",Pe.scrollbars="yes");const at=Object.entries(Pe).reduce((Hn,[Es,dl])=>`${Hn}${Es}=${dl},`,"");if(function ui(b=(0,L.z$)()){var p;return Bn(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(He)&&"_self"!==Y)return function ht(b,p){const _=document.createElement("a");_.href=b,_.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(p||"",Y),new Ye(null);const lt=window.open(p||"",Y,at);ce(lt,b,"popup-blocked");try{lt.focus()}catch{}return new Ye(lt)}(p,Y,tu())})()}_openRedirect(p,_,w,S){var O=this;return(0,l.Z)(function*(){return yield O._originValidation(p),function ky(b){Tn().location.href=b}(yield ii(p,_,w,Fi(),S)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:S,promise:O}=this.eventManagers[_];return S?Promise.resolve(S):(Gt(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(p){var _=this;return(0,l.Z)(function*(){const w=yield function C(b){return x.apply(this,arguments)}(p),S=new fu(p);return w.register("authEvent",O=>(ce(O?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:S},_.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(lo,{type:lo},S=>{var O;const z=null===(O=S?.[0])||void 0===O?void 0:O[lo];void 0!==z&&_(!!z),be(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function sl(b){return oo.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Js()||ae()||Bn()}};class wr{constructor(p){this.factorId=p}_process(p,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,w);case"signin":return this._finalizeSignIn(p,_.credential);default:return Et("unexpected MultiFactorSessionType")}}}class ll extends wr{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ll(p)}_finalizeEnroll(p,_,w){return function Rm(b,p){return Se(b,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(b,p))}(p,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function Fm(b,p){return Se(b,"POST","/v2/accounts/mfaSignIn:finalize",Ie(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ny=(()=>{class b{constructor(){}static assertion(_){return ll._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Ly="@firebase/auth";class ws{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cl(){return window}(0,L.Pz)("authIdTokenMaxAge"),function mu(b){(0,te._registerComponent)(new _e.wA("auth",(p,{options:_})=>{const w=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),O=p.getProvider("app-check-internal"),{apiKey:z,authDomain:Y}=w.options;ce(z&&!z.includes(":"),"invalid-api-key",{appName:w.name});const Pe={apiKey:z,authDomain:Y,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pe(b)},He=new yd(w,S,O,Pe);return function wm(b,p){const _=p?.persistence||[],w=(Array.isArray(_)?_:[_]).map(Xn);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(w,p?.popupRedirectResolver)}(He,_),He},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,w)=>{p.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new _e.wA("auth-internal",p=>{const _=ni(p.getProvider("auth").getImmediate());return new ws(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(Ly,"0.23.2",function Hm(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,te.registerVersion)(Ly,"0.23.2","esm2017")}("Browser");function Ia(){return Ia=(0,l.Z)(function*(b,p,_){var w;const{BuildInfo:S}=cl();Gt(p.sessionId,"AuthEvent did not contain a session ID");const O=yield function By(b){return Qd.apply(this,arguments)}(p.sessionId),z={};return Bn()?z.ibi=S.packageName:It()?z.apn=S.packageName:be(b,"operation-not-supported-in-this-environment"),S.displayName&&(z.appDisplayName=S.displayName),z.sessionId=O,ii(b,_,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,z)}),Ia.apply(this,arguments)}function Of(){return(Of=(0,l.Z)(function*(b){const{BuildInfo:p}=cl(),_={};Bn()?_.iosBundleId=p.packageName:It()?_.androidPackageName=p.packageName:be(b,"operation-not-supported-in-this-environment"),yield Ur(b,_)})).apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(b,p,_){const{cordova:w}=cl();let S=()=>{};try{yield new Promise((O,z)=>{let Y=null;function Pe(){var lt;O();const Hn=null===(lt=w.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof Hn&&Hn(),"function"==typeof _?.close&&_.close()}function He(){Y||(Y=window.setTimeout(()=>{z(ne(b,"redirect-cancelled-by-user"))},2e3))}function at(){"visible"===document?.visibilityState&&He()}p.addPassiveListener(Pe),document.addEventListener("resume",He,!1),It()&&document.addEventListener("visibilitychange",at,!1),S=()=>{p.removePassiveListener(Pe),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",at,!1),Y&&window.clearTimeout(Y)}})}finally{S()}})).apply(this,arguments)}function Qd(){return(Qd=(0,l.Z)(function*(b){const p=function Jd(b){if(Gt(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const p=new ArrayBuffer(b.length),_=new Uint8Array(p);for(let w=0;w<b.length;w++)_[w]=b.charCodeAt(w);return _}(b),_=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(_)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class q0 extends fu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function dc(b){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,l.Z)(function*(b){const p=yield vu()._get(xa(b));return p&&(yield vu()._remove(xa(b))),p})).apply(this,arguments)}function co(){const b=[];for(let _=0;_<20;_++){const w=Math.floor(62*Math.random());b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(w))}return b.join("")}function vu(){return Xn(Qa)}function xa(b){return $("authEvent",b.config.apiKey,b.name)}function hc(b){if(!b?.includes("?"))return{};const[p,..._]=b.split("?");return(0,L.zd)(_.join("?"))}const Z0=class jy{constructor(){this._redirectPersistence=yr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vn,this._overrideRedirectResult=Di}_initialize(p){var _=this;return(0,l.Z)(function*(){const w=p._key();let S=_.eventManagers.get(w);return S||(S=new q0(p),_.eventManagers.set(w,S),_.attachCallbackListeners(p,S)),S})()}_openPopup(p){be(p,"operation-not-supported-in-this-environment")}_openRedirect(p,_,w,S){var O=this;return(0,l.Z)(function*(){!function G0(b){var p,_,w,S,O,z,Y,Pe,He,at;const lt=cl();ce("function"==typeof(null===(p=lt?.universalLinks)||void 0===p?void 0:p.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ce(typeof(null===(_=lt?.BuildInfo)||void 0===_?void 0:_.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ce("function"==typeof(null===(O=null===(S=null===(w=lt?.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===O?void 0:O.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce("function"==typeof(null===(Pe=null===(Y=null===(z=lt?.cordova)||void 0===z?void 0:z.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===Pe?void 0:Pe.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce("function"==typeof(null===(at=null===(He=lt?.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===at?void 0:at.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const z=yield O._initialize(p);yield z.initialized(),z.resetRedirect(),function vs(){_s.clear()}(),yield O._originValidation(p);const Y=function $m(b,p,_=null){return{type:p,eventId:_,urlResponse:null,sessionId:co(),postBody:null,tenantId:b.tenantId,error:ne(b,"no-auth-event")}}(p,w,S);yield function yu(b,p){return vu()._set(xa(b),p)}(p,Y);const Pe=yield function kf(b,p,_){return Ia.apply(this,arguments)}(p,Y,_),He=yield function Yd(b){const{cordova:p}=cl();return new Promise(_=>{p.plugins.browsertab.isAvailable(w=>{let S=null;w?p.plugins.browsertab.openUrl(b):S=p.InAppBrowser.open(b,function Qt(b=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(S)})})}(Pe);return function $0(b,p,_){return Ta.apply(this,arguments)}(p,z,He)})()}_isIframeWebStorageSupported(p,_){throw new Error("Method not implemented.")}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function gu(b){return Of.apply(this,arguments)}(p)),this.originValidationPromises[_]}attachCallbackListeners(p,_){const{universalLinks:w,handleOpenURL:S,BuildInfo:O}=cl(),z=setTimeout((0,l.Z)(function*(){yield dc(p),_.onEvent(Gm())}),500),Y=function(){var at=(0,l.Z)(function*(lt){clearTimeout(z);const Hn=yield dc(p);let Es=null;Hn&&lt?.url&&(Es=function Nf(b,p){var _,w;const S=function bu(b){const p=hc(b),_=p.link?decodeURIComponent(p.link):void 0,w=hc(_).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return hc(S).link||S||w||_||b}(p);if(S.includes("/__/auth/callback")){const O=hc(S),z=O.firebaseError?function Xd(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,Y=null===(w=null===(_=z?.code)||void 0===_?void 0:_.split("auth/"))||void 0===w?void 0:w[1],Pe=Y?ne(Y):null;return Pe?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:S,postBody:null}}return null}(Hn,lt.url)),_.onEvent(Es||Gm())});return function(Hn){return at.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,Y);const Pe=S,He=`${O.packageName.toLowerCase()}://`;cl().handleOpenURL=function(){var at=(0,l.Z)(function*(lt){if(lt.toLowerCase().startsWith(He)&&Y({url:lt}),"function"==typeof Pe)try{Pe(lt)}catch(Hn){console.error(Hn)}});return function(lt){return at.apply(this,arguments)}}()}};function Gm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ne("no-auth-event")}}function th(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function K0(b=(0,L.z$)()){return!("file:"!==th()&&"ionic:"!==th()&&"capacitor:"!==th()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Q0(){try{const b=self.localStorage,p=tu();if(b)return b.setItem(p,"1"),b.removeItem(p),!function KM(b=(0,L.z$)()){return function nh(){return(0,L.w1)()&&11===document?.documentMode}()||function zy(b=(0,L.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,L.hl)()}catch{return wu()&&(0,L.hl)()}return!1}function wu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zm(){return(function qm(){return"http:"===th()||"https:"===th()}()||(0,L.ru)()||K0())&&!function Y0(){return(0,L.b$)()||(0,L.UG)()}()&&Q0()&&!wu()}function Ff(){return K0()&&typeof document<"u"}function rs(){return(rs=(0,l.Z)(function*(){return!!Ff()&&new Promise(b=>{const p=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),b(!0)})})})).apply(this,arguments)}const Br={LOCAL:"local",NONE:"none",SESSION:"session"},pc=ce,mc="persistence";function ih(b){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,l.Z)(function*(b){yield b._initializationPromise;const p=Iu(),_=$(mc,b.config.apiKey,b.name);p&&p.setItem(_,b._getPersistence())})).apply(this,arguments)}function Iu(){var b;try{return(null===(b=function fc(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const Wm=ce;class Sa{constructor(){this.browserResolver=Xn(Us),this.cordovaResolver=Xn(Z0),this.underlyingResolver=null,this._redirectPersistence=yr,this._completeRedirectFn=vn,this._overrideRedirectResult=Di}_initialize(p){var _=this;return(0,l.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,_,w,S){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,_,w,S)})()}_openRedirect(p,_,w,S){var O=this;return(0,l.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,_,w,S)})()}_isIframeWebStorageSupported(p,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,_)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Ff()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Wm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const _=yield function Eu(){return rs.apply(this,arguments)}();p.underlyingResolver=_?p.cordovaResolver:p.browserResolver})()}}function Lf(b){return b.unwrap()}function rh(b){return sh(b)}function sh(b){const{_tokenResponse:p}=b instanceof L.ZR?b.customData:b;if(!p)return null;if(!(b instanceof L.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Lo.credentialFromResult(b);const _=p.providerId;if(!_||_===ge.PASSWORD)return null;let w;switch(_){case ge.GOOGLE:w=es;break;case ge.FACEBOOK:w=Ro;break;case ge.GITHUB:w=Zl;break;case ge.TWITTER:w=Wc;break;default:const{oauthIdToken:S,oauthAccessToken:O,oauthTokenSecret:z,pendingToken:Y,nonce:Pe}=p;return O||z||S||Y?Y?_.startsWith("saml.")?Bt._create(_,Y):Ct._fromParams({providerId:_,signInMethod:_,pendingToken:Y,idToken:S,accessToken:O}):new io(_).credential({idToken:S,accessToken:O,rawNonce:Pe}):null}return b instanceof L.ZR?w.credentialFromError(b):w.credentialFromResult(b)}function jr(b,p){return p.catch(_=>{throw _ instanceof L.ZR&&function J0(b,p){var _;const w=null===(_=p.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new X0(b,function vf(b,p){var _;const w=(0,L.m9)(b),S=p;return ce(p.customData.operationType,w,"argument-error"),ce(null===(_=S.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),ha._fromError(w,S)}(b,p));else if(w){const S=sh(p),O=p;S&&(O.credential=S,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(b,_),_}).then(_=>{const S=_.user;return{operationType:_.operationType,credential:rh(_),additionalUserInfo:Dm(_),user:ri.getOrCreate(S)}})}function Uf(b,p){return _c.apply(this,arguments)}function _c(){return(_c=(0,l.Z)(function*(b,p){const _=yield p;return{verificationId:_.verificationId,confirm:w=>jr(b,_.confirm(w))}})).apply(this,arguments)}class X0{constructor(p,_){this.resolver=_,this.auth=function Vf(b){return b.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return jr(Lf(this.auth),this.resolver.resolveSignIn(p))}}class ri{constructor(p){this._delegate=p,this.multiFactor=function fa(b){const p=(0,L.m9)(b);return No.has(p)||No.set(p,ln._fromUser(p)),No.get(p)}(p)}static getOrCreate(p){return ri.USER_MAP.has(p)||ri.USER_MAP.set(p,new ri(p)),ri.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var _=this;return(0,l.Z)(function*(){return jr(_.auth,Ty(_._delegate,p))})()}linkWithPhoneNumber(p,_){var w=this;return(0,l.Z)(function*(){return Uf(w.auth,function Ln(b,p,_){return ut.apply(this,arguments)}(w._delegate,p,_))})()}linkWithPopup(p){var _=this;return(0,l.Z)(function*(){return jr(_.auth,function Vm(b,p,_){return ya.apply(this,arguments)}(_._delegate,p,Sa))})()}linkWithRedirect(p){var _=this;return(0,l.Z)(function*(){return yield ih(ni(_.auth)),oc(_._delegate,p,Sa)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var _=this;return(0,l.Z)(function*(){return jr(_.auth,xy(_._delegate,p))})()}reauthenticateWithPhoneNumber(p,_){return Uf(this.auth,function xi(b,p,_){return uu.apply(this,arguments)}(this._delegate,p,_))}reauthenticateWithPopup(p){return jr(this.auth,function du(b,p,_){return tl.apply(this,arguments)}(this._delegate,p,Sa))}reauthenticateWithRedirect(p){var _=this;return(0,l.Z)(function*(){return yield ih(ni(_.auth)),Vs(_._delegate,p,Sa)})()}sendEmailVerification(p){return function Po(b,p){return Xl.apply(this,arguments)}(this._delegate,p)}unlink(p){var _=this;return(0,l.Z)(function*(){return yield function oa(b,p){return Nr.apply(this,arguments)}(_._delegate,p),_})()}updateEmail(p){return function _f(b,p){return xm((0,L.m9)(b),p,null)}(this._delegate,p)}updatePassword(p){return function Jc(b,p){return xm((0,L.m9)(b),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function so(b,p){return yn.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Sy(b,p){return Rd.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,_){return function mf(b,p,_){return Qc.apply(this,arguments)}(this._delegate,p,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ri.USER_MAP=new WeakMap;const Aa=ce;let Bf=(()=>{class b{constructor(_,w){if(this.app=_,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=_.options;Aa(S,"invalid-api-key",{appName:_.name}),Aa(S,"invalid-api-key",{appName:_.name});const O=typeof window<"u"?Sa:void 0;this._delegate=w.initialize({options:{persistence:Er(S,_.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ri.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,w){!function mr(b,p,_){const w=ni(b);ce(w._canInitEmulator,w,"emulator-config-failed"),ce(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!_?.disableWarnings,O=ta(p),{host:z,port:Y}=function jc(b){const p=ta(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const O=S[1];return{host:O,port:nf(w.substr(O.length+1))}}{const[O,z]=w.split(":");return{host:O,port:nf(z)}}}(p);w.config.emulator={url:`${O}//${z}${null===Y?"":`:${Y}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:z,port:Y,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Ey(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,w)}applyActionCode(_){return function hf(b,p){return ts.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return di(this._delegate,_)}confirmPasswordReset(_,w){return function aa(b,p,_){return Ns.apply(this,arguments)}(this._delegate,_,w)}createUserWithEmailAndPassword(_,w){var S=this;return(0,l.Z)(function*(){return jr(S._delegate,function Dd(b,p,_){return Yl.apply(this,arguments)}(S._delegate,_,w))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function Jl(b,p){return ua.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function pf(b,p){const _=kn.parseLink(p);return"EMAIL_SIGNIN"===_?.operation}(0,_)}getRedirectResult(){var _=this;return(0,l.Z)(function*(){Aa(Zm(),_._delegate,"operation-not-supported-in-this-environment");const w=yield function Zi(b,p){return Bo.apply(this,arguments)}(_._delegate,Sa);return w?jr(_._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function WI(b,p){ni(b)._logFramework(p)}(this._delegate,_)}onAuthStateChanged(_,w,S){const{next:O,error:z,complete:Y}=oh(_,w,S);return this._delegate.onAuthStateChanged(O,z,Y)}onIdTokenChanged(_,w,S){const{next:O,error:z,complete:Y}=oh(_,w,S);return this._delegate.onIdTokenChanged(O,z,Y)}sendSignInLinkToEmail(_,w){return function Wa(b,p,_){return Ql.apply(this,arguments)}(this._delegate,_,w)}sendPasswordResetEmail(_,w){return function B0(b,p,_){return Kl.apply(this,arguments)}(this._delegate,_,w||void 0)}setPersistence(_){var w=this;return(0,l.Z)(function*(){let S;switch(function Da(b,p){pc(Object.values(Br).includes(p),b,"invalid-persistence-type"),(0,L.b$)()?pc(p!==Br.SESSION,b,"unsupported-persistence-type"):(0,L.UG)()?pc(p===Br.NONE,b,"unsupported-persistence-type"):wu()?pc(p===Br.NONE||p===Br.LOCAL&&(0,L.hl)(),b,"unsupported-persistence-type"):pc(p===Br.NONE||Q0(),b,"unsupported-persistence-type")}(w._delegate,_),_){case Br.SESSION:S=yr;break;case Br.LOCAL:S=(yield Xn(ma)._isAvailable())?ma:Qa;break;case Br.NONE:S=Yr;break;default:return be("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return jr(this._delegate,function ji(b){return Cm.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return jr(this._delegate,Id(this._delegate,_))}signInWithCustomToken(_){return jr(this._delegate,function df(b,p){return ro.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,w){return jr(this._delegate,function ff(b,p,_){return Id((0,L.m9)(b),ra.credential(p,_))}(this._delegate,_,w))}signInWithEmailLink(_,w){return jr(this._delegate,function Ci(b,p,_){return Sd.apply(this,arguments)}(this._delegate,_,w))}signInWithPhoneNumber(_,w){return Uf(this._delegate,function Lr(b,p,_){return Xa.apply(this,arguments)}(this._delegate,_,w))}signInWithPopup(_){var w=this;return(0,l.Z)(function*(){return Aa(Zm(),w._delegate,"operation-not-supported-in-this-environment"),jr(w._delegate,function el(b,p,_){return Vo.apply(this,arguments)}(w._delegate,_,Sa))})()}signInWithRedirect(_){var w=this;return(0,l.Z)(function*(){return Aa(Zm(),w._delegate,"operation-not-supported-in-this-environment"),yield ih(w._delegate),Xt(w._delegate,_,Sa)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function _r(b,p){return ca.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Br,b})();function oh(b,p,_){let w=b;"function"!=typeof b&&({next:w,error:p,complete:_}=b);const S=w;return{next:z=>S(z&&ri.getOrCreate(z)),error:p,complete:_}}function Er(b,p){const _=function gc(b,p){const _=Iu();if(!_)return[];const w=$(mc,b,p);switch(_.getItem(w)){case Br.NONE:return[Yr];case Br.LOCAL:return[ma,yr];case Br.SESSION:return[yr];default:return[]}}(b,p);if(typeof self<"u"&&!_.includes(ma)&&_.push(ma),typeof window<"u")for(const w of[Qa,yr])_.includes(w)||_.push(w);return _.includes(Yr)||_.push(Yr),_}class ul{constructor(){this.providerId="phone",this._delegate=new Lo(Lf(X.Z.auth()))}static credential(p,_){return Lo.credential(p,_)}verifyPhoneNumber(p,_){return this._delegate.verifyPhoneNumber(p,_)}unwrap(){return this._delegate}}ul.PHONE_SIGN_IN_METHOD=Lo.PHONE_SIGN_IN_METHOD,ul.PROVIDER_ID=Lo.PROVIDER_ID;const Km=ce;class $y{constructor(p,_,w=X.Z.app()){var S;Km(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Sf(p,_,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ew(b){b.INTERNAL.registerComponent(new _e.wA("auth-compat",p=>{const _=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Bf(_,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ra,FacebookAuthProvider:Ro,GithubAuthProvider:Zl,GoogleAuthProvider:es,OAuthProvider:io,SAMLAuthProvider:$a,PhoneAuthProvider:ul,PhoneMultiFactorGenerator:Ny,RecaptchaVerifier:$y,TwitterAuthProvider:Wc,Auth:Bf,AuthCredential:na,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.4.2")}(X.Z)},3106:(ft,Te,N)=>{N.d(Te,{Z:()=>Ke});var l=N(9058),X=N(4537),L=N(534),te=N(7879);class se{constructor(qe,Ve){this._delegate=qe,this.firebase=Ve,(0,L._addComponent)(qe,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=qe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this._delegate.automaticDataCollectionEnabled=qe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(qe=>{this._delegate.checkDestroyed(),qe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(qe,Ve=L._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const pt=this._delegate.container.getProvider(qe);return!pt.isInitialized()&&"EXPLICIT"===(null===(vt=pt.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&pt.initialize(),pt.getImmediate({identifier:Ve})}_removeServiceInstance(qe,Ve=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(qe).clearInstance(Ve)}_addComponent(qe){(0,L._addComponent)(this._delegate,qe)}_addOrOverwriteComponent(qe){(0,L._addOrOverwriteComponent)(this._delegate,qe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ge(){const Oe=function Ne(Oe){const qe={},Ve={__esModule:!0,initializeApp:function re(Fe,Ze={}){const ce=L.initializeApp(Fe,Ze);if((0,l.r3)(qe,ce.name))return qe[ce.name];const Et=new Oe(ce,Ve);return qe[ce.name]=Et,Et},app:pt,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function ne(Fe){const Ze=Fe.name,ce=Ze.replace("-compat","");if(L._registerComponent(Fe)&&"PUBLIC"===Fe.type){const Et=(Gt=pt())=>{if("function"!=typeof Gt[ce])throw _e.create("invalid-app-argument",{appName:Ze});return Gt[ce]()};void 0!==Fe.serviceProps&&(0,l.ZB)(Et,Fe.serviceProps),Ve[ce]=Et,Oe.prototype[ce]=function(...Gt){return this._getService.bind(this,Ze).apply(this,Fe.multipleInstances?Gt:[])}}return"PUBLIC"===Fe.type?Ve[ce]:null},removeApp:function vt(Fe){delete qe[Fe]},useAsService:function xe(Fe,Ze){return"serverAuth"===Ze?null:Ze},modularAPIs:L}};function pt(Fe){if(!(0,l.r3)(qe,Fe=Fe||L._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:Fe});return qe[Fe]}return Ve.default=Ve,Object.defineProperty(Ve,"apps",{get:function be(){return Object.keys(qe).map(Fe=>qe[Fe])}}),pt.App=Oe,Ve}(se);return Oe.INTERNAL=Object.assign(Object.assign({},Oe.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function qe(Ve){(0,l.ZB)(Oe,Ve)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Oe}(),G=new te.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Oe=self.firebase.SDK_VERSION;Oe&&Oe.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=B;!function Ae(Oe){(0,L.registerVersion)("@firebase/app-compat","0.2.13",Oe)}()},534:(ft,Te,N)=>{N.r(Te),N.d(Te,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>So,_DEFAULT_ENTRY_NAME:()=>_t,_addComponent:()=>Nn,_addOrOverwriteComponent:()=>hr,_apps:()=>Mt,_clearComponents:()=>tn,_components:()=>mn,_getProvider:()=>Li,_registerComponent:()=>un,_removeServiceInstance:()=>Ua,deleteApp:()=>ds,getApp:()=>Wr,getApps:()=>Mo,initializeApp:()=>Ao,onLog:()=>pr,registerVersion:()=>_i,setLogLevel:()=>Xn});var l=N(5861),X=N(4537),L=N(7879),te=N(9058);const se=(pe,ie)=>ie.some(ke=>pe instanceof ke);let le,_e;const B=new WeakMap,G=new WeakMap,ee=new WeakMap,Be=new WeakMap,Ae=new WeakMap;let qe={get(pe,ie,ke){if(pe instanceof IDBTransaction){if("done"===ie)return G.get(pe);if("objectStoreNames"===ie)return pe.objectStoreNames||ee.get(pe);if("store"===ie)return ke.objectStoreNames[1]?void 0:ke.objectStore(ke.objectStoreNames[0])}return re(pe[ie])},set:(pe,ie,ke)=>(pe[ie]=ke,!0),has:(pe,ie)=>pe instanceof IDBTransaction&&("done"===ie||"store"===ie)||ie in pe};function pt(pe){return"function"==typeof pe?function vt(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...ie){return pe.apply(be(this),ie),re(B.get(this))}:function(...ie){return re(pe.apply(be(this),ie))}:function(ie,...ke){const ot=pe.call(be(this),ie,...ke);return ee.set(ot,ie.sort?ie.sort():[ie]),re(ot)}}(pe):(pe instanceof IDBTransaction&&function Oe(pe){if(G.has(pe))return;const ie=new Promise((ke,ot)=>{const We=()=>{pe.removeEventListener("complete",Nt),pe.removeEventListener("error",nn),pe.removeEventListener("abort",nn)},Nt=()=>{ke(),We()},nn=()=>{ot(pe.error||new DOMException("AbortError","AbortError")),We()};pe.addEventListener("complete",Nt),pe.addEventListener("error",nn),pe.addEventListener("abort",nn)});G.set(pe,ie)}(pe),se(pe,function Ne(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,qe):pe)}function re(pe){if(pe instanceof IDBRequest)return function Ke(pe){const ie=new Promise((ke,ot)=>{const We=()=>{pe.removeEventListener("success",Nt),pe.removeEventListener("error",nn)},Nt=()=>{ke(re(pe.result)),We()},nn=()=>{ot(pe.error),We()};pe.addEventListener("success",Nt),pe.addEventListener("error",nn)});return ie.then(ke=>{ke instanceof IDBCursor&&B.set(ke,pe)}).catch(()=>{}),Ae.set(ie,pe),ie}(pe);if(Be.has(pe))return Be.get(pe);const ie=pt(pe);return ie!==pe&&(Be.set(pe,ie),Ae.set(ie,pe)),ie}const be=pe=>Ae.get(pe),Fe=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],ce=new Map;function Et(pe,ie){if(!(pe instanceof IDBDatabase)||ie in pe||"string"!=typeof ie)return;if(ce.get(ie))return ce.get(ie);const ke=ie.replace(/FromIndex$/,""),ot=ie!==ke,We=Ze.includes(ke);if(!(ke in(ot?IDBIndex:IDBObjectStore).prototype)||!We&&!Fe.includes(ke))return;const Nt=function(){var nn=(0,l.Z)(function*(ei,...ti){const Vi=this.transaction(ei,We?"readwrite":"readonly");let Os=Vi.store;return ot&&(Os=Os.index(ti.shift())),(yield Promise.all([Os[ke](...ti),We&&Vi.done]))[0]});return function(ti){return nn.apply(this,arguments)}}();return ce.set(ie,Nt),Nt}!function Ve(pe){qe=pe(qe)}(pe=>({...pe,get:(ie,ke,ot)=>Et(ie,ke)||pe.get(ie,ke,ot),has:(ie,ke)=>!!Et(ie,ke)||pe.has(ie,ke)}));class Gt{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(ke=>{if(function Fi(pe){const ie=pe.getComponent();return"VERSION"===ie?.type}(ke)){const ot=ke.getImmediate();return`${ot.library}/${ot.version}`}return null}).filter(ke=>ke).join(" ")}}const dr="@firebase/app",Jn=new L.Yd("@firebase/app"),_t="[DEFAULT]",qt={[dr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Mt=new Map,mn=new Map;function Nn(pe,ie){try{pe.container.addComponent(ie)}catch(ke){Jn.debug(`Component ${ie.name} failed to register with FirebaseApp ${pe.name}`,ke)}}function hr(pe,ie){pe.container.addOrOverwriteComponent(ie)}function un(pe){const ie=pe.name;if(mn.has(ie))return Jn.debug(`There were multiple attempts to register component ${ie}.`),!1;mn.set(ie,pe);for(const ke of Mt.values())Nn(ke,pe);return!0}function Li(pe,ie){const ke=pe.container.getProvider("heartbeat").getImmediate({optional:!0});return ke&&ke.triggerHeartbeat(),pe.container.getProvider(ie)}function Ua(pe,ie,ke=_t){Li(pe,ie).clearInstance(ke)}function tn(){mn.clear()}const $t=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rs{constructor(ie,ke,ot){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},ke),this._name=ke.name,this._automaticDataCollectionEnabled=ke.automaticDataCollectionEnabled,this._container=ot,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}}const So="9.23.0";function Ao(pe,ie={}){let ke=pe;"object"!=typeof ie&&(ie={name:ie});const ot=Object.assign({name:_t,automaticDataCollectionEnabled:!1},ie),We=ot.name;if("string"!=typeof We||!We)throw $t.create("bad-app-name",{appName:String(We)});if(ke||(ke=(0,te.aH)()),!ke)throw $t.create("no-options");const Nt=Mt.get(We);if(Nt){if((0,te.vZ)(ke,Nt.options)&&(0,te.vZ)(ot,Nt.config))return Nt;throw $t.create("duplicate-app",{appName:We})}const nn=new X.H0(We);for(const ti of mn.values())nn.addComponent(ti);const ei=new Rs(ke,ot,nn);return Mt.set(We,ei),ei}function Wr(pe=_t){const ie=Mt.get(pe);if(!ie&&pe===_t&&(0,te.aH)())return Ao();if(!ie)throw $t.create("no-app",{appName:pe});return ie}function Mo(){return Array.from(Mt.values())}function ds(pe){return gi.apply(this,arguments)}function gi(){return(gi=(0,l.Z)(function*(pe){const ie=pe.name;Mt.has(ie)&&(Mt.delete(ie),yield Promise.all(pe.container.getProviders().map(ke=>ke.delete())),pe.isDeleted=!0)})).apply(this,arguments)}function _i(pe,ie,ke){var ot;let We=null!==(ot=qt[pe])&&void 0!==ot?ot:pe;ke&&(We+=`-${ke}`);const Nt=We.match(/\s|\//),nn=ie.match(/\s|\//);if(Nt||nn){const ei=[`Unable to register library "${We}" with version "${ie}":`];return Nt&&ei.push(`library name "${We}" contains illegal characters (whitespace or "/")`),Nt&&nn&&ei.push("and"),nn&&ei.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void Jn.warn(ei.join(" "))}un(new X.wA(`${We}-version`,()=>({library:We,version:ie}),"VERSION"))}function pr(pe,ie){if(null!==pe&&"function"!=typeof pe)throw $t.create("invalid-log-argument");(0,L.Am)(pe,ie)}function Xn(pe){(0,L.Ub)(pe)}const Kr="firebase-heartbeat-database",Yr=1,$="firebase-heartbeat-store";let H=null;function K(){return H||(H=function ne(pe,ie,{blocked:ke,upgrade:ot,blocking:We,terminated:Nt}={}){const nn=indexedDB.open(pe,ie),ei=re(nn);return ot&&nn.addEventListener("upgradeneeded",ti=>{ot(re(nn.result),ti.oldVersion,ti.newVersion,re(nn.transaction),ti)}),ke&&nn.addEventListener("blocked",ti=>ke(ti.oldVersion,ti.newVersion,ti)),ei.then(ti=>{Nt&&ti.addEventListener("close",()=>Nt()),We&&ti.addEventListener("versionchange",Vi=>We(Vi.oldVersion,Vi.newVersion,Vi))}).catch(()=>{}),ei}(Kr,Yr,{upgrade:(pe,ie)=>{0===ie&&pe.createObjectStore($)}}).catch(pe=>{throw $t.create("idb-open",{originalErrorMessage:pe.message})})),H}function ae(){return(ae=(0,l.Z)(function*(pe){try{return yield(yield K()).transaction($).objectStore($).get(It(pe))}catch(ie){if(ie instanceof te.ZR)Jn.warn(ie.message);else{const ke=$t.create("idb-get",{originalErrorMessage:ie?.message});Jn.warn(ke.message)}}})).apply(this,arguments)}function et(pe,ie){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,l.Z)(function*(pe,ie){try{const ot=(yield K()).transaction($,"readwrite");yield ot.objectStore($).put(ie,It(pe)),yield ot.done}catch(ke){if(ke instanceof te.ZR)Jn.warn(ke.message);else{const ot=$t.create("idb-set",{originalErrorMessage:ke?.message});Jn.warn(ot.message)}}})).apply(this,arguments)}function It(pe){return`${pe.name}!${pe.options.appId}`}class Bn{constructor(ie){this.container=ie,this._heartbeatsCache=null;const ke=this.container.getProvider("app").getImmediate();this._storage=new ks(ke),this._heartbeatsCachePromise=this._storage.read().then(ot=>(this._heartbeatsCache=ot,ot))}triggerHeartbeat(){var ie=this;return(0,l.Z)(function*(){const ot=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),We=Qt();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==We&&!ie._heartbeatsCache.heartbeats.some(Nt=>Nt.date===We))return ie._heartbeatsCache.heartbeats.push({date:We,agent:ot}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(Nt=>{const nn=new Date(Nt.date).valueOf();return Date.now()-nn<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,l.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const ke=Qt(),{heartbeatsToSend:ot,unsentEntries:We}=function ui(pe,ie=1024){const ke=[];let ot=pe.slice();for(const We of pe){const Nt=ke.find(nn=>nn.agent===We.agent);if(Nt){if(Nt.dates.push(We.date),Js(ke)>ie){Nt.dates.pop();break}}else if(ke.push({agent:We.agent,dates:[We.date]}),Js(ke)>ie){ke.pop();break}ot=ot.slice(1)}return{heartbeatsToSend:ke,unsentEntries:ot}}(ie._heartbeatsCache.heartbeats),Nt=(0,te.L)(JSON.stringify({version:2,heartbeats:ot}));return ie._heartbeatsCache.lastSentHeartbeatDate=ke,We.length>0?(ie._heartbeatsCache.heartbeats=We,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),Nt})()}}function Qt(){return(new Date).toISOString().substring(0,10)}class ks{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,l.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function Ce(pe){return ae.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var ke=this;return(0,l.Z)(function*(){var ot;if(yield ke._canUseIndexedDBPromise){const Nt=yield ke.read();return et(ke.app,{lastSentHeartbeatDate:null!==(ot=ie.lastSentHeartbeatDate)&&void 0!==ot?ot:Nt.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var ke=this;return(0,l.Z)(function*(){var ot;if(yield ke._canUseIndexedDBPromise){const Nt=yield ke.read();return et(ke.app,{lastSentHeartbeatDate:null!==(ot=ie.lastSentHeartbeatDate)&&void 0!==ot?ot:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...ie.heartbeats]})}})()}}function Js(pe){return(0,te.L)(JSON.stringify({version:2,heartbeats:pe})).length}!function zl(pe){un(new X.wA("platform-logger",ie=>new Gt(ie),"PRIVATE")),un(new X.wA("heartbeat",ie=>new Bn(ie),"PRIVATE")),_i(dr,"0.9.13",pe),_i(dr,"0.9.13","esm2017"),_i("fire-js","")}("")},4537:(ft,Te,N)=>{N.d(Te,{H0:()=>Ne,wA:()=>L,zt:()=>se});var l=N(5861),X=N(9058);class L{constructor(B,G,ee){this.name=B,this.instanceFactory=G,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const te="[DEFAULT]";class se{constructor(B,G){this.name=B,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const G=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(G)){const ee=new X.BH;if(this.instancesDeferred.set(G,ee),this.isInitialized(G)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:G});Be&&ee.resolve(Be)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(B){var G;const ee=this.normalizeInstanceIdentifier(B?.identifier),Be=null!==(G=B?.optional)&&void 0!==G&&G;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ae){if(Be)return null;throw Ae}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function _e(ge){return"EAGER"===ge.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[G,ee]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier(G);try{const Ae=this.getOrInitializeService({instanceIdentifier:Be});ee.resolve(Ae)}catch{}}}}clearInstance(B=te){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,l.Z)(function*(){const G=Array.from(B.instances.values());yield Promise.all([...G.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...G.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=te){return this.instances.has(B)}getOptions(B=te){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:G={}}=B,ee=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:ee,options:G});for(const[Ae,Ke]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ae)&&Ke.resolve(Be);return Be}onInit(B,G){var ee;const Be=this.normalizeInstanceIdentifier(G),Ae=null!==(ee=this.onInitCallbacks.get(Be))&&void 0!==ee?ee:new Set;Ae.add(B),this.onInitCallbacks.set(Be,Ae);const Ke=this.instances.get(Be);return Ke&&B(Ke,Be),()=>{Ae.delete(B)}}invokeOnInitCallbacks(B,G){const ee=this.onInitCallbacks.get(G);if(ee)for(const Be of ee)try{Be(B,G)}catch{}}getOrInitializeService({instanceIdentifier:B,options:G={}}){let ee=this.instances.get(B);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=B,ge===te?void 0:ge),options:G}),this.instances.set(B,ee),this.instancesOptions.set(B,G),this.invokeOnInitCallbacks(ee,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,ee)}catch{}var ge;return ee||null}normalizeInstanceIdentifier(B=te){return this.component?this.component.multipleInstances?B:te:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ne{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const G=this.getProvider(B.name);if(G.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);G.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const G=new se(B,this);return this.providers.set(B,G),G}getProviders(){return Array.from(this.providers.values())}}},7879:(ft,Te,N)=>{N.d(Te,{Am:()=>ge,Ub:()=>Ne,Yd:()=>_e,in:()=>X});const l=[];var X=function(B){return B[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B}(X||{});const L={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},te=X.INFO,se={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},le=(B,G,...ee)=>{if(G<B.logLevel)return;const Be=(new Date).toISOString(),Ae=se[G];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ae](`[${Be}]  ${B.name}:`,...ee)};class _e{constructor(G){this.name=G,this._logLevel=te,this._logHandler=le,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in X))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?L[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...G),this._logHandler(this,X.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...G),this._logHandler(this,X.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,X.INFO,...G),this._logHandler(this,X.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,X.WARN,...G),this._logHandler(this,X.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...G),this._logHandler(this,X.ERROR,...G)}}function Ne(B){l.forEach(G=>{G.setLogLevel(B)})}function ge(B,G){for(const ee of l){let Be=null;G&&G.level&&(Be=L[G.level]),ee.userLogHandler=null===B?null:(Ae,Ke,...Oe)=>{const qe=Oe.map(Ve=>{if(null==Ve)return null;if("string"==typeof Ve)return Ve;if("number"==typeof Ve||"boolean"==typeof Ve)return Ve.toString();if(Ve instanceof Error)return Ve.message;try{return JSON.stringify(Ve)}catch{return null}}).filter(Ve=>Ve).join(" ");Ke>=(Be??Ae.logLevel)&&B({level:X[Ke].toLowerCase(),message:qe,args:Oe,type:Ae.name})}}}},5861:(ft,Te,N)=>{function l(L,te,se,le,_e,Ne,ge){try{var B=L[Ne](ge),G=B.value}catch(ee){return void se(ee)}B.done?te(G):Promise.resolve(G).then(le,_e)}function X(L){return function(){var te=this,se=arguments;return new Promise(function(le,_e){var Ne=L.apply(te,se);function ge(G){l(Ne,le,_e,ge,B,"next",G)}function B(G){l(Ne,le,_e,ge,B,"throw",G)}ge(void 0)})}}N.d(Te,{Z:()=>X})},7582:(ft,Te,N)=>{function te(ue,me){var we={};for(var Ee in ue)Object.prototype.hasOwnProperty.call(ue,Ee)&&me.indexOf(Ee)<0&&(we[Ee]=ue[Ee]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(Ee=Object.getOwnPropertySymbols(ue);Ie<Ee.length;Ie++)me.indexOf(Ee[Ie])<0&&Object.prototype.propertyIsEnumerable.call(ue,Ee[Ie])&&(we[Ee[Ie]]=ue[Ee[Ie]])}return we}function ee(ue,me,we,Ee){return new(we||(we=Promise))(function(Se,st){function $e(en){try{gt(Ee.next(en))}catch(Pt){st(Pt)}}function Un(en){try{gt(Ee.throw(en))}catch(Pt){st(Pt)}}function gt(en){en.done?Se(en.value):function Ie(Se){return Se instanceof we?Se:new we(function(st){st(Se)})}(en.value).then($e,Un)}gt((Ee=Ee.apply(ue,me||[])).next())})}function re(ue){return this instanceof re?(this.v=ue,this):new re(ue)}function be(ue,me,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,Ee=we.apply(ue,me||[]),Se=[];return Ie={},st("next"),st("throw"),st("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie;function st(Sn){Ee[Sn]&&(Ie[Sn]=function(An){return new Promise(function(mi,fn){Se.push([Sn,An,mi,fn])>1||$e(Sn,An)})})}function $e(Sn,An){try{!function Un(Sn){Sn.value instanceof re?Promise.resolve(Sn.value.v).then(gt,en):Pt(Se[0][2],Sn)}(Ee[Sn](An))}catch(mi){Pt(Se[0][3],mi)}}function gt(Sn){$e("next",Sn)}function en(Sn){$e("throw",Sn)}function Pt(Sn,An){Sn(An),Se.shift(),Se.length&&$e(Se[0][0],Se[0][1])}}function xe(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,me=ue[Symbol.asyncIterator];return me?me.call(ue):(ue=function Oe(ue){var me="function"==typeof Symbol&&Symbol.iterator,we=me&&ue[me],Ee=0;if(we)return we.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Ee>=ue.length&&(ue=void 0),{value:ue&&ue[Ee++],done:!ue}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),we={},Ee("next"),Ee("throw"),Ee("return"),we[Symbol.asyncIterator]=function(){return this},we);function Ee(Se){we[Se]=ue[Se]&&function(st){return new Promise(function($e,Un){!function Ie(Se,st,$e,Un){Promise.resolve(Un).then(function(gt){Se({value:gt,done:$e})},st)}($e,Un,(st=ue[Se](st)).done,st.value)})}}}N.d(Te,{FC:()=>be,KL:()=>xe,_T:()=>te,mG:()=>ee,qq:()=>re}),"function"==typeof SuppressedError&&SuppressedError}},ft=>{ft(ft.s=1564)}]);